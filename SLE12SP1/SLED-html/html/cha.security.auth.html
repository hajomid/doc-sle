<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Authentication Server and Client | Security Guide | SUSE Linux Enterprise Desktop 12 SP1</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="product-name" content="SUSE Linux Enterprise Desktop" /><meta name="product-number" content="12 SP1" /><meta name="book-title" content="Security Guide" /><meta name="chapter-title" content="Chapter 4. Authentication Server and Client" /><meta name="description" content="The Authentication Server is based on LDAP and optionally Kerberos. On SUSE Linux Enterprise Server, you can configure it with a YaST wizard. For more information about LDAP, see , and about Kerberos, see ." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Desktop 12 SP1 (SLED 12 SP1)" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Desktop Documentation" /><link rel="up" href="part.auth.html" title="Part I. Authentication" /><link rel="prev" href="cha.nis.html" title="Chapter 3. Using NIS" /><link rel="next" href="cha.security.ldap.html" title="Chapter 5. LDAP—A Directory Service" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.security.html">Security Guide</a><span> › </span><a class="crumb" href="part.auth.html">Authentication</a><span> › </span><a class="crumb" href="cha.security.auth.html">Authentication Server and Client</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Security Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface.security.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="cha.security.html"><span class="number">1 </span><span class="name">Security and Confidentiality</span></a></li><li class="inactive"><a href="part.auth.html"><span class="number">I </span><span class="name">Authentication</span></a><ol><li class="inactive"><a href="cha.pam.html"><span class="number">2 </span><span class="name">Authentication with PAM</span></a></li><li class="inactive"><a href="cha.nis.html"><span class="number">3 </span><span class="name">Using NIS</span></a></li><li class="inactive"><a href="cha.security.auth.html"><span class="number">4 </span><span class="name">Authentication Server and Client</span></a></li><li class="inactive"><a href="cha.security.ldap.html"><span class="number">5 </span><span class="name">LDAP—A Directory Service</span></a></li><li class="inactive"><a href="cha.security.ad.html"><span class="number">6 </span><span class="name">Active Directory Support</span></a></li><li class="inactive"><a href="cha.security.kerberos.html"><span class="number">7 </span><span class="name">Network Authentication with Kerberos</span></a></li></ol></li><li class="inactive"><a href="part.local_security.html"><span class="number">II </span><span class="name">Local Security</span></a><ol><li class="inactive"><a href="cha.security.yast_security.html"><span class="number">8 </span><span class="name">Configuring Security Settings with YaST</span></a></li><li class="inactive"><a href="cha.security.policykit.html"><span class="number">9 </span><span class="name">Authorization with PolKit</span></a></li><li class="inactive"><a href="cha.security.acls.html"><span class="number">10 </span><span class="name">Access Control Lists in Linux</span></a></li><li class="inactive"><a href="cha.security.cryptofs.html"><span class="number">11 </span><span class="name">Encrypting Partitions and Files</span></a></li><li class="inactive"><a href="cha.certstore.html"><span class="number">12 </span><span class="name">Certificate Store</span></a></li><li class="inactive"><a href="cha.aide.html"><span class="number">13 </span><span class="name">Intrusion Detection with AIDE</span></a></li></ol></li><li class="inactive"><a href="part.network_security.html"><span class="number">III </span><span class="name">Network Security</span></a><ol><li class="inactive"><a href="cha.ssh.html"><span class="number">14 </span><span class="name">SSH: Secure Network Operations</span></a></li><li class="inactive"><a href="cha.security.firewall.html"><span class="number">15 </span><span class="name">Masquerading and Firewalls</span></a></li><li class="inactive"><a href="cha.security.vpnserver.html"><span class="number">16 </span><span class="name">Configuring a VPN Server</span></a></li><li class="inactive"><a href="cha.security.yast_ca.html"><span class="number">17 </span><span class="name">Managing X.509 Certification</span></a></li></ol></li><li class="inactive"><a href="part.apparmor.html"><span class="number">IV </span><span class="name">Confining Privileges with <span class="phrase">AppArmor</span></span></a><ol><li class="inactive"><a href="cha.apparmor.intro.html"><span class="number">18 </span><span class="name">Introducing <span class="phrase">AppArmor</span></span></a></li><li class="inactive"><a href="cha.apparmor.start.html"><span class="number">19 </span><span class="name">Getting Started</span></a></li><li class="inactive"><a href="cha.apparmor.concept.html"><span class="number">20 </span><span class="name">Immunizing Programs</span></a></li><li class="inactive"><a href="cha.apparmor.profiles.html"><span class="number">21 </span><span class="name">Profile Components and Syntax</span></a></li><li class="inactive"><a href="cha.apparmor.repos.html"><span class="number">22 </span><span class="name"><span class="phrase">AppArmor</span> Profile Repositories</span></a></li><li class="inactive"><a href="cha.apparmor.yast.html"><span class="number">23 </span><span class="name">Building and Managing Profiles with YaST</span></a></li><li class="inactive"><a href="cha.apparmor.commandline.html"><span class="number">24 </span><span class="name">Building Profiles from the Command Line</span></a></li><li class="inactive"><a href="cha.apparmor.hat.html"><span class="number">25 </span><span class="name">Profiling Your Web Applications Using ChangeHat</span></a></li><li class="inactive"><a href="cha.apparmor.pam.html"><span class="number">26 </span><span class="name">Confining Users with <code class="systemitem">pam_apparmor</code></span></a></li><li class="inactive"><a href="cha.apparmor.managing.html"><span class="number">27 </span><span class="name">Managing Profiled Applications</span></a></li><li class="inactive"><a href="cha.apparmor.support.html"><span class="number">28 </span><span class="name">Support</span></a></li><li class="inactive"><a href="cha.apparmor.glossary.html"><span class="number">29 </span><span class="name"><span class="phrase">AppArmor</span> Glossary</span></a></li></ol></li><li class="inactive"><a href="part.audit.html"><span class="number">V </span><span class="name"><em class="citetitle ">The Linux Audit Framework</em></span></a><ol><li class="inactive"><a href="cha.audit.comp.html"><span class="number">30 </span><span class="name">Understanding Linux Audit</span></a></li><li class="inactive"><a href="cha.audit.setup.html"><span class="number">31 </span><span class="name">Setting Up the Linux Audit Framework</span></a></li><li class="inactive"><a href="cha.audit.scenarios.html"><span class="number">32 </span><span class="name">Introducing an Audit Rule Set</span></a></li><li class="inactive"><a href="cha.audit.moreinfo.html"><span class="number">33 </span><span class="name">Useful Resources</span></a></li></ol></li><li class="inactive"><a href="app.security.docupdates.html"><span class="number">A </span><span class="name">Documentation Updates</span></a></li><li class="inactive"><a href="bk04apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 3. Using NIS" href="cha.nis.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 5. LDAP—A Directory Service" href="cha.security.ldap.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.security.html">Security Guide</a><span> › </span><a class="crumb" href="part.auth.html">Authentication</a><span> › </span><a class="crumb" href="cha.security.auth.html">Authentication Server and Client</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 3. Using NIS" href="cha.nis.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 5. LDAP—A Directory Service" href="cha.security.ldap.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.security.auth"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">12 SP1</span></span></span></div><div><h2 class="title"><span class="number">4 </span><span class="name">Authentication Server and Client</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>security_auth.xml</li><li><span class="ds-label">ID: </span>cha.security.auth</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha.security.auth.html#idm140318352709696">#</a></h6></div><p>
    The Authentication Server is based on LDAP and optionally Kerberos. On
    SUSE Linux Enterprise Server, you can configure it with a YaST wizard.
   </p><p>
    For more information about LDAP, see
    <a class="xref" href="cha.security.ldap.html" title="Chapter 5. LDAP—A Directory Service">Chapter 5, <em>LDAP—A Directory Service</em></a>, and about Kerberos, see
    <a class="xref" href="cha.security.kerberos.html" title="Chapter 7. Network Authentication with Kerberos">Chapter 7, <em>Network Authentication with Kerberos</em></a>.
   </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.security.auth.html#sec.security.auth.yast-sled"><span class="number">4.1 </span><span class="name">Configuring an Authentication Server</span></a></span></dt><dt><span class="sect1"><a href="cha.security.auth.html#sec.security.auth.yast.client"><span class="number">4.2 </span><span class="name">Configuring an Authentication Client with YaST (SSSD)</span></a></span></dt></dl></div></div><div class="sect1 " id="sec.security.auth.yast-sled"><div class="titlepage"><div><div><h2 class="title" id="sec.security.auth.yast-sled"><span class="number">4.1 </span><span class="name">Configuring an Authentication Server</span> <a title="Permalink" class="permalink" href="cha.security.auth.html#sec.security.auth.yast-sled">#</a></h2></div></div></div><p>
   For configuring an Authentication Server, see the SUSE Linux Enterprise Server documentation.
  </p></div><div class="sect1 " id="sec.security.auth.yast.client"><div class="titlepage"><div><div><h2 class="title" id="sec.security.auth.yast.client"><span class="number">4.2 </span><span class="name">Configuring an Authentication Client with YaST (SSSD)</span> <a title="Permalink" class="permalink" href="cha.security.auth.html#sec.security.auth.yast.client">#</a></h2></div></div></div><a id="idm140318352702672" class="indexterm"></a><a id="idm140318352701200" class="indexterm"></a><a id="idm140318352699728" class="indexterm"></a><a id="idm140318352698256" class="indexterm"></a><p>
   YaST includes the <span class="guimenu">Authentication Client</span> module that
   helps with defining authentication scenarios. Start the module by
   selecting <span class="guimenu">Network Services</span> › <span class="guimenu">Authentication Client</span>. The YaST
   Authentication Client is a shell for configuring the System Security
   Services Daemon (SSSD). SSSD then can talk to remote directory services
   that provide user data, and provide various authentication methods. This
   way, the host can be both, an LDAP or an Active Directory (AD) client.
   SSSD can locally cache these user data and then allow users to use of the
   data, even if the real directory service is (temporarily) unreachable. An
   NSS (Name Service Switch) and PAM (Pluggable Authentication Module)
   interface are also available.
  </p><div class="figure" id="fig.yast2.auth.client.cfg"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_auth_client_config.png"><img src="images/yast2_auth_client_config.png" width="" alt="Authentication Client Configuration" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 4.1: </span><span class="name">Authentication Client Configuration </span><a title="Permalink" class="permalink" href="cha.security.auth.html#fig.yast2.auth.client.cfg">#</a></h6></div></div><p>
   First you must configure at least one authentication domain. A
   authentication domain is a database that contains user information. Click
   <span class="guimenu">New Service/Domain</span>, select <span class="guimenu">Domain</span>,
   and as the <span class="guimenu">Domain Name</span> of the new domain enter an
   arbitrary name (alphanumeric ASCII characters, dashes, and underscores
   are allowed). Then select one of the available identification providers
   and finally select the authentication provider to be used for that
   domain. For example, if you want to access an LDAP directory with
   kerberos authentication, select <code class="literal">ldap</code> as the
   <span class="guimenu">identification provider</span> and <code class="literal">krb5</code> as
   the <span class="guimenu">authentication provider</span> and leave
   <span class="guimenu">Activate Domain</span> enabled (see
   <a class="xref" href="cha.security.auth.html#fig.yast2.auth.client.new_domain.ldap_krb5" title="Authentication Client: Adding New Domain (LDAP and Kerberos)">Figure 4.2, “Authentication Client: Adding New Domain (LDAP and Kerberos)”</a>).
  </p><div class="figure" id="fig.yast2.auth.client.new_domain.ldap_krb5"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_auth_client_new_domain_ldap_krb5.png"><img src="images/yast2_auth_client_new_domain_ldap_krb5.png" width="" alt="Authentication Client: Adding New Domain (LDAP and Kerberos)" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 4.2: </span><span class="name">Authentication Client: Adding New Domain (LDAP and Kerberos) </span><a title="Permalink" class="permalink" href="cha.security.auth.html#fig.yast2.auth.client.new_domain.ldap_krb5">#</a></h6></div></div><p>
   In the next step you see that <span class="guimenu">id_provider</span> and
   <span class="guimenu">auth_provider</span> are properly selected. Now you need to
   set some mandatory parameters for these providers. In the LDAP/Kerberbos
   scenario for example, <code class="literal">ldap://ldap.example.com</code> as the
   <span class="guimenu">URIs of LDAP Servers</span>, the IP address of the Kerberbos
   server (<code class="literal">192.168.1.114</code> as <span class="guimenu">IP address or host
   names of Kerberos servers</span>), and <code class="literal">EXAMPLE.COM</code>
   as <span class="guimenu">Kerberos realm</span> (normally, your Kerberbos realm is
   your domain name in uppercase letters). Then confirm.
  </p><div class="figure" id="fig.yast2.auth.client.new_domain.ldap_krb5.options"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_auth_client_new_domain_ldap_krb5_options.png"><img src="images/yast2_auth_client_new_domain_ldap_krb5_options.png" width="" alt="Authentication Client: Mandatory Parameters (LDAP and Kerberos)" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 4.3: </span><span class="name">Authentication Client: Mandatory Parameters (LDAP and Kerberos) </span><a title="Permalink" class="permalink" href="cha.security.auth.html#fig.yast2.auth.client.new_domain.ldap_krb5.options">#</a></h6></div></div><p>
   For more information and additional configuration option the SSSD man
   pages such as <code class="literal">sssd.conf</code> (<code class="command">man
   sssd.conf</code>) and <code class="literal">sssd-ldap</code> (<code class="command">man
   sssd-ldap</code>). It is also possible to select later all parameters
   available for the selected identification and authentication providers.
  </p><div id="idm140318352665376" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: TLS</h6><p>
    If you use LDAP, TLS is mandatory. Do not select
    <code class="literal">ldap_tls_reqcert</code>, if an official certificate is not
    available.
   </p></div><p>
   SSSD provides following identification providers:
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140318352662720"><span class="term "><code class="literal">proxy</code>
    </span></dt><dd><p>
      Support a legacy NSS provider.
     </p></dd><dt id="idm140318352660608"><span class="term "><code class="literal">local</code>
    </span></dt><dd><p>
      SSSD internal provider for local users.
     </p></dd><dt id="idm140318352658496"><span class="term "><code class="literal">ldap</code>
    </span></dt><dd><p>
      LDAP provider. See sssd-ldap(5) for more information on configuring
      LDAP.
     </p></dd><dt id="idm140318352656336"><span class="term "><code class="literal">ipa</code>
    </span></dt><dd><p>
      FreeIPA and Red Hat Enterprise Identity Management provider.
     </p></dd><dt id="idm140318352654192"><span class="term "><code class="literal">ad</code>
    </span></dt><dd><p>
      Active Directory provider.
     </p></dd></dl></div><p>
   Supported authentication providers are:
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140318352651168"><span class="term "><code class="literal">ldap</code>
    </span></dt><dd><p>
      Native LDAP authentication.
     </p></dd><dt id="idm140318352649056"><span class="term "><code class="literal">krb5</code>
    </span></dt><dd><p>
      Kerberos authentication.
     </p></dd><dt id="idm140318352646960"><span class="term "><code class="literal">ipa</code>
    </span></dt><dd><p>
      FreeIPA and Red Hat Enterprise Identity Management provider.
     </p></dd><dt id="idm140318352644816"><span class="term "><code class="literal">ad</code>
    </span></dt><dd><p>
      Active Directory provider.
     </p></dd><dt id="idm140318352642720"><span class="term "><code class="literal">proxy</code>
    </span></dt><dd><p>
      Relaying authentication to some other PAM target.
     </p></dd><dt id="idm140318352640592"><span class="term "><code class="literal">none</code>
    </span></dt><dd><p>
      Disables authentication explicitly.
     </p></dd></dl></div><p>
   If you enter more than one authentication domain, SSSD will query one
   after the one in the order they appear in the
   <code class="filename">/etc/sssd/sssd.conf</code> configuration file. If a domain
   is rarely used and you need to avoid waiting for the timeout, remove it
   from the <span class="guimenu">Domains</span> list of the <span class="guimenu">sssd</span>
   section.
  </p><p>
   Clicking one of the listed <span class="guimenu">Services</span> at the left side,
   allows you to edit <code class="filename">sssd.conf</code> sections such as
   <span class="guimenu">nss</span> or <span class="guimenu">pam</span>.
  </p><p>
   If you click <span class="guimenu">OK</span> in the main <span class="guimenu">Authentication
   Client</span> dialog, YaST will enable and start the SSSD service.
   You can check it on the command line with:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="command">systemctl status sssd</code>
sssd.service - System Security Services Daemon
   Loaded: loaded (/usr/lib/systemd/system/sssd.service; enabled)
   Active: active (running) since Thu 2015-10-23 11:03:43 CEST; 5s ago
   ...</pre></div><p>
   In order to allow login when the authentication backend is
   unavailable, SSSD will continue to use its cache even if it was
   invalidated. SSSD still operates until the backend is available again.
  </p><p>
   To invalidate the cache, run <code class="command">sssd_cache</code>
   <code class="option">-E</code>.
  </p><p>
   To completely remove the SSSD cache, run:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="command">systemctl</code> stop sssd
<code class="command">rm</code> -f /var/lib/sss/db/*
<code class="command">systemctl</code> start sssd</pre></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.security.ldap.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 5 </span>LDAP—A Directory Service</span></a><a class="nav-link" href="cha.nis.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 3 </span>Using NIS</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>