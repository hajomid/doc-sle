<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Automated Installation | Deployment Guide | SUSE Linux Enterprise Desktop 12 SP1</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="product-name" content="SUSE Linux Enterprise Desktop" /><meta name="product-number" content="12 SP1" /><meta name="book-title" content="Deployment Guide" /><meta name="chapter-title" content="Chapter 22. Automated Installation" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Desktop 12 SP1 (SLED 12 SP1)" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Desktop Documentation" /><link rel="up" href="part.autoinstall.html" title="Part IV. Automated Installations" /><link rel="prev" href="part.autoinstall.html" title="Part IV. Automated Installations" /><link rel="next" href="cha.autokiwi.html" title="Chapter 23. Automated Deployment of Preload Images" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.sle.deployment.html">Deployment Guide</a><span> › </span><a class="crumb" href="part.autoinstall.html">Automated Installations</a><span> › </span><a class="crumb" href="cha.deployment.autoinst.html">Automated Installation</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Deployment Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface.deployment.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="cha.sled_plan.html"><span class="number">1 </span><span class="name">Planning for SUSE Linux Enterprise Desktop</span></a></li><li class="inactive"><a href="part.mandeploy.html"><span class="number">I </span><span class="name">Manual Deployment</span></a><ol><li class="inactive"><a href="cha.deployment.html"><span class="number">2 </span><span class="name">Deployment Strategies</span></a></li><li class="inactive"><a href="cha.inst.html"><span class="number">3 </span><span class="name">Installation with YaST</span></a></li><li class="inactive"><a href="cha.y2.hw.html"><span class="number">4 </span><span class="name">Setting Up Hardware Components with YaST</span></a></li><li class="inactive"><a href="cha.y2.sw.html"><span class="number">5 </span><span class="name">Installing or Removing Software</span></a></li><li class="inactive"><a href="cha.add-ons.html"><span class="number">6 </span><span class="name">Installing Modules, Extensions, and Third Party Add-On Products</span></a></li><li class="inactive"><a href="cha.tuning.multikernel.html"><span class="number">7 </span><span class="name">Installing Multiple Kernel Versions</span></a></li><li class="inactive"><a href="cha.y2.userman.html"><span class="number">8 </span><span class="name">Managing Users with YaST</span></a></li><li class="inactive"><a href="cha.y2.lang.html"><span class="number">9 </span><span class="name">Changing Language and Country Settings with YaST</span></a></li><li class="inactive"><a href="cha.deployment.remoteinst.html"><span class="number">10 </span><span class="name">Remote Installation</span></a></li><li class="inactive"><a href="cha.advdisk.html"><span class="number">11 </span><span class="name">Advanced Disk Setup</span></a></li></ol></li><li class="inactive"><a href="part.update.html"><span class="number">II </span><span class="name">Updating and Upgrading SUSE Linux Enterprise</span></a><ol><li class="inactive"><a href="cha.update.background.html"><span class="number">12 </span><span class="name">Life Cycle and Support</span></a></li><li class="inactive"><a href="cha.update.backporting.html"><span class="number">13 </span><span class="name">Backporting Source Code</span></a></li><li class="inactive"><a href="cha.update.sle.html"><span class="number">14 </span><span class="name">Upgrading SUSE Linux Enterprise</span></a></li><li class="inactive"><a href="cha.update.spmigration.html"><span class="number">15 </span><span class="name">Service Pack Migration</span></a></li></ol></li><li class="inactive"><a href="part.imaging.html"><span class="number">III </span><span class="name">Imaging and Creating Products</span></a><ol><li class="inactive"><a href="cha.kiwi.pointer.html"><span class="number">16 </span><span class="name">Creating Images with KIWI</span></a></li><li class="inactive"><a href="cha.studio.pointer.html"><span class="number">17 </span><span class="name">Creating Images with SUSE Studio</span></a></li><li class="inactive"><a href="cha.addon_creator.html"><span class="number">18 </span><span class="name">Creating Add-on Products With Add-on Product Creator</span></a></li><li class="inactive"><a href="cha.productcreator.html"><span class="number">19 </span><span class="name">Creating Images with YaST Product Creator</span></a></li><li class="inactive"><a href="cha.imgcreator.html"><span class="number">20 </span><span class="name">Creating Images with YaST Image Creator</span></a></li><li class="inactive"><a href="cha.deployment_firstboot.html"><span class="number">21 </span><span class="name">Deploying Customized Preinstallations</span></a></li></ol></li><li class="inactive"><a href="part.autoinstall.html"><span class="number">IV </span><span class="name">Automated Installations</span></a><ol><li class="inactive"><a href="cha.deployment.autoinst.html"><span class="number">22 </span><span class="name">Automated Installation</span></a></li><li class="inactive"><a href="cha.autokiwi.html"><span class="number">23 </span><span class="name">Automated Deployment of Preload Images</span></a></li></ol></li><li class="inactive"><a href="app.deployment.docupdates.html"><span class="number">A </span><span class="name">Documentation Updates</span></a></li><li class="inactive"><a href="bk02apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Part IV. Automated Installations" href="part.autoinstall.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 23. Automated Deployment of Preload Images" href="cha.autokiwi.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.sle.deployment.html">Deployment Guide</a><span> › </span><a class="crumb" href="part.autoinstall.html">Automated Installations</a><span> › </span><a class="crumb" href="cha.deployment.autoinst.html">Automated Installation</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Part IV. Automated Installations" href="part.autoinstall.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 23. Automated Deployment of Preload Images" href="cha.autokiwi.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.deployment.autoinst"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">12 SP1</span></span></span></div><div><h2 class="title"><span class="number">22 </span><span class="name">Automated Installation</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>deployment_auto.xml</li><li><span class="ds-label">ID: </span>cha.deployment.autoinst</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple"><span class="number">22.1 </span><span class="name">Simple Mass Installation</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.autoinst.html#sec.deployment.autoinst.advanced"><span class="number">22.2 </span><span class="name">Rule-Based Autoinstallation</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.autoinst.html#sec.deployment.autoinst.moreinfo"><span class="number">22.3 </span><span class="name">For More Information</span></a></span></dt></dl></div></div><p>
  AutoYaST allows you to install SUSE® Linux Enterprise on a large number of machines in
  parallel. The AutoYaST technology offers great flexibility to adjust
  deployments to heterogeneous hardware. This chapter tells you how to
  prepare a simple automated installation and lay out an advanced scenario
  involving different hardware types and installation purposes.
 </p><div class="sect1 " id="sec.deployment.autoinst.simple"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.autoinst.simple"><span class="number">22.1 </span><span class="name">Simple Mass Installation</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple">#</a></h2></div></div></div><div id="idm140318359088736" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Identical Hardware</h6><p>
    This scenario assumes you are rolling out SUSE Linux Enterprise to a set of machines
    with identical hardware configuration.
   </p></div><p>
   To prepare for an AutoYaST mass installation, proceed as follows:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Create an AutoYaST profile that contains the installation details needed
     for your deployment as described in
     <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.profile" title="22.1.1. Creating an AutoYaST Profile">Section 22.1.1, “Creating an AutoYaST Profile”</a>.
    </p></li><li class="step "><p>
     Determine the source of the AutoYaST profile and the parameter to pass
     to the installation routines as described in
     <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.dist" title="22.1.2. Distributing the Profile and Determining the AutoYaST Parameter">Section 22.1.2, “Distributing the Profile and Determining the AutoYaST Parameter”</a>.
    </p></li><li class="step "><p>
     Determine the source of the SUSE Linux Enterprise installation data as described in
     <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.source" title="22.1.3. Providing the Installation Data">Section 22.1.3, “Providing the Installation Data”</a>.
    </p></li><li class="step "><p>
     Determine and set up the boot scenario for autoinstallation as
     described in <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.boot" title="22.1.4. Setting Up the Boot Scenario">Section 22.1.4, “Setting Up the Boot Scenario”</a>.
    </p></li><li class="step "><p>
     Pass the command line to the installation routines by adding the
     parameters manually or by creating an <code class="filename">info</code> file as
     described in <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.info" title="22.1.5. Creating the info File">Section 22.1.5, “Creating the <code class="filename">info</code> File”</a>.
    </p></li><li class="step "><p>
     Start the autoinstallation process as described in
     <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.install" title="22.1.6. Initiating and Monitoring the Autoinstallation">Section 22.1.6, “Initiating and Monitoring the Autoinstallation”</a>.
    </p></li></ol></div></div><div class="sect2 " id="sec.deployment.autoinst.simple.profile"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.autoinst.simple.profile"><span class="number">22.1.1 </span><span class="name">Creating an AutoYaST Profile</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.profile">#</a></h3></div></div></div><p>
    An AutoYaST profile tells AutoYaST what to install and how to configure
    the installed system to get a completely ready-to-use system in the end.
    It can be created in several different ways:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      Clone a fresh installation from a reference machine to a set of
      identical machines
     </p></li><li class="listitem "><p>
      Use the AutoYaST GUI to create and modify a profile to meet your
      requirements
     </p></li><li class="listitem "><p>
      Use an XML editor and create a profile from scratch
     </p></li></ul></div><p>
    To clone a fresh reference installation, proceed as follows:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Start a normal installation as described in <a class="xref" href="cha.inst.html" title="Chapter 3. Installation with YaST">Chapter 3, <em>Installation with YaST</em></a>
      and configure the system according to your needs. On the
      <span class="guimenu">Installation Settings</span> screen
      (<a class="xref" href="cha.inst.html#sec.i.yast2.proposal" title="3.12. Installation Settings">Section 3.12, “Installation Settings”</a>) choose <span class="guimenu">Clone System
      Configuration</span> and activate <span class="guimenu">Write AutoYaST profile to
      /root/autoinst.xml</span>.
     </p></li><li class="step "><p>
      A ready-to-use profile will be created at
      <code class="filename">/root/autoinst.xml</code>. It can be used to create
      clones of this particular installation.
     </p></li></ol></div></div><p>
    To use the AutoYaST GUI to create a profile from an existing system
    configuration and modify it to your needs, proceed as follows:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      As <code class="systemitem">root</code>, start YaST.
     </p></li><li class="step "><p>
      Select <span class="guimenu">Miscellaneous</span> › <span class="guimenu">Autoinstallation</span> to start the
      graphical AutoYaST front-end.
     </p></li><li class="step "><p>
      Select <span class="guimenu">Tools</span> › <span class="guimenu">Create Reference
      Profile</span> to prepare AutoYaST to mirror the
      current system configuration into an AutoYaST profile.
     </p></li><li class="step "><p>
      Apart from the default resources (like boot loader, partitioning, and
      software selection), you can add various other aspects of your system
      to the profile by checking the items in the list in <span class="guimenu">Create a
      Reference Control File</span>.
     </p></li><li class="step "><p>
      Click <span class="guimenu">Create</span> to have YaST gather all the
      system information and write it to a new profile.
     </p></li><li class="step "><p>
      To proceed, choose one of the following:
     </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        If the profile is complete and matches your requirements, select
        <span class="guimenu">File</span> › <span class="guimenu">Save as</span> and enter a file name for the profile, such as
        <code class="filename">autoinst.xml</code>.
       </p></li><li class="listitem "><p>
        Modify the reference profile by selecting the appropriate
        configuration aspects (such as <span class="quote">“<span class="quote">Hardware/Printer</span>”</span>) from
        the tree view to the left and clicking <span class="guimenu">Configure</span>.
        The respective YaST module starts but your settings are written
        to the AutoYaST profile instead of applied to your system. When done,
        select <span class="guimenu">File</span> › <span class="guimenu">Save
        as</span> and enter a suitable name for the
        profile.
       </p></li></ul></div></li><li class="step "><p>
      Leave the AutoYaST module with <span class="guimenu">File</span> › <span class="guimenu">Exit</span>.
     </p></li></ol></div></div><div class="figure" id="idm140318359044224"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/autoyast_gui.png"><img src="images/autoyast_gui.png" width="" alt="Editing an AutoYaST Profile with the AutoYaST Front-End" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 22.1: </span><span class="name">Editing an AutoYaST Profile with the AutoYaST Front-End </span><a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#idm140318359044224">#</a></h6></div></div></div><div class="sect2 " id="sec.deployment.autoinst.simple.dist"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.autoinst.simple.dist"><span class="number">22.1.2 </span><span class="name">Distributing the Profile and Determining the AutoYaST Parameter</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.dist">#</a></h3></div></div></div><p>
    The AutoYaST profile can be distributed in several different ways.
    Depending on the protocol used to distribute the profile data, different
    AutoYaST parameters are used to make the profile location known to the
    installation routines on the client. The location of the profile is
    passed to the installation routines by means of the boot prompt or an
    <code class="filename">info</code> file that is loaded upon boot. The following
    options are available:
   </p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
        <p>
         Profile Location
        </p>
       </th><th>
        <p>
         Parameter
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         File
        </p>
       </td><td>
        <p>
         <code class="filename">autoyast=file://<em class="replaceable ">path</em></code>
        </p>
       </td><td>
        <p>
         Makes the installation routines look for the control file in the
         specified path (relative to source root
         directory—<code class="filename">file:///autoinst.xml</code> if in
         the top directory of a CD-ROM).
        </p>
       </td></tr><tr><td>
        <p>
         Device
        </p>
       </td><td>
        <p>
         <code class="filename">autoyast=device://<em class="replaceable ">path</em></code>
        </p>
       </td><td>
        <p>
         Makes the installation routines look for the control file on a
         storage device. Only the device name is
         needed—<code class="filename">/dev/sda1</code> is wrong, use
         <code class="filename">sda1</code> instead.
        </p>
       </td></tr><tr><td>
        <p>
         NFS
        </p>
       </td><td>
        <p>

         <code class="filename">autoyast=nfs://<em class="replaceable ">server</em>/<em class="replaceable ">path</em></code>
        </p>
       </td><td>
        <p>
         Has the installation routines retrieve the control file from an NFS
         server.
        </p>
       </td></tr><tr><td>
        <p>
         HTTP
        </p>
       </td><td>
        <p>

         <code class="filename">autoyast=http://<em class="replaceable ">server</em>/<em class="replaceable ">path</em></code>
        </p>
       </td><td>
        <p>
         Has the installation routines retrieve the control file from an
         HTTP server.
        </p>
       </td></tr><tr><td>
        <p>
         HTTPS
        </p>
       </td><td>
        <p>

         <code class="filename">autoyast=https://<em class="replaceable ">server</em>/<em class="replaceable ">path</em></code>
        </p>
       </td><td>
        <p>
         Has the installation routines retrieve the control file from an
         HTTPS server.
        </p>
       </td></tr><tr><td>
        <p>
         TFTP
        </p>
       </td><td>
        <p>

         <code class="filename">autoyast=tftp://<em class="replaceable ">server</em>/<em class="replaceable ">path</em></code>
        </p>
       </td><td>
        <p>
         Has the installation routines retrieve the control file from a TFTP
         server.
        </p>
       </td></tr><tr><td>
        <p>
         FTP
        </p>
       </td><td>
        <p>

         <code class="filename">autoyast=ftp://<em class="replaceable ">server</em>/<em class="replaceable ">path</em></code>
        </p>
       </td><td>
        <p>
         Has the installation routines retrieve the control file from an FTP
         server.
        </p>
       </td></tr></tbody></table></div><p>
    Replace the <em class="replaceable ">server</em> and
    <em class="replaceable ">path</em> placeholders with values matching your
    actual setup.
   </p><p>
    AutoYaST includes a feature that allows the binding of certain profiles
    to the client's MAC address. Without having to alter the
    <code class="option">autoyast=</code> parameter, you can have the same setup
    install several different instances using different profiles.
   </p><p>
    To use this, proceed as follows:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Create separate profiles with the MAC address of the client as the
      file name and put them on the HTTP server that holds your AutoYaST
      profiles.
     </p></li><li class="step "><p>
      Omit the exact path including the file name when creating the
      <code class="option">autoyast=</code> parameter, for example:
     </p><div class="verbatim-wrap"><pre class="screen">autoyast=tftp://192.168.1.115/</pre></div></li><li class="step "><p>
      Start the autoinstallation.
     </p></li></ol></div></div><p>
    YaST tries to determine the location of the profile in the
    following way:
   </p><div class="orderedlist "><ol class="orderedlist" type="1"><li class="listitem "><p>
      YaST searches for the profile using its own IP address in
      uppercase hexadecimal, for example, <code class="literal">192.0.2.91</code> is
      <code class="literal">C000025B</code>.
     </p></li><li class="listitem "><p>
      If this file is not found, YaST removes one hex digit and tries
      again. This action is repeated eight times until the file with the
      correct name is found.
     </p></li><li class="listitem "><p>
      If that still fails, it tries locating a file with the MAC address of
      the clients as the file name. The MAC address of the example client is
      <code class="literal">0080C8F6484C</code>.
     </p></li><li class="listitem "><p>
      If the MAC address–named file cannot be found, YaST
      searches for a file named <code class="filename">default</code> (in lowercase).
      An example sequence of addresses where YaST searches for the
      AutoYaST profile looks as follows:
     </p><div class="verbatim-wrap"><pre class="screen">C000025B 
C000025 
C00002 
C0000 
C000 
C00 
C0 
C 
0080C8F6484C 
default</pre></div></li></ol></div></div><div class="sect2 " id="sec.deployment.autoinst.simple.source"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.autoinst.simple.source"><span class="number">22.1.3 </span><span class="name">Providing the Installation Data</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.source">#</a></h3></div></div></div><p>
    The installation data can be provided by means of the product CDs or
    DVDs or using a network installation source. If the product CDs are used
    as the installation source, physical access to the client to be
    installed is needed, because the boot process needs to be initiated
    manually and the CDs need to be changed.
   </p><p>
    To provide the installation sources over the network, set up a network
    installation server (HTTP, NFS, FTP) as described in
    <a class="xref" href="cha.deployment.remoteinst.html#sec.deployment.remoteinst.instserver.sles9" title="10.2.1. Setting Up an Installation Server Using YaST">Section 10.2.1, “Setting Up an Installation Server Using YaST”</a>. Use an
    <code class="filename">info</code> file to pass the server's location to the
    installation routines.
   </p></div><div class="sect2 " id="sec.deployment.autoinst.simple.boot"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.autoinst.simple.boot"><span class="number">22.1.4 </span><span class="name">Setting Up the Boot Scenario</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.boot">#</a></h3></div></div></div><p>
    The client can be booted in several different ways:
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm140318358978752"><span class="term ">Network Boot</span></dt><dd><p>
       As with a normal remote installation, autoinstallation can be
       initiated with Wake on LAN and PXE, the boot image and control file
       can be pulled in via TFTP, and the installation sources from any
       network installation server.
      </p></dd><dt id="idm140318358976720"><span class="term ">Bootable CD-ROM</span></dt><dd><p>
       You can use the original SUSE Linux Enterprise media to boot the system for
       autoinstallation and pull in the control file from a network location
       or a removable media. Alternatively, create your own custom CD-ROM
       holding both the installation sources and the AutoYaST profile.
      </p></dd></dl></div><p>
    The following sections provide a basic outline of the procedures for
    network boot or boot from CD-ROM.
   </p><div class="sect3 " id="sec.deployment.autoinst.simple.boot.pxe"><div class="titlepage"><div><div><h4 class="title" id="sec.deployment.autoinst.simple.boot.pxe"><span class="number">22.1.4.1 </span><span class="name">Preparing for Network Boot</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.boot.pxe">#</a></h4></div></div></div><p>
     Network booting with Wake on LAN, PXE, and TFTP is discussed in
     <a class="xref" href="cha.deployment.remoteinst.html#sec.deployment.remoteinst.scenario.vncpxe" title="10.1.3. Remote Installation via VNC—PXE Boot and Wake on LAN">Section 10.1.3, “Remote Installation via VNC—PXE Boot and Wake on LAN”</a>. To make
     the setup introduced there work for autoinstallation, modify the
     featured PXE Linux configuration file
     (<code class="filename">/srv/tftp/pxelinux.cfg/default</code>) to contain the
     <code class="literal">autoyast</code> parameter pointing to the location of the
     AutoYaST profile. An example entry for a standard installation looks
     like this:
    </p><div class="verbatim-wrap"><pre class="screen">default linux 

# default label linux 
    kernel linux
    append initrd=initrd install=http://192.168.1.115/install/suse-enterprise/</pre></div><p>
     The same example for autoinstallation looks like this:
    </p><div class="verbatim-wrap"><pre class="screen">default linux 

# default label linux 
    kernel linux
    append initrd=initrd install=http://192.168.1.115/install/suse-enterprise/ \
           autoyast=nfs://192.168.1.110/profiles/autoinst.xml</pre></div><p>
     Replace the example IP addresses and paths with the data used in your
     setup.
    </p></div><div class="sect3 " id="sec.deployment.autoinst.simple.boot.cd"><div class="titlepage"><div><div><h4 class="title" id="sec.deployment.autoinst.simple.boot.cd"><span class="number">22.1.4.2 </span><span class="name">Preparing to Boot from CD-ROM</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.boot.cd">#</a></h4></div></div></div><p>
     There are several ways in which booting from CD-ROM can come into play
     in AutoYaST installations. Choose from the following scenarios:
    </p><div class="variablelist "><dl class="variablelist"><dt id="idm140318358965968"><span class="term ">Boot from SUSE Linux Enterprise Media, Get the Profile over the Network</span></dt><dd><p>
        Use this approach if a totally network-based scenario is not
        possible (for example, if your hardware does not support PXE) and
        you have physical access to system to install during most of the
        process.
       </p><p>
        You need:
       </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
          The SUSE Linux Enterprise media
         </p></li><li class="listitem "><p>
          A network server providing the profile data (see
          <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.dist" title="22.1.2. Distributing the Profile and Determining the AutoYaST Parameter">Section 22.1.2, “Distributing the Profile and Determining the AutoYaST Parameter”</a> for details)
         </p></li><li class="listitem "><p>
          A removable media containing the <code class="filename">info</code> file
          that tells the installation routines where to find the profile
         </p><p>
          <span class="emphasis"><em>or</em></span>
         </p><p>
          Access to the boot prompt of the system to install where you
          manually enter the <code class="literal">autoyast=</code> parameter
         </p></li></ul></div></dd><dt id="idm140318358956672"><span class="term "> Boot and Install from SUSE Linux Enterprise Media, Get the Profile from a
      Removable Media</span></dt><dd><p>
        Use this approach if an entirely network-based installation scenario
        would not work. It requires physical access to the system to be
        installed for turning on the target machine, or, in the second case,
        to enter the profile's location at the boot prompt. In both cases,
        you may also need to change media depending on the scope of
        installation.
       </p><p>
        You need:
       </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
          The SUSE Linux Enterprise media
         </p></li><li class="listitem "><p>
          A removable media holding both the profile and the
          <code class="filename">info</code> file
         </p><p>
          <span class="emphasis"><em>or</em></span>
         </p><p>
          Access to the boot prompt of the target to enter the
          <code class="option">autoyast=</code> parameter
         </p></li></ul></div></dd><dt id="idm140318358948768"><span class="term ">Boot and Install from Custom Media, Get the Profile from the Media</span></dt><dd><p>
        If you need to install a limited number of software packages and the
        number of targets is relatively low, creating your own custom CD
        holding both the installation data and the profile itself might
        prove a good idea, especially if no network is available in your
        setup.
       </p></dd></dl></div></div></div><div class="sect2 " id="sec.deployment.autoinst.simple.info"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.autoinst.simple.info"><span class="number">22.1.5 </span><span class="name">Creating the <code class="filename">info</code> File</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.info">#</a></h3></div></div></div><p>
    The installation routines at the target need to be made aware of all the
    different components of the AutoYaST framework. This is done by creating
    a command line containing all the parameters needed to locate the
    AutoYaST components, installation sources, and the parameters needed to
    control the installation process.
   </p><p>
    Do this by manually passing these parameters at the boot prompt of the
    installation or by providing a file called <code class="filename">info</code>
    that is read by the installation routines (linuxrc). The former requires
    physical access to any client to install, which makes this approach
    unsuitable for large deployments. The latter enables you to provide the
    <code class="filename">info</code> file on some media that is prepared and
    inserted into the clients' drives prior to the autoinstallation.
    Alternatively, use PXE boot and include the linuxrc parameters in the
    <code class="filename">pxelinux.cfg/default</code> file as shown in
    <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.boot.pxe" title="22.1.4.1. Preparing for Network Boot">Section 22.1.4.1, “Preparing for Network Boot”</a>.
   </p><p>
    The following parameters are commonly used for linuxrc. For more
    information, refer to the AutoYaST package documentation under
    <code class="filename">/usr/share/doc/packages/autoyast</code>.
   </p><div id="idm140318358939824" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Separating Parameters and Values</h6><p>
     When passing parameters to linuxrc at the boot prompt, use
     <code class="literal">=</code> to separate parameter and value. When using an
     <code class="filename">info</code> file, separate parameter and value with
     <code class="literal">:</code>.
    </p></div><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>
        <p>
         Keyword
        </p>
       </th><th>
        <p>
         Value
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         <code class="literal">netdevice</code>
        </p>
       </td><td>
        <p>
         The network device to use for network setup (for BOOTP/DHCP
         requests). Only needed if several network devices are available.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">hostip</code>
        </p>
       </td><td>
        <p>
         When empty, the client sends a BOOTP request. Otherwise the client
         is configured using the specified data.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">netmask</code>
        </p>
       </td><td>
        <p>
         Netmask for the selected network.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">gateway</code>
        </p>
       </td><td>
        <p>
         Default gateway.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">nameserver</code>
        </p>
       </td><td>
        <p>
         Name server.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">autoyast</code>
        </p>
       </td><td>
        <p>
         Location of the control file to use for the automatic installation,
         such as <code class="literal">autoyast=nfs//192.168.1.110/profiles/</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">install</code>
        </p>
       </td><td>
        <p>
         Location of the installation source, such as
         <code class="literal">install=nfs://192.168.1.110/CDs/</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">vnc</code>
        </p>
       </td><td>
        <p>
         If set to <code class="literal">1</code>, enables VNC remote controlled
         installation.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">VNCPassword</code>
        </p>
       </td><td>
        <p>
         The password for VNC.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">ssh</code>
        </p>
       </td><td>
        <p>
         If set to <code class="literal">1</code>, enables SSH remote controlled
         installation.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">netsetup</code>
        </p>
       </td><td>
        <p>
         If set to <code class="literal">1</code>, sets up the network. Normally this
         is done automatically, but you need to set
         <code class="literal">netsetup=1</code> in case the installation repository
         is provided locally (for example, via DVD or local iso image) and
         the <code class="filename">info</code> file is loaded from the network.
        </p>
       </td></tr></tbody></table></div><p>
    If your autoinstallation scenario involves client configuration via DHCP
    and a network installation source, and you want to monitor the
    installation process using VNC, your <code class="filename">info</code> would
    look like this:
   </p><div class="verbatim-wrap"><pre class="screen">autoyast:<em class="replaceable ">profile_source</em> install:<em class="replaceable ">install_source</em> vnc:1 VNCPassword:<em class="replaceable ">some_password</em></pre></div><p>
    If you prefer a static network setup at installation time, your
    <code class="filename">info</code> file would look like the following:
   </p><div class="verbatim-wrap"><pre class="screen">autoyast:<em class="replaceable ">profile_source</em> \
install:<em class="replaceable ">install_source</em> \ 
hostip:<em class="replaceable ">some_ip</em> \ 
netmask:<em class="replaceable ">some_netmask</em> \ 
gateway:<em class="replaceable ">some_gateway</em></pre></div><p>
    The <code class="literal">\</code> indicates that the line breaks have only been
    added for the sake of readability. All options must be entered as one
    continuous string.
   </p><p>
    The <code class="filename">info</code> data can be made available to linuxrc in
    various different ways:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      As a file on a removable media that is available on the client at
      installation time. Add the info parameter similar to
      <code class="systemitem">info=cd:/info</code>.
     </p></li><li class="listitem "><p>
      As a file in the root directory of the initial RAM disk used for
      booting the system provided either from custom installation media or
      via PXE boot.
     </p></li><li class="listitem "><p>
      As part of the AutoYaST profile. In this case, the AutoYaST file needs
      to be called <code class="filename">info</code> to enable linuxrc to parse it.
      An example for this approach is given below.
     </p></li><li class="listitem "><p>
      By means of a URL that points to the location of the info file. The
      syntax for this looks like
      <code class="systemitem">info=http://www.example.com/info</code>.
     </p></li></ul></div><p>
    linuxrc looks for a string (<code class="option">start_linuxrc_conf</code>) in the
    profile that represents the beginning of the file. If it is found, it
    parses the content starting from that string and finishes when the
    string <code class="option">end_linuxrc_conf</code> is found. The options are
    stored in the profile as follows:
   </p><div class="verbatim-wrap"><pre class="screen">....
  &lt;install&gt;
....
    &lt;init&gt;
      &lt;info_file&gt;
&lt;![CDATA[
#
# Don't remove the following line:
# start_linuxrc_conf
#
install: nfs:<em class="replaceable ">server</em>/<em class="replaceable ">path</em>
vnc: 1
VNCPassword: test
autoyast: file:///info

# end_linuxrc_conf
# Do not remove the above comment
#
]]&gt;

      &lt;/info_file&gt;
    &lt;/init&gt;
......
  &lt;/install&gt;
....</pre></div><p>
    linuxrc loads the profile containing the boot parameters instead of the
    traditional <code class="filename">info</code> file. The
    <code class="option">install:</code> parameter points to the location of the
    installation sources. <code class="option">vnc</code> and
    <code class="option">VNCPassword</code> indicate the use of VNC for installation
    monitoring. The <code class="option">autoyast</code> parameter tells linuxrc to
    treat <code class="filename">info</code> as an AutoYaST profile.
   </p></div><div class="sect2 " id="sec.deployment.autoinst.simple.install"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.autoinst.simple.install"><span class="number">22.1.6 </span><span class="name">Initiating and Monitoring the Autoinstallation</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.install">#</a></h3></div></div></div><p>
    After you have provided all the infrastructure mentioned above (profile,
    installation source, and <code class="filename">info</code> file), you can go
    ahead and start the autoinstallation. Depending on the scenario chosen
    for booting and monitoring the process, physical interaction with the
    client may be needed:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      If the client system boots from any kind of physical media, either
      product media or custom CDs, you need to insert these into the
      client's drives.
     </p></li><li class="listitem "><p>
      If the client is not switched on via Wake on LAN, you need to at least
      switch on the client machine.
     </p></li><li class="listitem "><p>
      If you have not opted for remote controlled autoinstallation, the
      graphical feedback from AutoYaST is sent to the client's attached
      monitor or, if you use a headless client, to a serial console.
     </p></li></ul></div><p>
    To enable remote controlled autoinstallation, use the VNC or SSH
    parameters described in
    <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.info" title="22.1.5. Creating the info File">Section 22.1.5, “Creating the <code class="filename">info</code> File”</a> and connect to the
    client from another machine as described in
    <a class="xref" href="cha.deployment.remoteinst.html#sec.deployment.remoteinst.monitor" title="10.5. Monitoring the Installation Process">Section 10.5, “Monitoring the Installation Process”</a>.
   </p></div></div><div class="sect1 " id="sec.deployment.autoinst.advanced"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.autoinst.advanced"><span class="number">22.2 </span><span class="name">Rule-Based Autoinstallation</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.advanced">#</a></h2></div></div></div><p>
   The following sections introduce the basic concept of rule-based
   installation using AutoYaST and provide an example scenario that enables
   you to create your own custom autoinstallation setup.
  </p><div class="sect2 " id="sec.deployment.autoinst.advanced.expl"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.autoinst.advanced.expl"><span class="number">22.2.1 </span><span class="name">Understanding Rule-Based Autoinstallation</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.advanced.expl">#</a></h3></div></div></div><p>
    Rule-based AutoYaST installation allows you to cope with heterogeneous
    hardware environments:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      Does your site contain hardware of different vendors?
     </p></li><li class="listitem "><p>
      Are the machines on your site of different hardware configuration (for
      example, using different devices or using different memory and disk
      sizes)?
     </p></li><li class="listitem "><p>
      Do you intend to install across different domains and need to
      distinguish between them?
     </p></li></ul></div><p>
    Rule-based autoinstallation starts with generating a custom profile to
    match a heterogeneous scenario by merging several profiles into one.
    Each rule describes one particular distinctive feature of your setup
    (such as disk size) and tells AutoYaST which profile to use when the rule
    matches. Several rules describing different features of your setup are
    combined in an AutoYaST <code class="filename">rules.xml</code> file. The rule
    stack is then processed and AutoYaST generates the final profile by
    merging the different profiles matching the AutoYaST rules into one. To
    illustrate this procedure, refer to
    <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.advanced.example" title="22.2.2. Example Scenario for Rule-Based Autoinstallation">Section 22.2.2, “Example Scenario for Rule-Based Autoinstallation”</a>.
   </p><p>
    Rule-based AutoYaST offers you great flexibility in planning and
    executing your SUSE Linux Enterprise deployment. You can:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      Create rules for matching any of the predefined system attributes in
      AutoYaST
     </p></li><li class="listitem "><p>
      Combine multiple system attributes (such as disk size and kernel
      architecture) into one rule by using logical operators
     </p></li><li class="listitem "><p>
      Create custom rules by running shell scripts and passing their output
      to the AutoYaST framework. The number of custom rules is limited to
      five.
     </p></li></ul></div><div id="idm140318358854832" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: For More Information</h6><p>
     For more information about rule creation and usage with AutoYaST, refer
     to the package's documentation under
     <code class="filename">/usr/share/doc/packages/autoyast2/html/index.html</code>,
     Chapter <span class="guimenu">Rules and Classes</span>.
    </p></div><p>
    To prepare for a rule-based AutoYaST mass installation, proceed as
    follows:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Create several AutoYaST profiles that contain the installation details
      needed for your heterogeneous setup as described in
      <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.profile" title="22.1.1. Creating an AutoYaST Profile">Section 22.1.1, “Creating an AutoYaST Profile”</a>.
     </p></li><li class="step "><p>
      Define rules to match the system attributes of your hardware setup as
      shown in <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.advanced.example" title="22.2.2. Example Scenario for Rule-Based Autoinstallation">Section 22.2.2, “Example Scenario for Rule-Based Autoinstallation”</a>.
     </p></li><li class="step "><p>
      Determine the source of the AutoYaST profile and the parameter to pass
      to the installation routines as described in
      <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.dist" title="22.1.2. Distributing the Profile and Determining the AutoYaST Parameter">Section 22.1.2, “Distributing the Profile and Determining the AutoYaST Parameter”</a>.
     </p></li><li class="step "><p>
      Determine the source of the SUSE Linux Enterprise installation data as described in
      <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.source" title="22.1.3. Providing the Installation Data">Section 22.1.3, “Providing the Installation Data”</a>.
     </p></li><li class="step "><p>
      Pass the command line to the installation routines by adding the
      parameters manually or by creating an <code class="filename">info</code> file
      as described in <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.info" title="22.1.5. Creating the info File">Section 22.1.5, “Creating the <code class="filename">info</code> File”</a>.
     </p></li><li class="step "><p>
      Determine and set up the boot scenario for autoinstallation as
      described in <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.boot" title="22.1.4. Setting Up the Boot Scenario">Section 22.1.4, “Setting Up the Boot Scenario”</a>.
     </p></li><li class="step "><p>
      Start the autoinstallation process as described in
      <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.install" title="22.1.6. Initiating and Monitoring the Autoinstallation">Section 22.1.6, “Initiating and Monitoring the Autoinstallation”</a>.
     </p></li></ol></div></div></div><div class="sect2 " id="sec.deployment.autoinst.advanced.example"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.autoinst.advanced.example"><span class="number">22.2.2 </span><span class="name">Example Scenario for Rule-Based Autoinstallation</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.advanced.example">#</a></h3></div></div></div><p>
    To get a basic understanding of how rules are created, think of the
    following example, depicted in <a class="xref" href="cha.deployment.autoinst.html#fig.autoyast.rules" title="AutoYaST Rules">Figure 22.2, “AutoYaST Rules”</a>. One
    run of AutoYaST installs the following setup:
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm140318358837248"><span class="term ">A Print Server</span></dt><dd><p>
       This machine only needs a minimal installation without a desktop
       environment and a limited set of software packages.
      </p></dd><dt id="idm140318358835328"><span class="term ">Workstations in the Engineering Department</span></dt><dd><p>
       These machines need a desktop environment and a broad set of
       development software.
      </p></dd><dt id="idm140318358833408"><span class="term ">Laptops in the Sales Department</span></dt><dd><p>
       These machines need a desktop environment and a limited set of
       specialized applications, such as office and calendaring software.
      </p></dd></dl></div><div class="figure" id="fig.autoyast.rules"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/autoyast_rules.png"><img src="images/autoyast_rules.png" width="" alt="AutoYaST Rules" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 22.2: </span><span class="name">AutoYaST Rules </span><a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#fig.autoyast.rules">#</a></h6></div></div><p>
    In a first step, use one of the methods outlined in
    <a class="xref" href="cha.deployment.autoinst.html#sec.deployment.autoinst.simple.profile" title="22.1.1. Creating an AutoYaST Profile">Section 22.1.1, “Creating an AutoYaST Profile”</a> to create
    profiles for each use case. In this example, you would create
    <code class="filename">print.xml</code>, <code class="filename">engineering.xml</code>,
    and <code class="filename">sales.xml</code>.
   </p><p>
    In the second step, create rules to distinguish the three hardware types
    from one another and to tell AutoYaST which profile to use. Use an
    algorithm similar to the following to set up the rules:
   </p><div class="orderedlist "><ol class="orderedlist" type="1"><li class="listitem "><p>
      Does the machine have an IP of <span class="guimenu">192.168.2.253</span>? Then
      make it the print server.
     </p></li><li class="listitem "><p>
      Does the machine have PCMCIA hardware and feature an Intel chipset?
      Then consider it an Intel laptop and install the sales department
      software selection.
     </p></li><li class="listitem "><p>
      If none of the above is true, consider the machine a developer
      workstation and install accordingly.
     </p></li></ol></div><p>
    Roughly sketched, this translates into a <code class="filename">rules.xml</code>
    file with the following content:
   </p><div class="verbatim-wrap"><pre class="screen">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE autoinstall SYSTEM "/usr/share/autoinstall/dtd/rules.dtd"&gt; 
&lt;autoinstall xmlns="http://www.suse.com/1.0/yast2ns" xmlns:config="http://www.suse.com/1.0/configns"&gt;
  &lt;rules config:type="list"&gt;
    &lt;rule&gt;
       &lt;hostaddress&gt;
	    &lt;match&gt;192.168.2.253&lt;/match&gt;
            &lt;match_type&gt;exact&lt;/match_type&gt;
       &lt;/hostaddress&gt;
       &lt;result&gt;
            &lt;profile&gt;print.xml&lt;/profile&gt;
            &lt;continue config:type="boolean"&gt;false&lt;/continue&gt;
        &lt;/result&gt;
    &lt;/rule&gt;
    &lt;rule&gt;
       &lt;haspcmcia&gt;
            &lt;match&gt;1&lt;/match&gt;
            &lt;match_type&gt;exact&lt;/match_type&gt;
       &lt;/haspcmcia&gt;
       &lt;custom1&gt;
           &lt;script&gt;
if grep -i intel /proc/cpuinfo &gt; /dev/null; then
echo -n "intel"
else
echo -n "non_intel"
fi;
           &lt;/script&gt;
           &lt;match&gt;*&lt;/match&gt;
           &lt;match_type&gt;exact&lt;/match_type&gt;
       &lt;/custom1&gt;
       &lt;result&gt;
            &lt;profile&gt;sales.xml&lt;/profile&gt;
            &lt;continue config:type="boolean"&gt;false&lt;/continue&gt;
        &lt;/result&gt;
        &lt;operator&gt;and&lt;/operator&gt;
    &lt;/rule&gt;
    &lt;rule&gt;
        &lt;haspcmcia&gt;
            &lt;match&gt;0&lt;/match&gt;
            &lt;match_type&gt;exact&lt;/match_type&gt;
        &lt;/haspcmcia&gt;
 	&lt;result&gt;
            &lt;profile&gt;engineering.xml&lt;/profile&gt;
            &lt;continue config:type="boolean"&gt;false&lt;/continue&gt;
        &lt;/result&gt;
    &lt;/rule&gt;
  &lt;/rules&gt;
&lt;/autoinstall&gt;</pre></div><p>
    When distributing the rules file, make sure that the
    <code class="filename">rules</code> directory resides under the
    <code class="filename">profiles</code> directory, specified in the
    <code class="filename">autoyast=<em class="replaceable ">protocol</em>:<em class="replaceable ">serverip</em>/profiles/</code>
    URL. AutoYaST looks for a <code class="filename">rules</code> subdirectory
    containing a file named <code class="filename">rules.xml</code> first then loads
    and merges the profiles specified in the rules file.
   </p><p>
    The rest of the autoinstallation procedure is carried out as usual.
   </p></div></div><div class="sect1 " id="sec.deployment.autoinst.moreinfo"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.autoinst.moreinfo"><span class="number">22.3 </span><span class="name">For More Information</span> <a title="Permalink" class="permalink" href="cha.deployment.autoinst.html#sec.deployment.autoinst.moreinfo">#</a></h2></div></div></div><p>

   For in-depth information about the AutoYaST technology, refer to
    the
   documentation installed along with the software
   (<code class="filename">/usr/share/doc/packages/autoyast2</code>).
  </p></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.autokiwi.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 23 </span>Automated Deployment of Preload Images</span></a><a class="nav-link" href="part.autoinstall.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Part IV </span>Automated Installations</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>