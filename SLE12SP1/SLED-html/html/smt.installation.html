<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>SMT Installation | Subscription Management Tool for SLES 12 SP1 | SUSE Linux Enterprise Desktop 12 SP1</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="product-name" content="SUSE Linux Enterprise Desktop" /><meta name="product-number" content="12 SP1" /><meta name="book-title" content="Subscription Management Tool for SLES 12 SP1" /><meta name="chapter-title" content="Chapter 1. SMT Installation" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="taroth@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Desktop 12 SP1 (SLED 12 SP1)" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Desktop Documentation" /><link rel="up" href="index.html" title="Subscription Management Tool for SLES 12 SP1" /><link rel="prev" href="pre_smt.html" title="About This Guide" /><link rel="next" href="smt.server.html" title="Chapter 2. SMT Server Configuration" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="index.html">SMT Guide</a><span> › </span><a class="crumb" href="smt.installation.html">SMT Installation</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Subscription Management Tool for SLES 12 SP1</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="pre_smt.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="smt.installation.html"><span class="number">1 </span><span class="name">SMT Installation</span></a></li><li class="inactive"><a href="smt.server.html"><span class="number">2 </span><span class="name">SMT Server Configuration</span></a></li><li class="inactive"><a href="smt.mirroring.html"><span class="number">3 </span><span class="name">Mirroring Repositories on the SMT Server</span></a></li><li class="inactive"><a href="smt.management.html"><span class="number">4 </span><span class="name">Managing Repositories with YaST SMT Server Management</span></a></li><li class="inactive"><a href="smt.registration.html"><span class="number">5 </span><span class="name">Managing Client Machines with SMT</span></a></li><li class="inactive"><a href="smt.reporting.html"><span class="number">6 </span><span class="name">SMT Reports</span></a></li><li class="inactive"><a href="smt.tools.html"><span class="number">7 </span><span class="name">SMT Tools and Configuration Files</span></a></li><li class="inactive"><a href="smt.client.html"><span class="number">8 </span><span class="name">Configuring Clients to Use SMT</span></a></li><li class="inactive"><a href="smt.backup.html"><span class="number">9 </span><span class="name">Backup of the SMT Server</span></a></li><li class="inactive"><a href="smt.app.api.html"><span class="number">A </span><span class="name">SMT REST API</span></a></li><li class="inactive"><a href="app.smt.docupdates.html"><span class="number">B </span><span class="name">Documentation Updates</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="About This Guide" href="pre_smt.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 2. SMT Server Configuration" href="smt.server.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="index.html">SMT Guide</a><span> › </span><a class="crumb" href="smt.installation.html">SMT Installation</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="About This Guide" href="pre_smt.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 2. SMT Server Configuration" href="smt.server.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="smt.installation"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">12 SP1</span></span></span></div><div><h1 class="title"><span class="number">1 </span><span class="name">SMT Installation</span> </h1><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>smt_install.xml</li><li><span class="ds-label">ID: </span>smt.installation</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="smt.installation.html#smt.installation.wizard"><span class="number">1.1 </span><span class="name">SMT Configuration Wizard</span></a></span></dt><dt><span class="sect1"><a href="smt.installation.html#smt.installation.upgrade"><span class="number">1.2 </span><span class="name">Upgrading from Previous Versions of SMT</span></a></span></dt><dt><span class="sect1"><a href="smt.installation.html#idm140318371894240"><span class="number">1.3 </span><span class="name">Enabling SLP Announcements</span></a></span></dt></dl></div></div><p>
    
    From version 12 SP1 onwards, SMT is included in SUSE Linux Enterprise Server. To install
    it, start SUSE Linux Enterprise Server 12 SP1 installation, and click
      <span class="guimenu">Software</span> on the <span class="guimenu">Installation
      Settings</span> screen. Then select the <span class="guimenu">Subscription
      Management Tool</span> pattern on the <span class="guimenu">Software
      Selection and System Tasks</span> screen, and confirm with
      <span class="guimenu">OK</span>. </p><div class="figure" id="idm140318354029136"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/smt_install_pattern.png"><img src="images/smt_install_pattern.png" width="" alt="SMT Pattern" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 1.1: </span><span class="name">SMT Pattern </span><a title="Permalink" class="permalink" href="smt.installation.html#idm140318354029136">#</a></h6></div></div><div id="idm140318368957584" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Installing SMT on an Already Installed System</h6><p>
   If you already have SUSE Linux Enterprise Server 12 SP1 installed and want to install SMT
   additionally, follow the same procedure, but instead of including the
   SMT pattern from the installation screen, simply run
   <span class="guimenu">YaST</span> › <span class="guimenu">Software</span> › <span class="guimenu">Software
   Management</span>, select
   <span class="guimenu">View</span> › <span class="guimenu">Patterns</span>
   and select the <span class="guimenu">SMT</span> pattern there.
  </p></div><p>
  Because SMT depends on other software products, such as MariaDB database
  engine or Apache Web server, several packages are automatically
  selected for installation.
 </p><p>
  It is recommended to check for SMT updates available immediately after
  installing SUSE Linux Enterprise Server. SUSE continuously releases maintenance updates for
  SMT, and newer packages are likely to be available compared to those
  installed from media, for example using the <code class="command">zypper
  patch</code> command.
 </p><p>
  After the system is installed and updated, do a first-time SMT
  configuration with <span class="guimenu">YaST</span> › <span class="guimenu">Network
  Services</span> › <span class="guimenu">SMT Configuration
  Wizard</span>.
 </p><div class="sect1 " id="smt.installation.wizard"><div class="titlepage"><div><div><h2 class="title" id="smt.installation.wizard"><span class="number">1.1 </span><span class="name">SMT Configuration Wizard</span> <a title="Permalink" class="permalink" href="smt.installation.html#smt.installation.wizard">#</a></h2></div></div></div><p>
   The two-step <span class="guimenu">SMT Configuration Wizard</span> helps you
   configure SMT after SUSE Linux Enterprise Server installation is finished. You can then change
   the configuration later using the YaST SMT Server Configuration
   module—see <a class="xref" href="smt.server.html" title="Chapter 2. SMT Server Configuration">Chapter 2, <em>SMT Server Configuration</em></a>.
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     The <span class="guimenu">Enable Subscription Management Tool service
     (SMT)</span> option is checked by default. Uncheck it only if you
     want to disable the SMT product.
    </p><p>
     If the firewall is enabled, check <span class="guimenu">Open Port in
     Firewall</span> to allow access to the SMT service from remote
     computers.
    </p><p>
     Enter your SUSE Customer Center organization credentials in <span class="guimenu">User</span>
     and <span class="guimenu">Password</span>. If you do not know your SUSE Customer Center
     credentials, refer to <a class="xref" href="smt.mirroring.html#smt.mirroring.getcredentials" title="3.1. Mirroring Credentials">Section 3.1, “Mirroring Credentials”</a>.
     Test the entered credentials by pressing the <span class="guimenu">Test</span>
     button. SMT will connect to the Customer Center server using the
     provided credentials and download some testing data.
    </p><p> Enter the e-mail address you used for the SUSE Customer Center registration
          into <span class="guimenu">SCC E-mail Used for Registration</span>. </p><p>
     <span class="guimenu">Your SMT Server URL</span> should contain the URL of the
     SMT server being configured. It is populated automatically.
    </p><p>
     Press <span class="guimenu">Next</span> to continue to the second configuration
     step.
    </p><div class="figure" id="idm140318376762000"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/smt_wizard1.png"><img src="images/smt_wizard1.png" width="" alt="SMT Wizard" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 1.2: </span><span class="name">SMT Wizard </span><a title="Permalink" class="permalink" href="smt.installation.html#idm140318376762000">#</a></h6></div></div></li><li class="step "><p>
     For security reasons, SMT requires a separate user to connect to the
     database. With the <span class="guimenu">Database Password for smt User</span>
     widget set the database password for that user. Confirm it in the
     following field.
    </p><p>
     Enter all e-mail addresses that SMT should send reports to using the
     <span class="guimenu">Add</span> button. You are also able to
     <span class="guimenu">Edit</span> or <span class="guimenu">Delete</span> any incorrect or
     obsolete addresses.
    </p><p>
     Then click <span class="guimenu">Next</span>.
    </p></li><li class="step "><p>
     If the current database root password is empty—as in any freshly
     installed system—you will be asked to enter it.
    </p></li><li class="step "><p>
     SMT defaults to communicate with the client hosts via a secure
     protocol. To use the secured <code class="systemitem">https</code> protocol,
     the SMT server needs to have a server SSL certificate. If it is not
     created yet, the wizard warns you and offers its creation with
     <span class="guimenu">Run CA Management</span>. Refer to
     <a class="xref" href="cha.security.yast_ca.html#sec.security.yast_ca.module" title="17.2. YaST Modules for CA Management">Section 17.2, “YaST Modules for CA Management”</a> for detailed information
     to manage certificates with YaST.
    </p><div class="figure" id="idm140318372406624"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/smt_missing_cert.png"><img src="images/smt_missing_cert.png" width="" alt="Missing Server Certificate" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 1.3: </span><span class="name">Missing Server Certificate </span><a title="Permalink" class="permalink" href="smt.installation.html#idm140318372406624">#</a></h6></div></div></li></ol></div></div></div><div class="sect1 " id="smt.installation.upgrade"><div class="titlepage"><div><div><h2 class="title" id="smt.installation.upgrade"><span class="number">1.2 </span><span class="name">Upgrading from Previous Versions of SMT</span> <a title="Permalink" class="permalink" href="smt.installation.html#smt.installation.upgrade">#</a></h2></div></div></div><p> This section contains information about upgrading SMT from
      previous versions. </p><div id="idm140318374898912" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Upgrade from Versions Prior to 11 SP3</h6><p> Direct upgrade path from SMT prior to version 11 SP3 is not
        supported. You need to upgrade the operating system to SUSE Linux Enterprise Server 11
        SP3 or SP4 as described in <a class="link" href="https://www.suse.com/documentation/sles11/book_sle_deployment/data/cha_update_sle.html" target="_blank">https://www.suse.com/documentation/sles11/book_sle_deployment/data/cha_update_sle.html</a>, and at the same time upgrade SMT to version 11 SP3 as
        described in <a class="link" href="https://www.suse.com/documentation/smt11/book_yep/data/smt_installation_upgrade.html" target="_blank">https://www.suse.com/documentation/smt11/book_yep/data/smt_installation_upgrade.html</a>. Then follow the steps described in <a class="xref" href="smt.installation.html#smt.installation.upgrade.latest" title="1.2.1. Upgrade from SMT 11 SP3">Section 1.2.1, “Upgrade from SMT 11 SP3”</a>. </p></div><div class="sect2 " id="smt.installation.upgrade.latest"><div class="titlepage"><div><div><h3 class="title" id="smt.installation.upgrade.latest"><span class="number">1.2.1 </span><span class="name">Upgrade from SMT 11 SP3</span> <a title="Permalink" class="permalink" href="smt.installation.html#smt.installation.upgrade.latest">#</a></h3></div></div></div><p>
    To upgrade SMT from version 11 SP3 to 12 SP1, follow these steps:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      If you have not already done so, migrate from Novell Customer Center
      to SUSE Customer Center as described in
      <a class="xref" href="smt.installation.html#smt.installation.upgrade.scc" title="1.2.1.1. Migration to SUSE Customer Center on SMT 11 SP3">Section 1.2.1.1, “Migration to SUSE Customer Center on SMT 11 SP3”</a>.
     </p></li><li class="step "><p> Back up and migrate the database. See the general procedure
            in <a class="xref" href="cha.update.sle.html#sec.update.prep.mariadb" title="14.1.6. Migrate your MySQL Database">Section 14.1.6, “Migrate your MySQL Database”</a>. </p></li><li class="step "><p>
      Upgrade to SUSE Linux Enterprise Server 12 SP1 as described in
      <a class="xref" href="cha.update.sle.html" title="Chapter 14. Upgrading SUSE Linux Enterprise">Chapter 14, <em>Upgrading SUSE Linux Enterprise</em></a>.
     </p></li><li class="step "><p> Look if the new <code class="filename">/etc/my.cnf.rpmnew</code>
            exists and update it with any custom changes you need. Then
            copy it over the existing <code class="filename">/etc/my.cnf</code>: </p><div class="verbatim-wrap"><pre class="screen">cp /etc/my.cnf.rpmnew /etc/my.cnf</pre></div></li><li class="step "><p> Enable the <code class="systemitem">smt</code> target to start at
            the system boot:</p><div class="verbatim-wrap"><pre class="screen">systemctl enable smt.target</pre></div><p>
      and optionally start it now:
     </p><div class="verbatim-wrap"><pre class="screen">systemctl start smt.target</pre></div></li></ol></div></div><div class="sect3 " id="smt.installation.upgrade.scc"><div class="titlepage"><div><div><h4 class="title" id="smt.installation.upgrade.scc"><span class="number">1.2.1.1 </span><span class="name">Migration to SUSE Customer Center on SMT 11 SP3</span> <a title="Permalink" class="permalink" href="smt.installation.html#smt.installation.upgrade.scc">#</a></h4></div></div></div><p>
     SMT now registers against SUSE Customer Center instead of Novell Customer Center.
     Therefore you need to switch the registration center on SUSE Linux Enterprise Server 11 before
     upgrading to SUSE Linux Enterprise Server 12. You can switch to SUSE Customer Center either via a YaST
     module or command line tools.
    </p><p>
     Before performing the switch between customer centers, make sure that
     the target customer center serves all products that are registered
     against SMT. Both YaST and the command line tools perform a check
     to find out whether all products can be served with the new
     registration server.
    </p><p>
     To perform the migration to SUSE Customer Center via command line, use:
    </p><div class="verbatim-wrap"><pre class="screen">smt ncc-scc-migration</pre></div><p>
     The migration itself is time-consuming and during the migration process
     the SMT server may not be able to serve clients that are already
     registered.
    </p><p>
     The migration process itself changes the registration server and the
     proper type of API in the configuration files. No further
     (configuration) changes are needed on the SMT.
    </p><p>
     To migrate from Novell Customer Center to SUSE Customer Center via YaST, use the YaST smt-server
     module.
    </p><p> After migration is done, it is necessary to re-synchronize
          SMT with the customer center. It is recommended to assure
          that the repositories are up to date. This can be done using
          the following commands: </p><div class="verbatim-wrap"><pre class="screen">   smt sync
   smt mirror</pre></div></div></div></div><div class="sect1 " id="idm140318371894240"><div class="titlepage"><div><div><h2 class="title" id="idm140318371894240"><span class="number">1.3 </span><span class="name">Enabling SLP Announcements</span> <a title="Permalink" class="permalink" href="smt.installation.html#idm140318371894240">#</a></h2></div></div></div><p>
   SMT already includes the SLP service description file
   (<code class="filename">/etc/slp.reg.d/smt.reg</code>). To enable SLP
   announcements of the SMT service, open respective ports in your
   firewall and enable the SLP service.
  </p><div class="verbatim-wrap"><pre class="screen">sysconf_addword /etc/sysconfig/SuSEfirewall2 FW_SERVICES_EXT_TCP "427"
sysconf_addword /etc/sysconfig/SuSEfirewall2 FW_SERVICES_EXT_UDP "427"
insserv slpd
rcslpd start</pre></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="smt.server.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 2 </span>SMT Server Configuration</span></a><a class="nav-link" href="pre_smt.html"><span class="prev-icon">←</span><span class="nav-label">About This Guide</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>