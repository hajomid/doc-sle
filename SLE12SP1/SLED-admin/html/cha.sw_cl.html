<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Managing Software with Command Line Tools | Administration Guide | SUSE Linux Enterprise Desktop 12 SP1</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="product-name" content="SUSE Linux Enterprise Desktop" /><meta name="product-number" content="12 SP1" /><meta name="book-title" content="Administration Guide" /><meta name="chapter-title" content="Chapter 4. Managing Software with Command Line Tools" /><meta name="description" content="This chapter describes Zypper and RPM, two command line tools for managing software. For a definition of the terminology used in this context (for example, repository, patch, or update) refer to ." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Desktop 12 SP1 (SLED 12 SP1)" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Desktop Documentation" /><link rel="up" href="part.administration.html" title="Part I. Common Tasks" /><link rel="prev" href="cha.snapper.html" title="Chapter 3. System Recovery and Snapshot Management with Snapper" /><link rel="next" href="cha.vnc.html" title="Chapter 5. Remote Access with VNC" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.sle.admin.html">Administration Guide</a><span> › </span><a class="crumb" href="part.administration.html">Common Tasks</a><span> › </span><a class="crumb" href="cha.sw_cl.html">Managing Software with Command Line Tools</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Administration Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="pre.sle.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="part.administration.html"><span class="number">I </span><span class="name">Common Tasks</span></a><ol><li class="inactive"><a href="cha.onlineupdate.you.html"><span class="number">1 </span><span class="name">YaST Online Update</span></a></li><li class="inactive"><a href="cha.yast.text.html"><span class="number">2 </span><span class="name">YaST in Text Mode</span></a></li><li class="inactive"><a href="cha.snapper.html"><span class="number">3 </span><span class="name">System Recovery and Snapshot Management with Snapper</span></a></li><li class="inactive"><a href="cha.sw_cl.html"><span class="number">4 </span><span class="name">Managing Software with Command Line Tools</span></a></li><li class="inactive"><a href="cha.vnc.html"><span class="number">5 </span><span class="name">Remote Access with VNC</span></a></li><li class="inactive"><a href="cha.gnome.gconf.html"><span class="number">6 </span><span class="name">GNOME Configuration for Administrators</span></a></li><li class="inactive"><a href="cha.adm.shell.html"><span class="number">7 </span><span class="name">Bash and Bash Scripts</span></a></li></ol></li><li class="inactive"><a href="part.system.html"><span class="number">II </span><span class="name">System</span></a><ol><li class="inactive"><a href="cha.64bit.html"><span class="number">8 </span><span class="name">32-Bit and 64-Bit Applications in a 64-Bit System Environment</span></a></li><li class="inactive"><a href="cha.boot.html"><span class="number">9 </span><span class="name">Booting a Linux System</span></a></li><li class="inactive"><a href="cha.systemd.html"><span class="number">10 </span><span class="name">The <code class="systemitem">systemd</code> Daemon</span></a></li><li class="inactive"><a href="cha.journalctl.html"><span class="number">11 </span><span class="name"><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> Journal</span></a></li><li class="inactive"><a href="cha.grub2.html"><span class="number">12 </span><span class="name">The Boot Loader GRUB 2</span></a></li><li class="inactive"><a href="cha.uefi.html"><span class="number">13 </span><span class="name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li class="inactive"><a href="cha.suse.html"><span class="number">14 </span><span class="name">Special System Features</span></a></li><li class="inactive"><a href="cha.p.html"><span class="number">15 </span><span class="name">Printer Operation</span></a></li><li class="inactive"><a href="cha.udev.html"><span class="number">16 </span><span class="name">Dynamic Kernel Device Management with <code class="systemitem">udev</code></span></a></li><li class="inactive"><a href="cha.kgraft.html"><span class="number">17 </span><span class="name">Live Patching the Linux Kernel Using kGraft</span></a></li><li class="inactive"><a href="cha.x11.html"><span class="number">18 </span><span class="name">The X Window System</span></a></li><li class="inactive"><a href="cha.fuse.html"><span class="number">19 </span><span class="name">Accessing File Systems with FUSE</span></a></li></ol></li><li class="inactive"><a href="part.services.html"><span class="number">III </span><span class="name">Services</span></a><ol><li class="inactive"><a href="cha.basicnet.html"><span class="number">20 </span><span class="name">Basic Networking</span></a></li><li class="inactive"><a href="cha.netz.xntp.html"><span class="number">21 </span><span class="name">Time Synchronization with NTP</span></a></li><li class="inactive"><a href="cha.nm.html"><span class="number">22 </span><span class="name">Using NetworkManager</span></a></li><li class="inactive"><a href="cha.samba.html"><span class="number">23 </span><span class="name">Samba</span></a></li><li class="inactive"><a href="cha.nfs.html"><span class="number">24 </span><span class="name">Sharing File Systems with NFS</span></a></li><li class="inactive"><a href="cha.autofs.html"><span class="number">25 </span><span class="name">On-Demand Mounting with Autofs</span></a></li><li class="inactive"><a href="cha.net.sync.html"><span class="number">26 </span><span class="name">File Synchronization</span></a></li></ol></li><li class="inactive"><a href="part.mobile.html"><span class="number">IV </span><span class="name">Mobile Computers</span></a><ol><li class="inactive"><a href="cha.mobile.html"><span class="number">27 </span><span class="name">Mobile Computing with Linux</span></a></li><li class="inactive"><a href="cha.pmanage.html"><span class="number">28 </span><span class="name">Power Management</span></a></li></ol></li><li class="inactive"><a href="part.trouble.html"><span class="number">V </span><span class="name">Troubleshooting</span></a><ol><li class="inactive"><a href="cha.adminhelp.html"><span class="number">29 </span><span class="name">Help and Documentation</span></a></li><li class="inactive"><a href="cha.adm.support.html"><span class="number">30 </span><span class="name">Gathering System Information for Support</span></a></li><li class="inactive"><a href="cha.trouble.html"><span class="number">31 </span><span class="name">Common Problems and Their Solutions</span></a></li></ol></li><li class="inactive"><a href="app.admin.docupdates.html"><span class="number">A </span><span class="name">Documentation Updates</span></a></li><li class="inactive"><a href="app.nwscheme.html"><span class="number">B </span><span class="name">An Example Network</span></a></li><li class="inactive"><a href="bk01apc.html"><span class="number">C </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 3. System Recovery and Snapshot Management with Snapper" href="cha.snapper.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 5. Remote Access with VNC" href="cha.vnc.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.sle.admin.html">Administration Guide</a><span> › </span><a class="crumb" href="part.administration.html">Common Tasks</a><span> › </span><a class="crumb" href="cha.sw_cl.html">Managing Software with Command Line Tools</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 3. System Recovery and Snapshot Management with Snapper" href="cha.snapper.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 5. Remote Access with VNC" href="cha.vnc.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.sw_cl"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">12 SP1</span></span></span></div><div><h2 class="title"><span class="number">4 </span><span class="name">Managing Software with Command Line Tools</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>sw_managing_commandline.xml</li><li><span class="ds-label">ID: </span>cha.sw_cl</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha.sw_cl.html#idm140366417661008">#</a></h6></div><p>
    This chapter describes Zypper and RPM, two command line tools for
    managing software. For a definition of the terminology used in this
    context (for example, <code class="literal">repository</code>,
    <code class="literal">patch</code>, or <code class="literal">update</code>) refer to
    <span class="intraxref">Book “<em class="citetitle ">Deployment Guide</em>”, Chapter 5 “Installing or Removing Software”, Section 5.1 “Definition of Terms”</span>.
   </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.sw_cl.html#sec.zypper"><span class="number">4.1 </span><span class="name">Using Zypper</span></a></span></dt><dt><span class="sect1"><a href="cha.sw_cl.html#sec.rpm"><span class="number">4.2 </span><span class="name">RPM—the Package Manager</span></a></span></dt></dl></div></div><a id="idm140366417656400" class="indexterm"></a><div class="sect1 " id="sec.zypper"><div class="titlepage"><div><div><h2 class="title" id="sec.zypper"><span class="number">4.1 </span><span class="name">Using Zypper</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>zypper.xml</li><li><span class="ds-label">ID: </span>sec.zypper</li></ul></div></div></div></div><a id="idx.zypper" class="indexterm"></a><a id="idm140366417649984" class="indexterm"></a><a id="idm140366417648960" class="indexterm"></a><p>
  Zypper is a command line package manager for installing, updating and
  removing packages a well as for managing repositories. It is especially
  useful for accomplishing remote software management tasks or managing
  software from shell scripts.
 </p><div class="sect2 " id="sec.zypper.usage"><div class="titlepage"><div><div><h3 class="title" id="sec.zypper.usage"><span class="number">4.1.1 </span><span class="name">General Usage</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.usage">#</a></h3></div></div></div><p>
   The general syntax of Zypper is:
  </p><div class="verbatim-wrap"><pre class="screen">zypper <code class="option">[--global-options]</code> <em class="replaceable ">command</em> <code class="option"> [--command-options]</code> <code class="option">[arguments]</code>
  ...</pre></div><p>
   The components enclosed in brackets are not required. See <code class="command">zypper
   help</code> for a list of general options and all commands. To get
   help for a specific command, type <code class="command">zypper help</code>
   <em class="replaceable ">command</em>.
  </p><p>
   The simplest way to execute Zypper is to type its name, followed by a
   command. For example, to apply all needed patches to the system type:
  </p><div class="verbatim-wrap"><pre class="screen">zypper patch</pre></div><p>
   Additionally, you can choose from one or more global options by typing
   them immediately before the command. For example,
   <code class="option">--non-interactive</code> means running the command without
   asking anything (automatically applying the default answers):
  </p><div class="verbatim-wrap"><pre class="screen">zypper --non-interactive patch</pre></div><p>
   To use the options specific to a particular command, type them right
   after the command. For example,
   <code class="option">--auto-agree-with-licenses</code> means applying all needed
   patches to the system without asking to confirm any licenses (they will
   automatically be accepted):
  </p><div class="verbatim-wrap"><pre class="screen">zypper patch --auto-agree-with-licenses</pre></div><p>
   Some commands require one or more arguments. When using the install
   command, for example, you need to specify which package(s) to install:
  </p><div class="verbatim-wrap"><pre class="screen">zypper install mplayer</pre></div><p>
   Some options also require an argument. The following command will list
   all known patterns:
  </p><div class="verbatim-wrap"><pre class="screen">zypper search -t pattern</pre></div><p>
   You can combine all of the above. For example, the following command will
   install the <code class="systemitem">aspell-de</code> and
   <code class="systemitem">aspell-fr</code> packages from the
   <code class="literal">factory</code> repository while being verbose:
  </p><div class="verbatim-wrap"><pre class="screen">zypper -v install --from factory aspell-de aspell-fr</pre></div><p>
   The <code class="option">--from</code> option makes sure to keep all repositories
   enabled (for solving any dependencies) while requesting the package from
   the specified repository.
  </p><p>
   Most Zypper commands have a <code class="literal">dry-run</code> option that does a
   simulation of the given command. It can be used for test purposes.
  </p><div class="verbatim-wrap"><pre class="screen">zypper remove --dry-run MozillaFirefox</pre></div><p>
   Zypper supports the global <code class="option">--userdata
   <em class="replaceable ">string</em></code> option. You can specify a
   string with this option, which gets written to Zypper's log files and
   plug-ins (such as the Btrfs plug-in). It can be used to mark and identify
   transactions in log files.
  </p><div class="verbatim-wrap"><pre class="screen">zypper --userdata <em class="replaceable ">string</em> patch</pre></div></div><div class="sect2 " id="sec.zypper.softman"><div class="titlepage"><div><div><h3 class="title" id="sec.zypper.softman"><span class="number">4.1.2 </span><span class="name">Installing and Removing Software with Zypper</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.softman">#</a></h3></div></div></div><p>
   To install or remove packages use the following commands:
  </p><div class="verbatim-wrap"><pre class="screen">zypper install <em class="replaceable ">package_name</em>
zypper remove <em class="replaceable ">package_name</em></pre></div><p>
   Zypper knows various ways to address packages for the install and remove
   commands.
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140366417623680"><span class="term ">by the exact package name (and version number)</span></dt><dd><div class="verbatim-wrap"><pre class="screen">zypper install MozillaFirefox</pre></div><p>
      or
     </p><div class="verbatim-wrap"><pre class="screen">zypper install MozillaFirefox-3.5.3</pre></div></dd><dt id="idm140366417620928"><span class="term ">by repository alias and package name</span></dt><dd><div class="verbatim-wrap"><pre class="screen">zypper install mozilla:MozillaFirefox</pre></div><p>
      Where <code class="literal">mozilla</code> is the alias of the repository from
      which to install.
     </p></dd><dt id="idm140366417618160"><span class="term ">by package name using wild cards</span></dt><dd><p>
      The following command will install all packages that have names
      starting with <span class="quote">“<span class="quote">Moz</span>”</span>. Use with care, especially when
      removing packages.
     </p><div class="verbatim-wrap"><pre class="screen">zypper install 'Moz*'</pre></div><div id="idm140366417615648" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Removing all <code class="filename">-debuginfo</code> Packages</h6><p>
       When debugging a problem, you sometimes need to temporarily install a lot of <code class="filename">-debuginfo</code>
       packages which give you more information about running processes.
       After your debugging session finishes and you need to clean the environment, run the following:
      </p><div class="verbatim-wrap"><pre class="screen">zypper remove '*-debuginfo'</pre></div></div></dd><dt id="idm140366417612400"><span class="term ">by capability</span></dt><dd><p>
      For example, if you want to install a Perl module without knowing the
      name of the package, capabilities come in handy:
     </p><div class="verbatim-wrap"><pre class="screen">zypper install firefox</pre></div></dd><dt id="idm140366417610032"><span class="term ">by capability and/or architecture and/or version</span></dt><dd><p>
      Together with a capability you can specify an architecture (such as
      <code class="literal">x86_64</code>) and/or a version. The version must be
      preceded by an operator: <code class="literal">&lt;</code> (lesser than),
      <code class="literal">&lt;=</code> (lesser than or equal),
      <code class="literal">=</code> (equal), <code class="literal">&gt;=</code> (greater
      than or equal), <code class="literal">&gt;</code> (greater than).
     </p><div class="verbatim-wrap"><pre class="screen">zypper install 'firefox.x86_64'
zypper install 'firefox&gt;=3.5.3'
zypper install 'firefox.x86_64&gt;=3.5.3'</pre></div></dd><dt id="idm140366417604848"><span class="term ">by path to the RPM file</span></dt><dd><p>
      You can also specify a local or remote path to a package:
     </p><div class="verbatim-wrap"><pre class="screen">zypper install /tmp/install/MozillaFirefox.rpm
zypper install http://download.opensuse.org/repositories/mozilla/SUSE_Factory/x86_64/MozillaFirefox-3.5.3-1.3.x86_64.rpm</pre></div></dd></dl></div><p>
   To install and remove packages simultaneously use the
   <code class="literal">+/-</code> modifiers. To install
   <code class="systemitem">emacs</code> and remove <code class="systemitem">vim</code>
   simultaneously, use:
  </p><div class="verbatim-wrap"><pre class="screen">zypper install emacs -vim</pre></div><p>
   To remove <code class="systemitem">emacs</code> and install
   <code class="systemitem">vim</code> simultaneously, use:
  </p><div class="verbatim-wrap"><pre class="screen">zypper remove emacs +vim</pre></div><p>
   To prevent the package name starting with the <code class="literal">-</code> being
   interpreted as a command option, always use it as the second argument. If
   this is not possible, precede it with <code class="literal">--</code>:
  </p><div class="verbatim-wrap"><pre class="screen">zypper install -emacs +vim       # Wrong
zypper install vim -emacs        # Correct
zypper install -- -emacs +vim    # same as above
zypper remove emacs +vim         # same as above</pre></div><p>
   If (together with a certain package) you automatically want to remove any
   packages that become unneeded after removing the specified package, use
   the <code class="option">--clean-deps</code> option:
  </p><div class="verbatim-wrap"><pre class="screen">zypper rm <em class="replaceable ">package_name</em> --clean-deps</pre></div><p>
   By default, Zypper asks for a confirmation before installing or removing
   a selected package, or when a problem occurs. You can override this
   behavior using the <code class="option">--non-interactive</code> option. This option
   must be given before the actual command (<code class="command">install</code>,
   <code class="command">remove</code>, and <code class="command">patch</code>) as in the
   following:
  </p><div class="verbatim-wrap"><pre class="screen">zypper <code class="option">--non-interactive</code> install <em class="replaceable ">package_name</em></pre></div><p>
   This option allows the use of Zypper in scripts and cron jobs.
  </p><div id="idm140366417589920" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Do not Remove Mandatory System Packages</h6><p>
    Do not remove packages such as <code class="systemitem">glibc</code>,
    <code class="systemitem">zypper</code>, <code class="systemitem">kernel</code>, or
    similar packages. These packages are mandatory for the system and, if
    removed, may cause the system to become unstable or stop working
    altogether.
   </p></div><div class="sect3 " id="sec.zypper.softman.sources"><div class="titlepage"><div><div><h4 class="title" id="sec.zypper.softman.sources"><span class="number">4.1.2.1 </span><span class="name">Installing or Downloading Source Packages</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.softman.sources">#</a></h4></div></div></div><p>
    <a id="idm140366417585552" class="indexterm"></a> If you want to install the corresponding source package of
    a package, use:
   </p><div class="verbatim-wrap"><pre class="screen">zypper source-install <em class="replaceable ">package_name</em></pre></div><p>
    That command will also install the build dependencies of the specified
    package. If you do not want this, add the switch <code class="literal">-D</code>.
    To install only the build dependencies use <code class="literal">-d</code>.
   </p><div class="verbatim-wrap"><pre class="screen">zypper source-install -D <em class="replaceable ">package_name</em> # source package only
zypper source-install -d <em class="replaceable ">package_name</em> # build dependencies only</pre></div><p>
    Of course, this will only work if you have the repository with the
    source packages enabled in your repository list (it is added by default,
    but not enabled). See <a class="xref" href="cha.sw_cl.html#sec.zypper.instrepo" title="4.1.5. Managing Repositories with Zypper">Section 4.1.5, “Managing Repositories with Zypper”</a> for details
    on repository management.
   </p><p>
    A list of all source packages available in your repositories can be
    obtained with:
   </p><div class="verbatim-wrap"><pre class="screen">zypper search -t srcpackage</pre></div><p>
    You can also download source packages for all installed packages to a
    local directory. To download source packages, use:
   </p><div class="verbatim-wrap"><pre class="screen">zypper source-download</pre></div><p>
    The default download directory is
    <code class="filename">/var/cache/zypper/source-download</code>. You can change
    it using the <code class="option">--directory</code> option. To only show missing
    or extraneous packages without downloading or deleting anything, use the
    <code class="option">--status</code> option. To delete extraneous source packages,
    use the <code class="option">--delete</code> option. To disable deleting, use the
    <code class="option">--no-delete</code> option.
   </p></div><div class="sect3 " id="sec.zypper.softman.pluscontent"><div class="titlepage"><div><div><h4 class="title" id="sec.zypper.softman.pluscontent"><span class="number">4.1.2.2 </span><span class="name">Installing Packages from Disabled Repositories</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.softman.pluscontent">#</a></h4></div></div></div><p>
    Normally you can only install packages from enabled repositories.  The
    <code class="option">--plus-content <em class="replaceable ">tag</em></code> option
    helps you specify repositories to be refreshed, temporarily enabled during
    the current Zypper session, and disabled after it completes.
   </p><p>
    For example, to enable repositories that may provide additional
    <code class="filename">-debuginfo</code> or <code class="filename">-debugsource</code>
    packages, use <code class="option">--plus-content debug</code>.  You can specify this
    option multiple times.
   </p><p>
    To temporarily enable such 'debug' repositories to install a
    specific <code class="filename">-debuginfo</code> package, use the option as
    follows:
   </p><div class="verbatim-wrap"><pre class="screen">zypper --plus-content debug install "debuginfo(build-id)=eb844a5c20c70a59fc693cd1061f851fb7d046f4"</pre></div><p>
    The <code class="literal">build-id</code> string is reported by
    <code class="command">gdb</code> for missing debuginfo packages.
   </p></div><div class="sect3 " id="sec.zypper.softman.util"><div class="titlepage"><div><div><h4 class="title" id="sec.zypper.softman.util"><span class="number">4.1.2.3 </span><span class="name">Utilities</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.softman.util">#</a></h4></div></div></div><p>
    To verify whether all dependencies are still fulfilled and to repair
    missing dependencies, use:
   </p><div class="verbatim-wrap"><pre class="screen">zypper verify</pre></div><p>
    In addition to dependencies that must be fulfilled, some packages
    <span class="quote">“<span class="quote">recommend</span>”</span> other packages. These recommended packages are
    only installed if actually available and installable. In case
    recommended packages were made available after the recommending package
    has been installed (by adding additional packages or hardware), use the
    following command:
   </p><div class="verbatim-wrap"><pre class="screen">zypper install-new-recommends</pre></div><p>
    This command is very useful after plugging in a webcam or Wi-Fi device.
    It will install drivers for the device and related software, if
    available. Drivers and related software are only installable if certain
    hardware dependencies are fulfilled.
   </p></div></div><div class="sect2 " id="sec.zypper.softup"><div class="titlepage"><div><div><h3 class="title" id="sec.zypper.softup"><span class="number">4.1.3 </span><span class="name">Updating Software with Zypper</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.softup">#</a></h3></div></div></div><p>
   There are three different ways to update software using Zypper: by
   installing patches, by installing a new version of a package or by
   updating the entire distribution. The latter is achieved with
   <code class="command">zypper dist-upgrade</code>. Upgrading <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span> is
   discussed in <span class="intraxref">Book “<em class="citetitle ">Deployment Guide</em>”, Chapter 14 “Upgrading SUSE Linux Enterprise”</span>.
  </p><div class="sect3 " id="sec.zypper.softup.patch"><div class="titlepage"><div><div><h4 class="title" id="sec.zypper.softup.patch"><span class="number">4.1.3.1 </span><span class="name">Installing Patches</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.softup.patch">#</a></h4></div></div></div><p>
    To install all officially released patches applying to your system, run:
   </p><div class="verbatim-wrap"><pre class="screen">zypper patch</pre></div><p>
    In this case, all patches available in your repositories are checked for
    relevance and installed, if necessary. After registering your
    <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span> installation, an official update repository containing
    such patches will be added to your system. The above command is all you
    need to enter to apply them when needed.
   </p><p>
    If a patch to be installed includes changes that require a system
    reboot, you will be warned before installing the patch.
   </p><p>
    Zypper knows three different commands to query for the availability of
    patches:
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm140366417552000"><span class="term "><code class="command">zypper patch-check</code>
     </span></dt><dd><p>
       Lists the number of needed patches (patches, that apply to your
       system but are not yet installed)
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>sudo zypper patch-check
Loading repository data...
Reading installed packages...
5 patches needed (1 security patch)</pre></div></dd><dt id="idm140366417548992"><span class="term "><code class="command">zypper list-patches</code>
     </span></dt><dd><p>
       Lists all needed patches (patches, that apply to your system but are
       not yet installed)
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>sudo zypper list-patches
Loading repository data...
Reading installed packages...
 
Repository     | Name        | Version | Category | Status  | Summary
---------------+-------------+---------+----------+---------+---------
SLES12-Updates | SUSE-2014-8 | 1       | security | needed  | openssl: Update to OpenSSL 1.0.1g</pre></div></dd><dt id="idm140366417545456"><span class="term "><code class="command">zypper patches</code>
     </span></dt><dd><p>
       Lists all patches available for <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span>, regardless of
       whether they are already installed or apply to your installation.
      </p></dd></dl></div><p>
    It is also possible to list and install patches relevant to specific
    issues. To list specific patches, use the <code class="command">zypper
    list-patches</code> command with the following options:
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm140366417540640"><span class="term "><code class="option">--bugzilla[=<em class="replaceable ">number</em>] </code>
     </span></dt><dd><p>
       Lists all needed patches for Bugzilla issues. Optionally, you can
       specify a bug number if you only want to list patches for this
       specific bug.
      </p></dd><dt id="idm140366417537952"><span class="term "><code class="option">--cve[=<em class="replaceable ">number</em>]</code>
     </span></dt><dd><p>
       Lists all needed patches for CVE (Common Vulnerabilities and
       Exposures) issues, or only patches matching a certain CVE number, if
       specified.
      </p><div class="verbatim-wrap"><pre class="screen">zypper list-patches --cve</pre></div><p>
       Lists all 'needed' patches with a CVE number assigned.
      </p><div class="verbatim-wrap"><pre class="screen">zypper list-patches --all --cve
Issue | No.           | Patch             | Category    | Severity  | Status
------+---------------+-------------------+-------------+-----------+----------
cve   | CVE-2015-0287 | SUSE-SLE-Module.. | recommended | moderate  | needed
cve   | CVE-2014-3566 | SUSE-SLE-SERVER.. | recommended | moderate  | not needed
[...]</pre></div><p>
       Lists all patches with a CVE number assigned.
      </p><div class="verbatim-wrap"><pre class="screen">zypper list-patches --all --cve=CVE-2015-4477,CVE-2014-3639
Issue | No.           | Patch    | Category    | Severity  | Inter. | Status    
------+---------------+----------+-------------+-----------+--------+-----------
cve   | CVE-2014-3639 | 2014-558 | security    | moderate  | reboot | not needed
cve   | CVE-2014-3639 | 2014-558 | security    | moderate  | reboot | not needed
cve   | CVE-2015-4477 | 2015-547 | security    | important | ---    | needed    
cve   | CVE-2014-3639 | 3240     | recommended | moderate  | ---    | not needed
cve   | CVE-2014-3639 | 3240     | recommended | moderate  | ---    | not needed</pre></div><p>
 Lists 'all' patches with CVE-2015-4477 or CVE-2014-3639.
</p></dd></dl></div><p>
    To install a patch for a specific Bugzilla or CVE issue, use the
    following commands:
   </p><div class="verbatim-wrap"><pre class="screen">zypper patch --bugzilla=<em class="replaceable ">number</em></pre></div><p>
    or
   </p><div class="verbatim-wrap"><pre class="screen">zypper patch --cve=<em class="replaceable ">number</em></pre></div><p>
    For example, to install a security patch with the CVE number
    <code class="literal">CVE-2010-2713</code>, execute:
   </p><div class="verbatim-wrap"><pre class="screen">zypper patch --cve=CVE-2010-2713</pre></div></div><div class="sect3 " id="sec.zypper.softup.update"><div class="titlepage"><div><div><h4 class="title" id="sec.zypper.softup.update"><span class="number">4.1.3.2 </span><span class="name">Installing New Package Versions</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.softup.update">#</a></h4></div></div></div><p>
    If a repository contains only new packages, but does not provide
    patches, <code class="command">zypper patch</code> does not show any
    effect. To update all installed packages with newer available versions
    (while maintaining system integrity), use:
   </p><div class="verbatim-wrap"><pre class="screen">zypper update</pre></div><p>
    To update individual packages, specify the package with either the
    update or install command:
   </p><div class="verbatim-wrap"><pre class="screen">zypper update <em class="replaceable ">package_name</em>
zypper install <em class="replaceable ">package_name</em></pre></div><p>
    A list of all new installable packages can be obtained with the command:
   </p><div class="verbatim-wrap"><pre class="screen">zypper list-updates</pre></div><p>
    Note that this command only lists packages that match the following
    criteria:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      has the same vendor like the already installed package,
     </p></li><li class="listitem "><p>
      is provided by repositories with at least the same priority than the
      already installed package,
     </p></li><li class="listitem "><p>
      is installable (all dependencies are satisfied).
     </p></li></ul></div><p>
    A list of <span class="emphasis"><em>all</em></span> new available packages (regardless
    whether installable or not) can be obtained with:
   </p><div class="verbatim-wrap"><pre class="screen">zypper list-updates --all</pre></div><p>
    To find out why a new package cannot be installed, use the
    <code class="command">zypper install</code> or <code class="command">zypper update</code>
    command as described above.
   </p></div><div class="sect3 " id="sec.zypper.softup.orphaned"><div class="titlepage"><div><div><h4 class="title" id="sec.zypper.softup.orphaned"><span class="number">4.1.3.3 </span><span class="name">Identifying Orphaned Packages</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.softup.orphaned">#</a></h4></div></div></div><p>Whenever you remove a repository from zypper or upgrade your system,
      some packages can get in an <span class="quote">“<span class="quote">orphaned</span>”</span> state.
      These <span class="emphasis"><em>orphaned</em></span> packages belong to no active
      repository anymore. The following command gives you a list of these:
    </p><div class="verbatim-wrap"><pre class="screen">zypper packages --orphaned</pre></div><p>With this list, you can decide if a package is still needed or can
      be deinstalled safely.</p></div></div><div class="sect2 " id="sec.zypper.ps"><div class="titlepage"><div><div><h3 class="title" id="sec.zypper.ps"><span class="number">4.1.4 </span><span class="name">Identifying Processes and Services Using Deleted Files</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.ps">#</a></h3></div></div></div><p>
   When patching, updating or removing packages, there may be running
   processes on the system which continue to use files having been deleted by
   the update or removal. Use <code class="command">zypper ps</code> to show a list of
   processes using deleted files. In case the process belongs to a known
   service, the service name is listed, making it easy to restart the
   service. By default <code class="command">zypper ps</code> shows a table:
  </p><div class="verbatim-wrap"><pre class="screen">PID   | PPID | UID | User  | Command      | Service      | Files
------+------+-----+-------+--------------+--------------+-------------------
814   | 1    | 481 | avahi | avahi-daemon | avahi-daemon | /lib64/ld-2.19.s-&gt;
      |      |     |       |              |              | /lib64/libdl-2.1-&gt;
      |      |     |       |              |              | /lib64/libpthrea-&gt;
      |      |     |       |              |              | /lib64/libc-2.19-&gt;
[...]</pre></div><table border="0" summary="Simple list" class="simplelist "><tr><td>
    <span class="bold"><strong>PID</strong></span>: ID of the process
   </td></tr><tr><td>
    <span class="bold"><strong>PPID</strong></span>: ID of the parent process
   </td></tr><tr><td>
    <span class="bold"><strong>UID</strong></span>: ID of the user running the
    process
   </td></tr><tr><td>
    <span class="bold"><strong>Login</strong></span>: Login name of the user
    running the process
   </td></tr><tr><td>
    <span class="bold"><strong>Command</strong></span>: Command used to
    executethe process
   </td></tr><tr><td>
    <span class="bold"><strong>Service</strong></span>: Service name (only if command
    is associated with a system service)
   </td></tr><tr><td>
    <span class="bold"><strong>Files</strong></span>: The list of the deleted
    files
   </td></tr></table><p>
   The output format of <code class="command">zypper ps</code> can be
   controlled as follows:
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140366417496992"><span class="term "><code class="command">zypper ps</code> <code class="option">-s</code></span></dt><dd><p>
      Create a short table not showing the deleted files.
     </p><div class="verbatim-wrap"><pre class="screen">PID   | PPID | UID  | User    | Command      | Service           
------+------+------+---------+--------------+--------------
814   | 1    | 481  | avahi   | avahi-daemon | avahi-daemon      
817   | 1    | 0    | root    | irqbalance   | irqbalance        
1567  | 1    | 0    | root    | sshd         | sshd              
1761  | 1    | 0    | root    | master       | postfix           
1764  | 1761 | 51   | postfix | pickup       | postfix           
1765  | 1761 | 51   | postfix | qmgr         | postfix
2031  | 2027 | 1000 | tux     | bash         |</pre></div></dd><dt id="idm140366417493584"><span class="term "><code class="command">zypper ps</code> <code class="option">-ss</code></span></dt><dd><p>
      Show only processes associated with a system service.
     </p><div class="verbatim-wrap"><pre class="screen">PID   | PPID | UID  | User    | Command      | Service           
------+------+------+---------+--------------+--------------
814   | 1    | 481  | avahi   | avahi-daemon | avahi-daemon      
817   | 1    | 0    | root    | irqbalance   | irqbalance        
1567  | 1    | 0    | root    | sshd         | sshd              
1761  | 1    | 0    | root    | master       | postfix           
1764  | 1761 | 51   | postfix | pickup       | postfix           
1765  | 1761 | 51   | postfix | qmgr         | postfix</pre></div></dd><dt id="idm140366417490224"><span class="term "><code class="command">zypper ps</code> <code class="option">-sss</code></span></dt><dd><p>
      Only show system services using deleted files.
     </p><div class="verbatim-wrap"><pre class="screen">avahi-daemon      
irqbalance        
postfix
sshd</pre></div></dd><dt id="idm140366417487328"><span class="term ">
     <code class="command">zypper ps</code> <code class="option">--print "systemctl status
     %s"</code>
    </span></dt><dd><p>
      Show the commands to retrieve status information for services which
      might need a restart.
     </p><div class="verbatim-wrap"><pre class="screen">systemctl status avahi-daemon
systemctl status irqbalance
systemctl status postfix
systemctl status sshd</pre></div></dd></dl></div><p>
   For more information about service handling refer to <a class="xref" href="cha.systemd.html" title="Chapter 10. The systemd Daemon">Chapter 10, <em>The <code class="systemitem">systemd</code> Daemon</em></a>.
  </p></div><div class="sect2 " id="sec.zypper.instrepo"><div class="titlepage"><div><div><h3 class="title" id="sec.zypper.instrepo"><span class="number">4.1.5 </span><span class="name">Managing Repositories with Zypper</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.instrepo">#</a></h3></div></div></div><p>
   All installation or patch commands of Zypper rely on a list of known
   repositories. To list all repositories known to the system, use the
   command:
  </p><div class="verbatim-wrap"><pre class="screen">zypper repos</pre></div><p>
   The result will look similar to the following output:
  </p><div class="example" id="ex.zypper.repos"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.1: </span><span class="name">Zypper—List of Known Repositories </span><a title="Permalink" class="permalink" href="cha.sw_cl.html#ex.zypper.repos">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"># | Alias        | Name          | Enabled | Refresh
--+--------------+---------------+---------+--------
1 | SLEHA-12-GEO | SLEHA-12-GEO  | Yes     | No     
2 | SLEHA-12     | SLEHA-12      | Yes     | No     
3 | SLES12       | SLES12        | Yes     | No</pre></div></div></div><p>
   When specifying repositories in various commands, an alias, URI or
   repository number from the <code class="command">zypper repos</code> command output
   can be used. A repository alias is a short version of the repository name
   for use in repository handling commands. Note that the repository numbers
   can change after modifying the list of repositories. The alias will never
   change by itself.
  </p><p>
   By default, details such as the URI or the priority of the repository are
   not displayed. Use the following command to list all details:
  </p><div class="verbatim-wrap"><pre class="screen">zypper repos -d</pre></div><div class="sect3 " id="sec.zypper.instrepo.add"><div class="titlepage"><div><div><h4 class="title" id="sec.zypper.instrepo.add"><span class="number">4.1.5.1 </span><span class="name">Adding Repositories</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.instrepo.add">#</a></h4></div></div></div><p>
    To add a repository, run
   </p><div class="verbatim-wrap"><pre class="screen">zypper addrepo <em class="replaceable ">URI</em> <em class="replaceable ">alias</em></pre></div><p>
    <em class="replaceable ">URI</em> can either be an Internet repository, a
    network resource, a directory or a CD or DVD (see
    <a class="link" href="http://en.opensuse.org/openSUSE:Libzypp_URIs" target="_blank">http://en.opensuse.org/openSUSE:Libzypp_URIs</a> for
    details). The <em class="replaceable ">alias</em> is a shorthand and unique
    identifier of the repository. You can freely choose it, with the only
    exception that it needs to be unique. Zypper will issue a warning if you
    specify an alias that is already in use.
   </p></div><div class="sect3 " id="sec.zypper.instrepo.rm"><div class="titlepage"><div><div><h4 class="title" id="sec.zypper.instrepo.rm"><span class="number">4.1.5.2 </span><span class="name">Removing Repositories</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.instrepo.rm">#</a></h4></div></div></div><p>
    If you want to remove a repository from the list, use the command
    <code class="command">zypper removerepo</code> together with the alias or number
    of the repository you want to delete. For example, to remove the
    repository <code class="literal">SLEHA-12-GEO</code> from
    <a class="xref" href="cha.sw_cl.html#ex.zypper.repos" title="Zypper—List of Known Repositories">Example 4.1, “Zypper—List of Known Repositories”</a>, use one of the following commands:
   </p><div class="verbatim-wrap"><pre class="screen">zypper removerepo 1
zypper removerepo "SLEHA-12-GEO"</pre></div></div><div class="sect3 " id="sec.zypper.instrepo.mofify"><div class="titlepage"><div><div><h4 class="title" id="sec.zypper.instrepo.mofify"><span class="number">4.1.5.3 </span><span class="name">Modifying Repositories</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.instrepo.mofify">#</a></h4></div></div></div><p>
    Enable or disable repositories with <code class="command">zypper
    modifyrepo</code>. You can also alter the repository's properties
    (such as refreshing behavior, name or priority) with this command. The
    following command will enable the repository named
    <code class="literal">updates</code>, turn on auto-refresh and set its priority to
    20:
   </p><div class="verbatim-wrap"><pre class="screen">zypper modifyrepo -er -p 20 'updates'</pre></div><p>
    Modifying repositories is not limited to a single
    repository—you can also operate on groups:
   </p><table border="0" summary="Simple list" class="simplelist "><tr><td><code class="option">-a</code>: all repositories</td></tr><tr><td><code class="option">-l</code>: local repositories</td></tr><tr><td><code class="option">-t</code>: remote repositories</td></tr><tr><td><code class="option">-m <em class="replaceable ">TYPE</em></code>: repositories
     of a certain type (where <em class="replaceable ">TYPE</em> can be one of the
     following: <code class="literal">http</code>, <code class="literal">https</code>, <code class="literal">ftp</code>, 
     <code class="literal">cd</code>, <code class="literal">dvd</code>, <code class="literal">dir</code>, <code class="literal">file</code>, 
     <code class="literal">cifs</code>, <code class="literal">smb</code>, <code class="literal">nfs</code>, <code class="literal">hd</code>, 
     <code class="literal">iso</code>) </td></tr></table><p>
    To rename a repository alias, use the <code class="literal">renamerepo</code>
    command. The following example changes the alias from <code class="literal">Mozilla
    Firefox</code> to <code class="literal">firefox</code>:
   </p><div class="verbatim-wrap"><pre class="screen">zypper renamerepo 'Mozilla Firefox' firefox</pre></div></div></div><div class="sect2 " id="sec.zypper.query"><div class="titlepage"><div><div><h3 class="title" id="sec.zypper.query"><span class="number">4.1.6 </span><span class="name">Querying Repositories and Packages with Zypper</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.query">#</a></h3></div></div></div><p>
   Zypper offers various methods to query repositories or packages. To get
   lists of all products, patterns, packages or patches available, use the
   following commands:
  </p><div class="verbatim-wrap"><pre class="screen">zypper products
zypper patterns
zypper packages
zypper patches</pre></div><p>
   To query all repositories for certain packages, use
   <code class="literal">search</code>. It works on package names, or, optionally, on
   package summaries and descriptions. String wrapped in
   <code class="literal">/</code> are interpreted as regular expressions. By default,
   the search is not case-sensitive.
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140366417446400"><span class="term ">Simple search for a package name containing <code class="literal">fire</code>
    </span></dt><dd><div class="verbatim-wrap"><pre class="screen">zypper search "fire"</pre></div></dd><dt id="idm140366417444128"><span class="term ">Simple search for the exact package <code class="literal">MozillaFirefox</code>
    </span></dt><dd><div class="verbatim-wrap"><pre class="screen">zypper search --match-exact "MozillaFirefox"</pre></div></dd><dt id="idm140366417441840"><span class="term ">Also search in package descriptions and summaries</span></dt><dd><div class="verbatim-wrap"><pre class="screen">zypper search -d fire</pre></div></dd><dt id="idm140366417440016"><span class="term ">Only display packages not already installed</span></dt><dd><div class="verbatim-wrap"><pre class="screen">zypper search -u fire</pre></div></dd><dt id="idm140366417438192"><span class="term ">Display packages containing the string <code class="literal">fir</code> not
    followed be <code class="literal">e</code>
    </span></dt><dd><div class="verbatim-wrap"><pre class="screen">zypper se "/fir[^e]/"</pre></div></dd></dl></div><p>
   To search for packages which provide a special capability, use the
   command <code class="literal">what-provides</code>. For example, if you want to
   know which package provides the Perl module <code class="literal">SVN::Core</code>,
   use the following command:
  </p><div class="verbatim-wrap"><pre class="screen">zypper what-provides 'perl(SVN::Core)'</pre></div><p>
   To query single packages, use <code class="command">info</code> with an exact
   package name as an argument. It displays detailed information about a
   package. To also show what is required/recommended by the package, use
   the options <code class="option">--requires</code> and
   <code class="option">--recommends</code>:
  </p><div class="verbatim-wrap"><pre class="screen">zypper info --requires MozillaFirefox</pre></div><p>
   The <code class="literal">what-provides <em class="replaceable ">package</em></code>
   is similar to <code class="command">rpm -q --whatprovides</code>
   <em class="replaceable ">package</em>, but RPM is only able to query the RPM
   database (that is the database of all installed packages). Zypper, on the
   other hand, will tell you about providers of the capability from any
   repository, not only those that are installed.
  </p><a id="idm140366417428800" class="indexterm"></a></div><div class="sect2 " id="sec.zypper.configure"><div class="titlepage"><div><div><h3 class="title" id="sec.zypper.configure"><span class="number">4.1.7 </span><span class="name">Configuring Zypper</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.configure">#</a></h3></div></div></div><p>
   Zypper now comes with a configuration file, allowing you to permanently
   change Zypper's behavior (either system-wide or user-specific). For
   system-wide changes, edit <code class="filename">/etc/zypp/zypper.conf</code>. For
   user-specific changes, edit <code class="filename">~/.zypper.conf</code>. If
   <code class="filename">~/.zypper.conf</code> does not yet exist, you can use
   <code class="filename">/etc/zypp/zypper.conf</code> as a template: copy it to
   <code class="filename">~/.zypper.conf</code> and adjust it to your liking. Refer
   to the comments in the file for help about the available options.
  </p></div><div class="sect2 " id="sec.zypper.trouble"><div class="titlepage"><div><div><h3 class="title" id="sec.zypper.trouble"><span class="number">4.1.8 </span><span class="name">Troubleshooting</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.trouble">#</a></h3></div></div></div><p>
   In case you have problems to access packages from configured repositories
   (for example, Zypper cannot find a certain package though you know that
   it exists in one the repositories), it can help to refresh the
   repositories with:
  </p><div class="verbatim-wrap"><pre class="screen">zypper refresh</pre></div><p>
   If that does not help, try
  </p><div class="verbatim-wrap"><pre class="screen">zypper refresh -fdb</pre></div><p>
   This forces a complete refresh and rebuild of the database, including a
   forced download of raw metadata.
  </p></div><div class="sect2 " id="sec.zypper.rollback"><div class="titlepage"><div><div><h3 class="title" id="sec.zypper.rollback"><span class="number">4.1.9 </span><span class="name">Zypper Rollback Feature on Btrfs File System</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.rollback">#</a></h3></div></div></div><p>
   If the Btrfs file system is used on the root partition and
   <code class="command">snapper</code> is installed, Zypper automatically calls
   <code class="command">snapper</code> (via script installed by
   <code class="command">snapper</code>) when committing changes to the file system to
   create appropriate file system snapshots. These snapshots can be used for
   reverting any changes made by Zypper. See <a class="xref" href="cha.snapper.html" title="Chapter 3. System Recovery and Snapshot Management with Snapper">Chapter 3, <em>System Recovery and Snapshot Management with Snapper</em></a>
   for more information.
  </p></div><div class="sect2 " id="sec.zypper.more"><div class="titlepage"><div><div><h3 class="title" id="sec.zypper.more"><span class="number">4.1.10 </span><span class="name">For More Information</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.zypper.more">#</a></h3></div></div></div><p>
   For more information on managing software from the command line, enter
   <code class="command">zypper help</code>, <code class="command">zypper help </code>
   <em class="replaceable ">command</em> or refer to the
   <code class="systemitem">zypper(8)</code> man page. For a complete and detailed
   command reference, including <code class="literal">cheat sheets</code> with the
   most important commands, and information on how to use Zypper in scripts
   and applications, refer to
   <a class="link" href="http://en.opensuse.org/SDB:Zypper_usage" target="_blank">http://en.opensuse.org/SDB:Zypper_usage</a>. A list of
   software changes for the latest <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span> version can be found at
   <a class="link" href="http://en.opensuse.org/openSUSE:Zypper versions" target="_blank">http://en.opensuse.org/openSUSE:Zypper versions</a>.
  </p></div></div><div class="sect1 " id="sec.rpm"><div class="titlepage"><div><div><h2 class="title" id="sec.rpm"><span class="number">4.2 </span><span class="name">RPM—the Package Manager</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.rpm">#</a></h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>rpm.xml</li><li><span class="ds-label">ID: </span>sec.rpm</li></ul></div></div></div></div><a id="idx.RPM" class="indexterm"></a><a id="idm140366417403680" class="indexterm"></a><a id="idm140366417402656" class="indexterm"></a><a id="idm140366417401632" class="indexterm"></a><p>
  RPM (RPM Package Manager) is used for managing software packages. Its main
  commands are <code class="command">rpm</code> and <code class="command">rpmbuild</code>. The
  powerful RPM database can be queried by the users, system administrators
  and package builders for detailed information about the installed
  software.
 </p><a id="idm140366417399040" class="indexterm"></a><a id="idm140366417398464" class="indexterm"></a><p>
  Essentially, <code class="command">rpm</code> has five modes: installing,
  uninstalling (or updating) software packages, rebuilding the RPM database,
  querying RPM bases or individual RPM archives, integrity checking of
  packages and signing packages. <code class="command">rpmbuild</code> can be used to
  build installable packages from pristine sources.
 </p><p>
  Installable RPM archives are packed in a special binary format. These
  archives consist of the program files to install and certain meta
  information used during the installation by <code class="command">rpm</code> to
  configure the software package or stored in the RPM database for
  documentation purposes. RPM archives normally have the extension
  <code class="filename">.rpm</code>.
 </p><a id="idm140366417394208" class="indexterm"></a><a id="idm140366417393184" class="indexterm"></a><div id="idm140366417392000" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Software Development Packages</h6><p>
   For several packages, the components needed for software development
   (libraries, headers, include files, etc.) have been put into separate
   packages. These development packages are only needed if you want to
   compile software yourself (for example, the most recent GNOME packages).
   They can be identified by the name extension <code class="literal">-devel</code>,
   such as the packages <code class="systemitem">alsa-devel</code>
   and <code class="systemitem">gimp-devel</code>.
  </p></div><div class="sect2 " id="sec.rpm.package_auth"><div class="titlepage"><div><div><h3 class="title" id="sec.rpm.package_auth"><span class="number">4.2.1 </span><span class="name">Verifying Package Authenticity</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.rpm.package_auth">#</a></h3></div></div></div><a id="idm140366417387456" class="indexterm"></a><a id="idm140366417386432" class="indexterm"></a><p>
   RPM packages have a GPG signature. To verify the signature of an RPM
   package, use the command <code class="command">rpm --checksig </code>
   <em class="replaceable ">package</em>-1.2.3.rpm to determine whether the
   package originates from SUSE or from another trustworthy facility.
   This is especially recommended for update packages from the Internet.
  </p><p>
   While fixing issues in the operating system, you might need to install a
   Problem Temporary Fix (PTF) into a production system. The packages
   provided by SUSE are signed against a special PTF key. However, in
   contrast to SUSE Linux Enterprise 11, this key is not imported by default on SUSE Linux Enterprise
   12 systems. To manually import the key, use the following command:
  </p><div class="verbatim-wrap"><pre class="screen">rpm --import /usr/share/doc/packages/suse-build-key/suse_ptf_key.asc</pre></div><p>
   After importing the key, you can install PTF packages on your system.
  </p></div><div class="sect2 " id="sec.rpm.packages_manage"><div class="titlepage"><div><div><h3 class="title" id="sec.rpm.packages_manage"><span class="number">4.2.2 </span><span class="name">Managing Packages: Install, Update, and Uninstall</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.rpm.packages_manage">#</a></h3></div></div></div><a id="idm140366417380704" class="indexterm"></a><a id="idm140366417379680" class="indexterm"></a><a id="idm140366417378656" class="indexterm"></a><a id="idm140366417377632" class="indexterm"></a><a id="idm140366417376608" class="indexterm"></a><a id="idm140366417375584" class="indexterm"></a><p>
   Normally, the installation of an RPM archive is quite simple:
   <code class="command">rpm -i</code> <em class="replaceable ">package</em>.rpm. With
   this command the package is installed, but only if its dependencies are
   fulfilled and if there are no conflicts with other packages. With an
   error message, <code class="command">rpm</code> requests those packages that need
   to be installed to meet dependency requirements. In the background, the
   RPM database ensures that no conflicts arise—a specific file can
   only belong to one package. By choosing different options, you can force
   <code class="command">rpm</code> to ignore these defaults, but this is only for
   experts. Otherwise, you risk compromising the integrity of the system and
   possibly jeopardize the ability to update the system.
  </p><a id="idm140366417371696" class="indexterm"></a><p>
   The options <code class="option">-U</code> or <code class="option">--upgrade</code> and
   <code class="option">-F</code> or <code class="option">--freshen</code> can be used to update a
   package (for example, <code class="command">rpm -F</code>
   <em class="replaceable ">package</em>.rpm). This command removes the files
   of the old version and immediately installs the new files. The difference
   between the two versions is that <code class="option">-U</code> installs packages
   that previously did not exist in the system, but <code class="option">-F</code>
   merely updates previously installed packages. When updating,
   <code class="command">rpm</code> updates configuration files carefully using the
   following strategy:
  </p><a id="idm140366417365872" class="indexterm"></a><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     If a configuration file was not changed by the system administrator,
     <code class="command">rpm</code> installs the new version of the appropriate
     file. No action by the system administrator is required.
    </p></li><li class="listitem "><p>
     If a configuration file was changed by the system administrator before
     the update, <code class="command">rpm</code> saves the changed file with the
     extension <code class="filename">.rpmorig</code> or
     <code class="filename">.rpmsave</code> (backup file) and installs the version
     from the new package (but only if the originally installed file and the
     newer version are different). If this is the case, compare the backup
     file (<code class="filename">.rpmorig</code> or <code class="filename">.rpmsave</code>)
     with the newly installed file and make your changes again in the new
     file. Afterwards, be sure to delete all <code class="filename">.rpmorig</code>
     and <code class="filename">.rpmsave</code> files to avoid problems with future
     updates.
    </p></li><li class="listitem "><p>
     <code class="filename">.rpmnew</code> files appear if the configuration file
     already exists <span class="emphasis"><em>and</em></span> if the
     <code class="option">noreplace</code> label was specified in the
     <code class="filename">.spec</code> file.
    </p></li></ul></div><p>
   Following an update, <code class="filename">.rpmsave</code> and
   <code class="filename">.rpmnew</code> files should be removed after comparing
   them, so they do not obstruct future updates. The
   <code class="filename">.rpmorig</code> extension is assigned if the file has not
   previously been recognized by the RPM database.
  </p><p>
   Otherwise, <code class="filename">.rpmsave</code> is used. In other words,
   <code class="filename">.rpmorig</code> results from updating from a foreign format
   to RPM. <code class="filename">.rpmsave</code> results from updating from an older
   RPM to a newer RPM. <code class="filename">.rpmnew</code> does not disclose any
   information to whether the system administrator has made any changes
   to the configuration file. A list of these files is available in
   <code class="filename">/var/adm/rpmconfigcheck</code>. Some configuration files
   (like <code class="filename">/etc/httpd/httpd.conf</code>) are not overwritten to
   allow continued operation.
  </p><p>
   The <code class="option">-U</code> switch is <span class="emphasis"><em>not</em></span> just an
   equivalent to uninstalling with the <code class="option">-e</code> option and
   installing with the <code class="option">-i</code> option. Use <code class="option">-U</code>
   whenever possible.
  </p><p>
   To remove a package, enter <code class="command">rpm -e</code>
   <em class="replaceable ">package</em>. This command only deletes the package
   if there are no unresolved dependencies. It is theoretically impossible
   to delete Tcl/Tk, for example, as long as another application requires
   it. Even in this case, RPM calls for assistance from the database. If
   such a deletion is, for whatever reason, impossible (even if
   <span class="emphasis"><em>no</em></span> additional dependencies exist), it may be helpful
   to rebuild the RPM database using the option
   <code class="option">--rebuilddb</code>.
  </p><a id="idm140366417344288" class="indexterm"></a><a id="idm140366417343264" class="indexterm"></a></div><div class="sect2 " id="sec.rpm.delta"><div class="titlepage"><div><div><h3 class="title" id="sec.rpm.delta"><span class="number">4.2.3 </span><span class="name">Delta RPM Packages</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.rpm.delta">#</a></h3></div></div></div><a id="idm140366417340528" class="indexterm"></a><a id="idm140366417339504" class="indexterm"></a><p>
   Delta RPM packages contain the difference between an old and a new
   version of an RPM package. Applying a delta RPM onto an old RPM results
   in a completely new RPM. It is not necessary to have a copy of the old
   RPM because a delta RPM can also work with an installed RPM. The delta
   RPM packages are even smaller in size than patch RPMs, which is an
   advantage when transferring update packages over the Internet. The
   drawback is that update operations with delta RPMs involved consume
   considerably more CPU cycles than plain or patch RPMs.
  </p><p>
   The <code class="command">makedeltarpm</code> and <code class="command">applydelta</code>
   binaries are part of the delta RPM suite (package
   <code class="systemitem">deltarpm</code>) and help you create and apply delta
   RPM packages. With the following commands, you can create a delta RPM
   called <code class="filename">new.delta.rpm</code>. The following command assumes
   that <code class="filename">old.rpm</code> and <code class="filename">new.rpm</code> are
   present:
  </p><div class="verbatim-wrap"><pre class="screen">makedeltarpm old.rpm new.rpm new.delta.rpm</pre></div><p>
   Using <code class="command">applydeltarpm</code>, you can reconstruct the new RPM
   from the file system if the old package is already installed:
  </p><div class="verbatim-wrap"><pre class="screen">applydeltarpm new.delta.rpm new.rpm</pre></div><p>
   To derive it from the old RPM without accessing the file system, use the
   <code class="option">-r</code> option:
  </p><div class="verbatim-wrap"><pre class="screen">applydeltarpm -r old.rpm new.delta.rpm new.rpm</pre></div><p>
   See <code class="filename">/usr/share/doc/packages/deltarpm/README</code> for
   technical details.
  </p></div><div class="sect2 " id="sec.rpm.query"><div class="titlepage"><div><div><h3 class="title" id="sec.rpm.query"><span class="number">4.2.4 </span><span class="name">RPM Queries</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.rpm.query">#</a></h3></div></div></div><a id="idm140366417328992" class="indexterm"></a><p>
   With the <code class="option">-q</code> option <code class="command">rpm</code> initiates
   queries, making it possible to inspect an RPM archive (by adding the
   option <code class="option">-p</code>) and to query the RPM database of
   installed packages. Several switches are available to specify the type of
   information required. See <a class="xref" href="cha.sw_cl.html#tab.rpm.query" title="The Most Important RPM Query Options">Table 4.1, “The Most Important RPM Query Options”</a>.
  </p><div class="table" id="tab.rpm.query"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.1: </span><span class="name">The Most Important RPM Query Options </span><a title="Permalink" class="permalink" href="cha.sw_cl.html#tab.rpm.query">#</a></h6></div><div class="table-contents"><table summary="The Most Important RPM Query Options" border="1"><colgroup><col /><col /></colgroup><tbody><tr><td>
       <p>
        <code class="option">-i</code>
       </p>
      </td><td>
       <p>
        Package information
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">-l</code>
       </p>
      </td><td>
       <p>
        File list
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">-f FILE</code>
       </p>
      </td><td>
       <p>
        Query the package that contains the file
        <em class="replaceable ">FILE</em> (the full path must be specified
        with <em class="replaceable ">FILE</em>)
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">-s</code>
       </p>
      </td><td>
       <p>
        File list with status information (implies <code class="option">-l</code>)
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">-d</code>
       </p>
      </td><td>
       <p>
        List only documentation files (implies <code class="literal">-l</code>)
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">-c</code>
       </p>
      </td><td>
       <p>
        List only configuration files (implies <code class="option">-l</code>)
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">--dump</code>
       </p>
      </td><td>
       <p>
        File list with complete details (to be used with
        <code class="option">-l</code>, <code class="option">-c</code>, or <code class="option">-d</code>)
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">--provides</code>
       </p>
      </td><td>
       <p>
        List features of the package that another package can request with
        <code class="option">--requires</code>
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">--requires</code>, <code class="option">-R</code>
       </p>
      </td><td>
       <p>
        Capabilities the package requires
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">--scripts</code>
       </p>
      </td><td>
       <p>
        Installation scripts (preinstall, postinstall, uninstall)
       </p>
      </td></tr></tbody></table></div></div><p>
   For example, the command <code class="command">rpm -q -i wget</code> displays the
   information shown in <a class="xref" href="cha.sw_cl.html#aus.update.rpm-i" title="rpm -q -i wget">Example 4.2, “<code class="command">rpm -q -i wget</code>”</a>.
  </p><div class="example" id="aus.update.rpm-i"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.2: </span><span class="name"><code class="command">rpm -q -i wget</code> </span><a title="Permalink" class="permalink" href="cha.sw_cl.html#aus.update.rpm-i">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">Name        : wget                         Relocations: (not relocatable)
Version     : 1.11.4                            Vendor: openSUSE
Release     : 1.70                          Build Date: Sat 01 Aug 2009 09:49:48 CEST
Install Date: Thu 06 Aug 2009 14:53:24 CEST      Build Host: build18
Group       : Productivity/Networking/Web/Utilities   Source RPM: wget-1.11.4-1.70.src.rpm
Size        : 1525431                          License: GPL v3 or later
Signature   : RSA/8, Sat 01 Aug 2009 09:50:04 CEST, Key ID b88b2fd43dbdc284
Packager    : http://bugs.opensuse.org
URL         : http://www.gnu.org/software/wget/
Summary     : A Tool for Mirroring FTP and HTTP Servers
Description :
Wget enables you to retrieve WWW documents or FTP files from a server.
This can be done in script files or via the command line.
[...]</pre></div></div></div><p>
   The option <code class="option">-f</code> only works if you specify the complete
   file name with its full path. Provide as many file names as desired. For
   example, the following command
  </p><div class="verbatim-wrap"><pre class="screen">rpm -q -f /bin/rpm /usr/bin/wget</pre></div><p>
   results in:
  </p><div class="verbatim-wrap"><pre class="screen">rpm-4.8.0-4.3.x86_64
wget-1.11.4-11.18.x86_64</pre></div><p>
   If only part of the file name is known, use a shell script as shown in
   <a class="xref" href="cha.sw_cl.html#dat.rpm.search" title="Script to Search for Packages">Example 4.3, “Script to Search for Packages”</a>. Pass the partial file name to the
   script shown as a parameter when running it.
  </p><div class="example" id="dat.rpm.search"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.3: </span><span class="name">Script to Search for Packages </span><a title="Permalink" class="permalink" href="cha.sw_cl.html#dat.rpm.search">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">#! /bin/sh
for i in $(rpm -q -a -l | grep $1); do
    echo "\"$i\" is in package:"
    rpm -q -f $i
    echo ""
done</pre></div></div></div><p>
   The command <code class="command">rpm -q --changelog</code>
   <em class="replaceable ">package</em> displays a detailed list of change
   information about a specific package, sorted by date.
  </p><p>
   With the help of the installed RPM database, verification checks can be
   made. Initiate these with <code class="option">-V</code>, or
   <code class="option">--verify</code>. With this option, <code class="command">rpm</code> shows
   all files in a package that have been changed since installation.
   <code class="command">rpm</code> uses eight character symbols to give some hints
   about the following changes:
  </p><a id="idm140366417277696" class="indexterm"></a><div class="table" id="tab.rpm.verify"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.2: </span><span class="name">RPM Verify Options </span><a title="Permalink" class="permalink" href="cha.sw_cl.html#tab.rpm.verify">#</a></h6></div><div class="table-contents"><table summary="RPM Verify Options" border="1"><colgroup><col /><col /></colgroup><tbody><tr><td>
       <p>
        <code class="option">5</code>
       </p>
      </td><td>
       <p>
        MD5 check sum
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">S</code>
       </p>
      </td><td>
       <p>
        File size
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">L</code>
       </p>
      </td><td>
       <p>
        Symbolic link
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">T</code>
       </p>
      </td><td>
       <p>
        Modification time
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">D</code>
       </p>
      </td><td>
       <p>
        Major and minor device numbers
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">U</code>
       </p>
      </td><td>
       <p>
        Owner
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">G</code>
       </p>
      </td><td>
       <p>
        Group
       </p>
      </td></tr><tr><td>
       <p>
        <code class="option">M</code>
       </p>
      </td><td>
       <p>
        Mode (permissions and file type)
       </p>
      </td></tr></tbody></table></div></div><p>
   In the case of configuration files, the letter <code class="option">c</code> is
   printed. For example, for changes to <code class="filename">/etc/wgetrc</code>
   (<code class="systemitem">wget</code> package):
  </p><div class="verbatim-wrap"><pre class="screen">rpm -V wget
S.5....T c /etc/wgetrc</pre></div><p>
   The files of the RPM database are placed in
   <code class="filename">/var/lib/rpm</code>. If the partition
   <code class="filename">/usr</code> has a size of 1 GB, this database can
   occupy nearly 30 MB, especially after a complete update. If the
   database is much larger than expected, it is useful to rebuild the
   database with the option <code class="option">--rebuilddb</code>. Before doing this,
   make a backup of the old database. The <code class="command">cron</code> script
   <code class="command">cron.daily</code> makes daily copies of the database (packed
   with gzip) and stores them in <code class="filename">/var/adm/backup/rpmdb</code>.
   The number of copies is controlled by the variable
   <code class="systemitem">MAX_RPMDB_BACKUPS</code> (default: <code class="option">5</code>)
   in <code class="filename">/etc/sysconfig/backup</code>. The size of a single
   backup is approximately 1 MB for 1 GB in
   <code class="filename">/usr</code>.
  </p><a id="idm140366417244576" class="indexterm"></a></div><div class="sect2 " id="sec.rpm.sources"><div class="titlepage"><div><div><h3 class="title" id="sec.rpm.sources"><span class="number">4.2.5 </span><span class="name">Installing and Compiling Source Packages</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.rpm.sources">#</a></h3></div></div></div><a id="idm140366417241808" class="indexterm"></a><a id="idm140366417240784" class="indexterm"></a><a id="idm140366417239760" class="indexterm"></a><a id="idm140366417238736" class="indexterm"></a><p>
   All source packages carry a <code class="filename">.src.rpm</code> extension
   (source RPM).
  </p><div id="idm140366417237072" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Installed Source Packages</h6><p>
    Source packages can be copied from the installation medium to the hard
    disk and unpacked with YaST. They are not, however, marked as
    installed (<code class="literal">[i]</code>) in the package manager. This is
    because the source packages are not entered in the RPM database. Only
    <span class="emphasis"><em>installed</em></span> operating system software is listed in
    the RPM database. When you <span class="quote">“<span class="quote">install</span>”</span> a source package, only
    the source code is added to the system.
   </p></div><p>
   The following directories must be available for <code class="command">rpm</code>
   and <code class="command">rpmbuild</code> in <code class="filename">/usr/src/packages</code>
   (unless you specified custom settings in a file like
   <code class="filename">/etc/rpmrc</code>):
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140366417231424"><span class="term "><code class="filename">SOURCES</code>
    </span></dt><dd><p>
      for the original sources (<code class="filename">.tar.bz2</code> or
      <code class="filename">.tar.gz</code> files, etc.) and for
      distribution-specific adjustments (mostly <code class="filename">.diff</code>
      or <code class="filename">.patch</code> files)
     </p></dd><dt id="idm140366417227488"><span class="term "><code class="filename">SPECS</code>
    </span></dt><dd><p>
      for the <code class="filename">.spec</code> files, similar to a meta Makefile,
      which control the <span class="emphasis"><em>build</em></span> process
     </p></dd><dt id="idm140366417224464"><span class="term "><code class="filename">BUILD</code>
    </span></dt><dd><p>
      all the sources are unpacked, patched and compiled in this directory
     </p></dd><dt id="idm140366417222320"><span class="term "><code class="filename">RPMS</code>
    </span></dt><dd><p>
      where the completed binary packages are stored
     </p></dd><dt id="idm140366417220192"><span class="term "><code class="filename">SRPMS</code>
    </span></dt><dd><a id="idm140366417219040" class="indexterm"></a><p>
      here are the source RPMs
     </p></dd></dl></div><p>
   When you install a source package with YaST, all the necessary
   components are installed in <code class="filename">/usr/src/packages</code>: the
   sources and the adjustments in <code class="filename">SOURCES</code> and the
   relevant <code class="filename">.spec</code> file in <code class="filename">SPECS</code>.
  </p><div id="idm140366417214560" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: System Integrity</h6><p>
    Do not experiment with system components
    (<code class="systemitem">glibc</code>,
    <code class="systemitem">rpm</code>, etc.), because this
    endangers the stability of your system.
   </p></div><p>
   The following example uses the <code class="filename">wget.src.rpm</code> package.
   After installing the source package, you should have files similar to
   those in the following list:
  </p><div class="verbatim-wrap"><pre class="screen">/usr/src/packages/SOURCES/wget-1.11.4.tar.bz2
/usr/src/packages/SOURCES/wgetrc.patch
/usr/src/packages/SPECS/wget.spec</pre></div><p>
   <code class="command">rpmbuild -b</code> <em class="replaceable ">X</em>
   /usr/src/packages/SPECS/wget.spec starts the compilation.
   <em class="replaceable ">X</em> is a wild card for various stages of the
   build process (see the output of <code class="option">--help</code> or the RPM
   documentation for details). The following is merely a brief explanation:
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140366417207424"><span class="term "><code class="option">-bp</code>
    </span></dt><dd><p>
      Prepare sources in <code class="filename">/usr/src/packages/BUILD</code>:
      unpack and patch.
     </p></dd><dt id="idm140366417204864"><span class="term "><code class="option">-bc</code>
    </span></dt><dd><p>
      Do the same as <code class="option">-bp</code>, but with additional compilation.
     </p></dd><dt id="idm140366417202304"><span class="term "><code class="option">-bi</code>
    </span></dt><dd><p>
      Do the same as <code class="option">-bp</code>, but with additional installation
      of the built software. Caution: if the package does not support the
      BuildRoot feature, you might overwrite configuration files.
     </p></dd><dt id="idm140366417199616"><span class="term "><code class="option">-bb</code>
    </span></dt><dd><p>
      Do the same as <code class="option">-bi</code>, but with the additional creation
      of the binary package. If the compile was successful, the binary
      should be in <code class="filename">/usr/src/packages/RPMS</code>.
     </p></dd><dt id="idm140366417196528"><span class="term "><code class="option">-ba</code>
    </span></dt><dd><p>
      Do the same as <code class="option">-bb</code>, but with the additional creation
      of the source RPM. If the compilation was successful, the binary
      should be in <code class="filename">/usr/src/packages/SRPMS</code>.
     </p></dd><dt id="idm140366417193440"><span class="term "><code class="option">--short-circuit</code>
    </span></dt><dd><p>
      Skip some steps.
     </p></dd></dl></div><p>
   The binary RPM created can now be installed with <code class="command">rpm</code>
   <code class="option">-i</code> or, preferably, with <code class="command">rpm</code>
   <code class="option">-U</code>. Installation with <code class="command">rpm</code> makes it
   appear in the RPM database.
  </p></div><div class="sect2 " id="sec.rpm.build"><div class="titlepage"><div><div><h3 class="title" id="sec.rpm.build"><span class="number">4.2.6 </span><span class="name">Compiling RPM Packages with build</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.rpm.build">#</a></h3></div></div></div><a id="idm140366417187312" class="indexterm"></a><p>
   The danger with many packages is that unwanted files are added to the
   running system during the build process. To prevent this use
   <code class="systemitem">build</code>, which creates a defined environment in
   which the package is built. To establish this chroot environment, the
   <code class="command">build</code> script must be provided with a complete package
   tree. This tree can be made available on the hard disk, via NFS, or from
   DVD. Set the position with <code class="command">build --rpms</code>
   <em class="replaceable ">directory</em>. Unlike <code class="command">rpm</code>, the
   <code class="command">build</code> command looks for the <code class="filename">.spec</code>
   file in the source directory. To build <code class="filename">wget</code> (like in
   the above example) with the DVD mounted in the system under
   <code class="filename">/media/dvd</code>, use the following commands as
   <code class="systemitem">root</code>:
  </p><div class="verbatim-wrap"><pre class="screen">cd /usr/src/packages/SOURCES/
mv ../SPECS/wget.spec .
build --rpms /media/dvd/suse/ wget.spec</pre></div><p>
   Subsequently, a minimum environment is established at
   <code class="filename">/var/tmp/build-root</code>. The package is built in this
   environment. Upon completion, the resulting packages are located in
   <code class="filename">/var/tmp/build-root/usr/src/packages/RPMS</code>.
  </p><p>
   The <code class="command">build</code> script offers several additional
   options. For example, cause the script to prefer your own RPMs, omit the
   initialization of the build environment or limit the
   <code class="command">rpm</code> command to one of the above-mentioned stages.
   Access additional information with <code class="command">build</code>
   <code class="option">--help</code> and by reading the <code class="command">build</code> man
   page.
  </p></div><div class="sect2 " id="sec.rpm.tools"><div class="titlepage"><div><div><h3 class="title" id="sec.rpm.tools"><span class="number">4.2.7 </span><span class="name">Tools for RPM Archives and the RPM Database</span> <a title="Permalink" class="permalink" href="cha.sw_cl.html#sec.rpm.tools">#</a></h3></div></div></div><a id="idm140366417174352" class="indexterm"></a><p>
   Midnight Commander (<code class="command">mc</code>) can display the contents of
   RPM archives and copy parts of them. It represents archives as virtual
   file systems, offering all usual menu options of Midnight Commander.
   Display the <code class="filename">HEADER</code> with <span class="keycap">F3</span>. View
   the archive structure with the cursor keys and
   <span class="keycap">Enter</span>. Copy archive components with
   <span class="keycap">F5</span>.
  </p><p>
   A full-featured package manager is available as a YaST module. For
   details, see <span class="intraxref">Book “<em class="citetitle ">Deployment Guide</em>”, Chapter 5 “Installing or Removing Software”</span>.
  </p><a id="idm140366417169200" class="indexterm"></a></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.vnc.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 5 </span>Remote Access with VNC</span></a><a class="nav-link" href="cha.snapper.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 3 </span>System Recovery and Snapshot Management with Snapper</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>