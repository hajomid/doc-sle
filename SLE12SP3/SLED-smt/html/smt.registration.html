<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Managing Client Machines with SMT | Subscription Management Tool for SLES 12 SP3 | SUSE Linux Enterprise Desktop 12 SP3</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 2.4.0 using SUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise Desktop" /><meta name="product-number" content="12 SP3" /><meta name="book-title" content="Subscription Management Tool for SLES 12 SP3" /><meta name="chapter-title" content="Chapter 5. Managing Client Machines with SMT" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="taroth@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Desktop 12 SP2" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Desktop Documentation" /><link rel="up" href="index.html" title="Subscription Management Tool for SLES 12 SP3" /><link rel="prev" href="smt.management.html" title="Chapter 4. Managing Repositories with YaST SMT Server Management" /><link rel="next" href="smt.reporting.html" title="Chapter 6. SMT Reports" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="index.html">SMT Guide</a><span> › </span><a class="crumb" href="smt.registration.html">Managing Client Machines with SMT</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Subscription Management Tool for SLES 12 SP3</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="pre_smt.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="smt.installation.html"><span class="number">1 </span><span class="name">SMT Installation</span></a></li><li class="inactive"><a href="smt.server.html"><span class="number">2 </span><span class="name">SMT Server Configuration</span></a></li><li class="inactive"><a href="smt.mirroring.html"><span class="number">3 </span><span class="name">Mirroring Repositories on the SMT Server</span></a></li><li class="inactive"><a href="smt.management.html"><span class="number">4 </span><span class="name">Managing Repositories with YaST SMT Server Management</span></a></li><li class="inactive"><a href="smt.registration.html"><span class="number">5 </span><span class="name">Managing Client Machines with SMT</span></a></li><li class="inactive"><a href="smt.reporting.html"><span class="number">6 </span><span class="name">SMT Reports</span></a></li><li class="inactive"><a href="smt.tools.html"><span class="number">7 </span><span class="name">SMT Tools and Configuration Files</span></a></li><li class="inactive"><a href="smt.client.html"><span class="number">8 </span><span class="name">Configuring Clients to Use SMT</span></a></li><li class="inactive"><a href="smt.advanced.html"><span class="number">9 </span><span class="name">Advanced Topics</span></a></li><li class="inactive"><a href="smt.app.api.html"><span class="number">A </span><span class="name">SMT REST API</span></a></li><li class="inactive"><a href="app.smt.docupdates.html"><span class="number">B </span><span class="name">Documentation Updates</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 4. Managing Repositories with YaST SMT Server Management" href="smt.management.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 6. SMT Reports" href="smt.reporting.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="index.html">SMT Guide</a><span> › </span><a class="crumb" href="smt.registration.html">Managing Client Machines with SMT</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 4. Managing Repositories with YaST SMT Server Management" href="smt.management.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 6. SMT Reports" href="smt.reporting.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="smt.registration"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">12 SP3</span></span></span></div><div><h1 class="title"><span class="number">5 </span><span class="name">Managing Client Machines with SMT</span> </h1><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>smt_registration.xml</li><li><span class="ds-label">ID: </span>smt.registration</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="smt.registration.html#smt.registration.clients"><span class="number">5.1 </span><span class="name">Listing Registered Clients</span></a></span></dt><dt><span class="sect1"><a href="smt.registration.html#smt.registration.delete"><span class="number">5.2 </span><span class="name">Deleting Registrations</span></a></span></dt><dt><span class="sect1"><a href="smt.registration.html#smt.registration.smtregister"><span class="number">5.3 </span><span class="name">Manual Registration of Clients at SUSE Customer Center</span></a></span></dt><dt><span class="sect1"><a href="smt.registration.html#smt.registrations.schedule"><span class="number">5.4 </span><span class="name">Scheduling Periodic Registrations of Clients at SUSE Customer Center</span></a></span></dt><dt><span class="sect1"><a href="smt.registration.html#smt.registrations.compliance"><span class="number">5.5 </span><span class="name">Compliance Monitoring</span></a></span></dt></dl></div></div><p>
  SMT lets you register and manage client machines on SUSE Customer Center. Client machines
  must be configured to use SMT. For information about configuring clients to
  use SMT, see <a class="xref" href="smt.client.html" title="Chapter 8. Configuring Clients to Use SMT">Chapter 8, <em>Configuring Clients to Use SMT</em></a>.
 </p><div class="sect1 " id="smt.registration.clients"><div class="titlepage"><div><div><h2 class="title" id="smt.registration.clients"><span class="number">5.1 </span><span class="name">Listing Registered Clients</span> <a title="Permalink" class="permalink" href="smt.registration.html#smt.registration.clients">#</a></h2></div></div></div><p>
   To list SMT-registered client machines, use the
   <code class="command">smt-list-registrations</code> command. The following information
   is listed for each client: its <span class="guimenu">Unique ID</span>,
   <span class="guimenu">Hostname</span>, date and time of <span class="guimenu">Last
   Contact</span> with the SMT server, and the Software
   <span class="guimenu">Product</span> the client uses.
  </p></div><div class="sect1 " id="smt.registration.delete"><div class="titlepage"><div><div><h2 class="title" id="smt.registration.delete"><span class="number">5.2 </span><span class="name">Deleting Registrations</span> <a title="Permalink" class="permalink" href="smt.registration.html#smt.registration.delete">#</a></h2></div></div></div><p>
   To delete a registration from SMT and SUSE Customer Center, use the following command:
  </p><div class="verbatim-wrap"><pre class="screen">smt-delete-registration -g
<em class="replaceable ">Client_ID</em></pre></div><p>
   To delete multiple registrations, the option <code class="option">-g</code> can be used
   several times.
  </p><p>
   The ID of the client machine to be deleted can be determined from the output
   of the <code class="command">smt-list-registrations</code> command.
  </p></div><div class="sect1 " id="smt.registration.smtregister"><div class="titlepage"><div><div><h2 class="title" id="smt.registration.smtregister"><span class="number">5.3 </span><span class="name">Manual Registration of Clients at SUSE Customer Center</span> <a title="Permalink" class="permalink" href="smt.registration.html#smt.registration.smtregister">#</a></h2></div></div></div><p>
   The <code class="command">smt-register</code> command registers clients at SUSE Customer Center. This
   registers all unregistered clients and clients with data that changed
   since the last registration.
  </p><p>
   To register clients whose registration has failed, use the
   <code class="option">--reseterror</code> option. This option resets the SCC
   registration error flag and tries to submit registrations again.
  </p></div><div class="sect1 " id="smt.registrations.schedule"><div class="titlepage"><div><div><h2 class="title" id="smt.registrations.schedule"><span class="number">5.4 </span><span class="name">Scheduling Periodic Registrations of Clients at SUSE Customer Center</span> <a title="Permalink" class="permalink" href="smt.registration.html#smt.registrations.schedule">#</a></h2></div></div></div><p>
   SMT module allows for the easy scheduling of client registrations. By
   default, registrations are scheduled to run every 15 minutes. To create or
   modify a new registration schedule, follow the steps below.
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Start YaST <span class="guimenu">SMT Configuration</span> module (<code class="command">yast2
     smt-server</code>).
    </p></li><li class="step "><p>
     Go to the <span class="guimenu">Scheduled SMT Job</span>.
    </p></li><li class="step "><p>
     Select any <span class="guimenu">SCC Registration</span> job and click
     <span class="guimenu">Edit</span> to change its schedule.
    </p><p>
     To create a new registration schedule, click <span class="guimenu">Add</span> and
     select <span class="guimenu">SCC Registration</span> as <span class="guimenu">Job to
     Run</span>.
    </p></li><li class="step "><p>
     Choose the <span class="guimenu">Frequency</span> of the scheduled SMT job. You
     can perform jobs <span class="guimenu">Daily</span>, <span class="guimenu">Weekly</span>,
     <span class="guimenu">Monthly</span>, or <span class="guimenu">Periodically</span> (every n-th
     hour or every m-th minute).
    </p><p>
     Set the <span class="guimenu">Job Start Time</span> by entering the
     <span class="guimenu">Hour</span> and <span class="guimenu">Minute</span> or appropriate time periods. For weekly and monthly
     schedules, select the <span class="guimenu">Day of the Week</span> or the
     <span class="guimenu">Day of the Month</span> the mirroring should occur.
    </p><div id="idm140521111239920" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Lowest Registration Frequency</h6><p>
      Do not set the frequency lower than 10 minutes, because the maximum value
      of the <code class="literal">rndRegister</code> is 450 (7.5 minutes). If the
      frequency is lower, it may happen that the started process is still
      sleeping when the next process starts. This causes the second request
      to exit.
     </p></div></li><li class="step "><p>
     Click <span class="guimenu">OK</span> or <span class="guimenu">Add</span> and
     <span class="guimenu">Finish</span>.
    </p></li></ol></div></div><p>
   Scheduling of SMT jobs in general is covered in
   <a class="xref" href="smt.server.html#smt.yast.scheduling" title="2.5. Setting the SMT Job Schedule with YaST">Section 2.5, “Setting the SMT Job Schedule with YaST”</a>.
  </p><p>
   YaST uses <code class="command">cron</code> to schedule SUSE Customer Center registrations and
   other SMT jobs. If you prefer not  to use YaST, you can use
   <code class="command">cron</code> directly.
  </p><p>
   To disable automatic registration, change the
   <code class="option">forwardRegistration</code> value in the <code class="literal">[LOCAL]</code>
   section of the <code class="filename">/etc/smt.conf</code> configuration file to
   <code class="literal">false</code>.
  </p></div><div class="sect1 " id="smt.registrations.compliance"><div class="titlepage"><div><div><h2 class="title" id="smt.registrations.compliance"><span class="number">5.5 </span><span class="name">Compliance Monitoring</span> <a title="Permalink" class="permalink" href="smt.registration.html#smt.registrations.compliance">#</a></h2></div></div></div><p>
   To assist customers in monitoring their license compliance, SMT generates
   a weekly report based on data from SMT and SUSE Customer Center. This report contains
   information about statistics of the registered machines, products used, and
   of the active, expiring or missing license subscriptions. If subscriptions
   are about to expire and/or more SUSE Linux Enterprise machines are registered than you have
   purchased licenses for, the report contains relevant warnings.
  </p><p>
   To calculate the compliance, the <code class="command">smt-report</code> tool
   by default downloads information about the subscriptions and registrations
   (this can be disabled).
  </p><p>
   You can configure the recipient addresses for the reports in the
   <span class="guimenu">Database and Reporting</span> section of the YaST
   <span class="guimenu">Subscription Management Tool</span> configuration module. All of
   the e-mail configuration options are located in the
   <code class="literal">[REPORT]</code> section of <code class="filename">/etc/smt.conf</code>
   and explained in <a class="xref" href="smt.tools.html#smt.config.smtconf.report" title="7.2.1.6. [REPORT] Section of /etc/smt.conf">Section 7.2.1.6, “[REPORT] Section of /etc/smt.conf”</a>.
  </p><p>
   The scheduling of the reports is configured in
   <code class="filename">/etc/cron.d/novell.com-smt</code>, while the parameters to use
   with the cron jobs are in the <code class="literal">REPORT_PARAMS</code> section of
   <code class="filename">/etc/smt.d/smt-cron.conf</code>.
  </p><p>
   Describing the content of the reports is beyond the scope of this section,
   but a set of reports can be split into five individual parts. By default,
   these reports are attached as individual files to the mail on the weekly
   report run. The alerts report is a normal text file while the others are in
   CSV format. The reports can also be created in PDF or XML by specifying
   <code class="option">--pdf</code> or <code class="option">--xml</code> as output format.
  </p><p>
   To generate a set of reports as CSV files based on local data and to display
   them in the standard output, run the following command:
  </p><div class="verbatim-wrap"><pre class="screen">smt-report --local --csv --file /root/smt-local-rep</pre></div><div id="idm140521134993408" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Directory for Reports</h6><p>
    The example stores the reports in the <code class="filename">/root</code> directory.
    You can change it to any other writable directory.
   </p></div><p>
   The command generates the following files:
  </p><div class="verbatim-wrap"><pre class="screen">/root/smt-local-rep-product_subscription_active.csv
/root/smt-local-rep-product_subscription_alerts.txt
/root/smt-local-rep-product_subscription_expired.csv
/root/smt-local-rep-product_subscription_expiresoon.csv
/root/smt-local-rep-product_subscription_summary.csv</pre></div><div id="idm140521134990352" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Multiple SMT Servers</h6><p>
    If you have multiple SMT servers, the
    reports may not include  all SMT servers or machines in your
    environment. For the complete statistics of all your registered machines,
    refer to the information provided by SUSE Customer Center.
   </p></div><p>
   For more information about types of reports, output formats, and targets
   refer to <a class="xref" href="smt.reporting.html" title="Chapter 6. SMT Reports">Chapter 6, <em>SMT Reports</em></a>.
  </p></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="smt.reporting.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 6 </span>SMT Reports</span></a><a class="nav-link" href="smt.management.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 4 </span>Managing Repositories with YaST SMT Server Management</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>