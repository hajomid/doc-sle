<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Sharing File Systems with NFS | Administration Guide | SUSE Linux Enterprise Desktop 15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 2.4.0 using SUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise Desktop" /><meta name="product-number" content="15" /><meta name="book-title" content="Administration Guide" /><meta name="chapter-title" content="Chapter 29. Sharing File Systems with NFS" /><meta name="description" content="The Network File System (NFS) is a protocol that allows access to files on a server very similar to accessing local files." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Desktop 15" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Desktop Documentation" /><link rel="up" href="part.services.html" title="Part IV. Services" /><link rel="prev" href="cha.ntp.html" title="Chapter 28. Time Synchronization with NTP" /><link rel="next" href="cha.samba.html" title="Chapter 30. Samba" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.sle.admin.html">Administration Guide</a><span> › </span><a class="crumb" href="part.services.html">Services</a><span> › </span><a class="crumb" href="cha.nfs.html">Sharing File Systems with NFS</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Administration Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="pre.sle.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="part.administration.html"><span class="number">I </span><span class="name">Common Tasks</span></a><ol><li class="inactive"><a href="cha.adm.shell.html"><span class="number">1 </span><span class="name">Bash and Bash Scripts</span></a></li><li class="inactive"><a href="cha.adm.sudo.html"><span class="number">2 </span><span class="name">sudo
</span></a></li><li class="inactive"><a href="cha.onlineupdate.you.html"><span class="number">3 </span><span class="name">YaST Online Update</span></a></li><li class="inactive"><a href="cha.yast.gui.html"><span class="number">4 </span><span class="name">YaST</span></a></li><li class="inactive"><a href="cha.yast.text.html"><span class="number">5 </span><span class="name">YaST in Text Mode</span></a></li><li class="inactive"><a href="cha.sw_cl.html"><span class="number">6 </span><span class="name">Managing Software with Command Line Tools</span></a></li><li class="inactive"><a href="cha.snapper.html"><span class="number">7 </span><span class="name">System Recovery and Snapshot Management with Snapper</span></a></li><li class="inactive"><a href="cha.vnc.html"><span class="number">8 </span><span class="name">Remote Access with VNC</span></a></li><li class="inactive"><a href="cha.net.rsync.html"><span class="number">9 </span><span class="name">File Copying with RSync</span></a></li><li class="inactive"><a href="cha.gnome.gconf.html"><span class="number">10 </span><span class="name">GNOME Configuration for Administrators</span></a></li></ol></li><li class="inactive"><a href="part.boot.html"><span class="number">II </span><span class="name">Booting a Linux System</span></a><ol><li class="inactive"><a href="cha.boot.html"><span class="number">11 </span><span class="name">Introduction to the Booting Process</span></a></li><li class="inactive"><a href="cha.uefi.html"><span class="number">12 </span><span class="name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li class="inactive"><a href="cha.grub2.html"><span class="number">13 </span><span class="name">The Boot Loader GRUB 2</span></a></li><li class="inactive"><a href="cha.systemd.html"><span class="number">14 </span><span class="name">The <code class="systemitem">systemd</code> Daemon</span></a></li></ol></li><li class="inactive"><a href="part.system.html"><span class="number">III </span><span class="name">System</span></a><ol><li class="inactive"><a href="cha.64bit.html"><span class="number">15 </span><span class="name">32-Bit and 64-Bit Applications in a 64-Bit System Environment</span></a></li><li class="inactive"><a href="cha.journalctl.html"><span class="number">16 </span><span class="name"><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> Journal</span></a></li><li class="inactive"><a href="cha.update-alternative.html"><span class="number">17 </span><span class="name"><code class="command">update-alternatives</code>: Managing Multiple Versions of Commands and Files</span></a></li><li class="inactive"><a href="cha.network.html"><span class="number">18 </span><span class="name">Basic Networking</span></a></li><li class="inactive"><a href="cha.print.html"><span class="number">19 </span><span class="name">Printer Operation</span></a></li><li class="inactive"><a href="cha.x11.html"><span class="number">20 </span><span class="name">The X Window System</span></a></li><li class="inactive"><a href="cha.fuse.html"><span class="number">21 </span><span class="name">Accessing File Systems with FUSE</span></a></li><li class="inactive"><a href="cha.mod.html"><span class="number">22 </span><span class="name">Managing Kernel Modules</span></a></li><li class="inactive"><a href="cha.udev.html"><span class="number">23 </span><span class="name">Dynamic Kernel Device Management with <code class="systemitem">udev</code></span></a></li><li class="inactive"><a href="cha.kgraft.html"><span class="number">24 </span><span class="name">Live Patching the Linux Kernel Using kGraft</span></a></li><li class="inactive"><a href="cha.suse.html"><span class="number">25 </span><span class="name">Special System Features</span></a></li><li class="inactive"><a href="cha.nm.html"><span class="number">26 </span><span class="name">Using NetworkManager</span></a></li><li class="inactive"><a href="cha.power-mgmt.html"><span class="number">27 </span><span class="name">Power Management</span></a></li></ol></li><li class="inactive"><a href="part.services.html"><span class="number">IV </span><span class="name">Services</span></a><ol><li class="inactive"><a href="cha.ntp.html"><span class="number">28 </span><span class="name">Time Synchronization with NTP</span></a></li><li class="inactive"><a href="cha.nfs.html"><span class="number">29 </span><span class="name">Sharing File Systems with NFS</span></a></li><li class="inactive"><a href="cha.samba.html"><span class="number">30 </span><span class="name">Samba</span></a></li><li class="inactive"><a href="cha.autofs.html"><span class="number">31 </span><span class="name">On-Demand Mounting with Autofs</span></a></li></ol></li><li class="inactive"><a href="part.trouble.html"><span class="number">V </span><span class="name">Troubleshooting</span></a><ol><li class="inactive"><a href="cha.adminhelp.html"><span class="number">32 </span><span class="name">Help and Documentation</span></a></li><li class="inactive"><a href="cha.adm.support.html"><span class="number">33 </span><span class="name">Gathering System Information for Support</span></a></li><li class="inactive"><a href="cha.trouble.html"><span class="number">34 </span><span class="name">Common Problems and Their Solutions</span></a></li></ol></li><li class="inactive"><a href="app.nwscheme.html"><span class="number">A </span><span class="name">An Example Network</span></a></li><li class="inactive"><a href="bk01apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 28. Time Synchronization with NTP" href="cha.ntp.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 30. Samba" href="cha.samba.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.sle.admin.html">Administration Guide</a><span> › </span><a class="crumb" href="part.services.html">Services</a><span> › </span><a class="crumb" href="cha.nfs.html">Sharing File Systems with NFS</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 28. Time Synchronization with NTP" href="cha.ntp.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 30. Samba" href="cha.samba.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.nfs"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15</span></span></span></div><div><h2 class="title"><span class="number">29 </span><span class="name">Sharing File Systems with NFS</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>net_nfs.xml</li><li><span class="ds-label">ID: </span>cha.nfs</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha.nfs.html#idm140315176516768">#</a></h6></div><p>
    The <span class="emphasis"><em>Network File System</em></span> (<span class="emphasis"><em>NFS</em></span>)
    is a protocol that allows access to files on a server very similar to
    accessing local files.
   </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.nfs.html#sec.nfs.overview"><span class="number">29.1 </span><span class="name">Overview</span></a></span></dt><dt><span class="sect1"><a href="cha.nfs.html#sec.nfs.installation-sled"><span class="number">29.2 </span><span class="name">Installing NFS Server</span></a></span></dt><dt><span class="sect1"><a href="cha.nfs.html#sec.nfs.configuring-nfs-clients"><span class="number">29.3 </span><span class="name">Configuring Clients</span></a></span></dt><dt><span class="sect1"><a href="cha.nfs.html#sec.nfs.info"><span class="number">29.4 </span><span class="name">For More Information</span></a></span></dt></dl></div></div><div class="sect1 " id="sec.nfs.overview"><div class="titlepage"><div><div><h2 class="title" id="sec.nfs.overview"><span class="number">29.1 </span><span class="name">Overview</span> <a title="Permalink" class="permalink" href="cha.nfs.html#sec.nfs.overview">#</a></h2></div></div></div><p>
   The <span class="emphasis"><em>Network File System</em></span> (NFS) is a standardized,
   well-proven and widely supported network protocol that allows files to
   be shared between separate hosts.
  </p><p>
   The <span class="emphasis"><em>Network Information Service</em></span> (NIS) can be used
   to have a centralized user management in the network. Combining NFS
   and NIS allows using file and directory permissions for access control
   in the network. NFS with NIS makes a network transparent to the user.
  </p><p>
   In the default configuration, NFS completely trusts the network and
   thus any machine which is connected to a trusted network. Any user
   with administrator privileges on any computer with physical access to
   any network which the NFS server trusts at all, can access any files
   that the server makes available.
  </p><p>
   In many cases, this level of security is perfectly satisfactory, such
   as when the network that is trusted is truly private, often localized
   to a single cabinet or machine room, and no unauthorized access is
   possible. In other cases the need to trust a whole subnet as a unit
   is restrictive and there is a need for more fine-grained trust. To
   meet the need in these cases, NFS supports various security levels
   using the <span class="emphasis"><em>Kerberos</em></span> infrastructure. Kerberos requires
   NFSv4, which is used by default. For details, see
   <span class="intraxref">Book “<em class="citetitle ">Security Guide</em>”, Chapter 6 “Network Authentication with Kerberos”</span>.
  </p><p>
   The following are terms used in the YaST module.
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140315176506576"><span class="term ">Exports</span></dt><dd><p>
      A directory <span class="emphasis"><em>exported</em></span> by an NFS server, which clients
      can integrate it into their system.
     </p></dd><dt id="idm140315176504272"><span class="term ">NFS Client</span></dt><dd><p>
      The NFS client is a system that uses NFS services from an NFS server over
      the Network File System protocol. The TCP/IP protocol is already
      integrated into the Linux kernel; there is no need to install any
      additional software.
     </p></dd><dt id="idm140315176502240"><span class="term ">NFS Server</span></dt><dd><p>
      The NFS server provides NFS services to clients. A running server depends
      on the following daemons: <code class="systemitem">nfsd</code>
      (worker), <code class="systemitem">idmapd</code> (ID-to-name
      mapping for NFSv4, needed for certain scenarios only), <code class="systemitem">statd</code> (file locking), and <code class="systemitem">mountd</code> (mount requests).
     </p></dd><dt id="idm140315176497392"><span class="term ">NFSv3</span></dt><dd><p>
      NFSv3 is the version 3 implementation, the <span class="quote">“<span class="quote">old</span>”</span> stateless
      NFS that supports client authentication.
     </p></dd><dt id="idm140315176495072"><span class="term ">NFSv4</span></dt><dd><p>
      NFSv4 is the new version 4 implementation that supports secure user
      authentication via kerberos. NFSv4 requires one single port only and thus
      is better suited for environments behind a firewall than NFSv3.
     </p><p>
      The protocol is specified as
      <a class="link" href="http://tools.ietf.org/html/rfc3530" target="_blank">http://tools.ietf.org/html/rfc3530</a>.
     </p></dd><dt id="idm140315176492016"><span class="term ">pNFS</span></dt><dd><p>
      Parallel NFS, a protocol extension of NFSv4. Any pNFS clients can
      directly access the data on an NFS server.
     </p></dd></dl></div></div><div class="sect1 " id="sec.nfs.installation-sled"><div class="titlepage"><div><div><h2 class="title" id="sec.nfs.installation-sled"><span class="number">29.2 </span><span class="name">Installing NFS Server</span> <a title="Permalink" class="permalink" href="cha.nfs.html#sec.nfs.installation-sled">#</a></h2></div></div></div><p>
   For installing and configuring an NFS server, see the SUSE Linux Enterprise Server documentation.
  </p></div><div class="sect1 " id="sec.nfs.configuring-nfs-clients"><div class="titlepage"><div><div><h2 class="title" id="sec.nfs.configuring-nfs-clients"><span class="number">29.3 </span><span class="name">Configuring Clients</span> <a title="Permalink" class="permalink" href="cha.nfs.html#sec.nfs.configuring-nfs-clients">#</a></h2></div></div></div><p>
   To configure your host as an NFS client, you do not need to install
   additional software. All needed packages are installed by default.
  </p><div class="sect2 " id="sec.nfs.import-yast2"><div class="titlepage"><div><div><h3 class="title" id="sec.nfs.import-yast2"><span class="number">29.3.1 </span><span class="name">Importing File Systems with YaST</span> <a title="Permalink" class="permalink" href="cha.nfs.html#sec.nfs.import-yast2">#</a></h3></div></div></div><p>
    Authorized users can mount NFS directories from an NFS server into the
    local file tree using the YaST NFS client module. Proceed as follows:
   </p><div class="procedure " id="pro.nfs.import-yast2"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 29.1: </span><span class="name">Importing NFS Directories </span><a title="Permalink" class="permalink" href="cha.nfs.html#pro.nfs.import-yast2">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Start the YaST NFS client module.
     </p></li><li class="step "><p>
      Click <span class="guimenu">Add</span> in the <span class="guimenu">NFS Shares</span> tab.
      Enter the host name of the NFS server, the directory to import, and the
      mount point at which to mount this directory locally.
     </p></li><li class="step "><p>
      When using NFSv4, select <span class="guimenu">Enable NFSv4</span> in the
      <span class="guimenu">NFS Settings</span> tab. Additionally, the <span class="guimenu">NFSv4
      Domain Name</span> must contain the same value as used by the NFSv4
      server. The default domain is <code class="literal">localdomain</code>.
     </p></li><li class="step "><p>
      To use Kerberos authentication for NFS, GSS security must be enabled.
      Select <span class="guimenu">Enable GSS Security</span>.
     </p></li><li class="step "><p>
      Enable <span class="guimenu">Open Port in Firewall</span> in the <span class="guimenu">NFS
      Settings</span> tab if you use a Firewall and want to allow access to
      the service from remote computers. The firewall status is displayed next
      to the check box.
     </p></li><li class="step "><p>
      Click <span class="guimenu">OK</span> to save your changes.
     </p></li></ol></div></div><p>
    The configuration is written to <code class="filename">/etc/fstab</code> and the
    specified file systems are mounted. When you start the YaST configuration
    client at a later time, it also reads the existing configuration from this
    file.
   </p><div id="idm140315176471360" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: NFS as a Root File System</h6><p>
     On (diskless) systems, where the root partition is mounted via network as
     an NFS share, you need to be careful when configuring the network device
     with which the NFS share is accessible.
    </p><p>
     When shutting down or rebooting the system, the default processing order
     is to turn off network connections, then unmount the root partition. With
     NFS root, this order causes problems as the root partition cannot be
     cleanly unmounted as the network connection to the NFS share is already
     not activated. To prevent the system from deactivating the relevant
     network device, open the network device configuration tab as described in
     <a class="xref" href="cha.network.html#sec.network.yast.change.start" title="18.4.1.2.5. Activating the Network Device">Section 18.4.1.2.5, “Activating the Network Device”</a> and choose <span class="guimenu">On
     NFSroot</span> in the <span class="guimenu">Device Activation</span> pane.
    </p></div></div><div class="sect2 " id="sec.nfs.import"><div class="titlepage"><div><div><h3 class="title" id="sec.nfs.import"><span class="number">29.3.2 </span><span class="name">Importing File Systems Manually</span> <a title="Permalink" class="permalink" href="cha.nfs.html#sec.nfs.import">#</a></h3></div></div></div><p>
    The prerequisite for importing file systems manually from an NFS server is
    a running RPC port mapper. The <code class="option">nfs</code> service takes care to
    start it properly; thus, start it by entering <code class="command">systemctl start
    nfs</code> as <code class="systemitem">root</code>. Then
    remote file systems can be mounted in the file system like local partitions
    using <code class="command">mount</code>:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> mount <em class="replaceable ">HOST</em>:<em class="replaceable ">REMOTE-PATH</em><em class="replaceable ">LOCAL-PATH</em></pre></div><p>
    To import user directories from the <code class="systemitem">nfs.example.com</code>
    machine, for example, use:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> mount nfs.example.com:/home /home</pre></div><div class="sect3 " id="sec.nfs.automount"><div class="titlepage"><div><div><h4 class="title" id="sec.nfs.automount"><span class="number">29.3.2.1 </span><span class="name">Using the Automount Service</span> <a title="Permalink" class="permalink" href="cha.nfs.html#sec.nfs.automount">#</a></h4></div></div></div><p>
     The autofs daemon can be used to mount remote file systems automatically.
     Add the following entry to the <code class="filename">/etc/auto.master</code> file:
    </p><div class="verbatim-wrap"><pre class="screen">/nfsmounts /etc/auto.nfs</pre></div><p>
     Now the <code class="filename">/nfsmounts</code> directory acts as the root for all
     the NFS mounts on the client if the <code class="filename">auto.nfs</code> file is
     filled appropriately. The name <code class="filename">auto.nfs</code> is chosen for
     the sake of convenience—you can choose any name. In
     <code class="filename">auto.nfs</code> add entries for all the NFS mounts as
     follows:
    </p><div class="verbatim-wrap"><pre class="screen">localdata -fstype=nfs server1:/data
nfs4mount -fstype=nfs4 server2:/</pre></div><p>
     Activate the settings with <code class="command">systemctl start autofs</code> as
     <code class="systemitem">root</code>. In this example, <code class="filename">/nfsmounts/localdata</code>,
     the <code class="filename">/data</code> directory of
     <code class="systemitem">server1</code>, is mounted with NFS and
     <code class="filename">/nfsmounts/nfs4mount</code> from
     <code class="systemitem">server2</code> is mounted with NFSv4.
    </p><p>
     If the <code class="filename">/etc/auto.master</code> file is edited while the
     service autofs is running, the automounter must be restarted for the
     changes to take effect with <code class="command">systemctl restart autofs</code>.
    </p></div><div class="sect3 " id="sec.nfs.fstab"><div class="titlepage"><div><div><h4 class="title" id="sec.nfs.fstab"><span class="number">29.3.2.2 </span><span class="name">Manually Editing <code class="filename">/etc/fstab</code></span> <a title="Permalink" class="permalink" href="cha.nfs.html#sec.nfs.fstab">#</a></h4></div></div></div><p>
     A typical NFSv3 mount entry in <code class="filename">/etc/fstab</code> looks like
     this:
    </p><div class="verbatim-wrap"><pre class="screen">nfs.example.com:/data /local/path nfs rw,noauto 0 0</pre></div><p>
     For NFSv4 mounts, use <code class="literal">nfs4</code> instead of
     <code class="literal">nfs</code> in the third column:
    </p><div class="verbatim-wrap"><pre class="screen">nfs.example.com:/data /local/pathv4 nfs4 rw,noauto 0 0</pre></div><p>
     The <code class="literal">noauto</code> option prevents the file system from being
     mounted automatically at start-up. If you want to mount the respective
     file system manually, it is possible to shorten the mount command
     specifying the mount point only:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> mount /local/path</pre></div><div id="idm140315176441328" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Mounting at Start-Up</h6><p>
      If you do not enter the <code class="literal">noauto</code> option, the init
      scripts of the system will handle the mount of those file systems at
      start-up.
     </p></div></div></div><div class="sect2 " id="sec.nfs.pnfs"><div class="titlepage"><div><div><h3 class="title" id="sec.nfs.pnfs"><span class="number">29.3.3 </span><span class="name">Parallel NFS (pNFS)</span> <a title="Permalink" class="permalink" href="cha.nfs.html#sec.nfs.pnfs">#</a></h3></div></div></div><p>
    NFS is one of the oldest protocols, developed in the '80s. As such, NFS is
    usually sufficient if you want to share small files. However, when you want
    to transfer big files or large numbers of clients want to access data, an
    NFS server becomes a bottleneck and has a significant impact on the system
    performance. This is because of files quickly getting bigger, whereas the
    relative speed of your Ethernet has not fully kept up.
   </p><p>
    When you request a file from a regular NFS server, the server
    looks up the file metadata, collects all the data and transfers it over the
    network to your client. However, the performance bottleneck becomes
    apparent no matter how small or big the files are:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      With small files most of the time is spent collecting the metadata.
     </p></li><li class="listitem "><p>
      With big files most of the time is spent on transferring the data from
      server to client.
     </p></li></ul></div><p>
    pNFS, or parallel NFS, overcomes this limitation as it separates the file
    system metadata from the location of the data. As such, pNFS requires two
    types of servers:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      A <span class="emphasis"><em>metadata</em></span> or <span class="emphasis"><em>control server</em></span>
      that handles all the non-data traffic
     </p></li><li class="listitem "><p>
      One or more <span class="emphasis"><em>storage server(s)</em></span> that hold(s) the data
     </p></li></ul></div><p>
    The metadata and the storage servers form a single, logical NFS server.
    When a client wants to read or write, the metadata server tells the NFSv4
    client which storage server to use to access the file chunks. The client
    can access the data directly on the server.
   </p><p>
    <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span> supports pNFS on the client side only.
   </p><div class="sect3 " id="sec.nfs.pnfs.yast"><div class="titlepage"><div><div><h4 class="title" id="sec.nfs.pnfs.yast"><span class="number">29.3.3.1 </span><span class="name">Configuring pNFS Client With YaST</span> <a title="Permalink" class="permalink" href="cha.nfs.html#sec.nfs.pnfs.yast">#</a></h4></div></div></div><p>
     Proceed as described in <a class="xref" href="cha.nfs.html#pro.nfs.import-yast2" title="Importing NFS Directories">Procedure 29.1, “Importing NFS Directories”</a>, but click
     the <span class="guimenu">pNFS (v4.1)</span> check box and optionally <span class="guimenu">NFSv4
     share</span>. YaST will do all the necessary steps and will write all
     the required options in the file <code class="filename">/etc/exports</code>.
     
    </p></div><div class="sect3 " id="sec.nfs.pnfs.manual"><div class="titlepage"><div><div><h4 class="title" id="sec.nfs.pnfs.manual"><span class="number">29.3.3.2 </span><span class="name">Configuring pNFS Client Manually</span> <a title="Permalink" class="permalink" href="cha.nfs.html#sec.nfs.pnfs.manual">#</a></h4></div></div></div><p>
     Refer to <a class="xref" href="cha.nfs.html#sec.nfs.import" title="29.3.2. Importing File Systems Manually">Section 29.3.2, “Importing File Systems Manually”</a> to start. Most of the
     configuration is done by the NFSv4 server. For pNFS, the only difference
     is to add the <code class="option">minorversion</code> option and the metadata server
     <em class="replaceable ">MDS_SERVER</em> to your <code class="command">mount</code>
     command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> mount -t nfs4 -o minorversion=1 <em class="replaceable ">MDS_SERVER</em> <em class="replaceable ">MOUNTPOINT</em></pre></div><p>
     To help with debugging, change the value in the <code class="filename">/proc</code>
     file system:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> echo 32767 &gt; /proc/sys/sunrpc/nfsd_debug
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> echo 32767 &gt; /proc/sys/sunrpc/nfs_debug</pre></div></div></div></div><div class="sect1 " id="sec.nfs.info"><div class="titlepage"><div><div><h2 class="title" id="sec.nfs.info"><span class="number">29.4 </span><span class="name">For More Information</span> <a title="Permalink" class="permalink" href="cha.nfs.html#sec.nfs.info">#</a></h2></div></div></div><p>
   In addition to the man pages of <code class="command">exports</code>,
   <code class="command">nfs</code>, and <code class="command">mount</code>, information about
   configuring an NFS server and client is available in
   <code class="filename">/usr/share/doc/packages/nfsidmap/README</code>. For further
   documentation online refer to the following Web sites:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     Find the detailed technical documentation online at
     <a class="link" href="http://nfs.sourceforge.net/" target="_blank">SourceForge</a>.
    </p></li><li class="listitem "><p>
     For instructions for setting up kerberized NFS, refer to
     <a class="link" href="http://www.citi.umich.edu/projects/nfsv4/linux/krb5-setup.html" target="_blank">NFS
     Version 4 Open Source Reference Implementation</a>.
    </p></li><li class="listitem "><p>
     If you have questions on NFSv4, refer to the
     <a class="link" href="http://www.citi.umich.edu/projects/nfsv4/linux/faq/" target="_blank">Linux
     NFSv4 FAQ</a>.
    </p></li></ul></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.samba.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 30 </span>Samba</span></a><a class="nav-link" href="cha.ntp.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 28 </span>Time Synchronization with NTP</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>