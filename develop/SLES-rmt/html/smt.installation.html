<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>RMT Installation | Repository Management Tool for SLES 15 | SUSE Linux Enterprise Server 15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 2.4.0 using SUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise Server" /><meta name="product-number" content="15" /><meta name="book-title" content="Repository Management Tool for SLES 15" /><meta name="chapter-title" content="Chapter 1. RMT Installation" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="Beta SUSE Linux Enterprise Server 15" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Server Documentation" /><link rel="up" href="index.html" title="Repository Management Tool for SLES 15" /><link rel="prev" href="pre_smt.html" title="About This Guide" /><link rel="next" href="rmt.migrate.html" title="Chapter 2. Migrate from SMT to RMT" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="index.html">RMT Guide</a><span> › </span><a class="crumb" href="smt.installation.html">RMT Installation</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Repository Management Tool for SLES 15</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="pre_smt.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="smt.installation.html"><span class="number">1 </span><span class="name">RMT Installation</span></a></li><li class="inactive"><a href="rmt.migrate.html"><span class="number">2 </span><span class="name">Migrate from SMT to RMT</span></a></li><li class="inactive"><a href="smt.server.html"><span class="number">3 </span><span class="name">RMT Server Configuration</span></a></li><li class="inactive"><a href="smt.mirroring.html"><span class="number">4 </span><span class="name">Mirroring Repositories on the RMT Server</span></a></li><li class="inactive"><a href="smt.management.html"><span class="number">5 </span><span class="name">Managing Repositories with YaST RMT Server Management</span></a></li><li class="inactive"><a href="smt.registration.html"><span class="number">6 </span><span class="name">Managing Client Machines with RMT</span></a></li><li class="inactive"><a href="smt.client.html"><span class="number">7 </span><span class="name">Configuring Clients to Use RMT</span></a></li><li class="inactive"><a href="smt.tools.html"><span class="number">8 </span><span class="name">RMT Tools and Configuration Files</span></a></li><li class="inactive"><a href="smt.advanced.html"><span class="number">9 </span><span class="name">Advanced Topics</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="About This Guide" href="pre_smt.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 2. Migrate from SMT to RMT" href="rmt.migrate.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="index.html">RMT Guide</a><span> › </span><a class="crumb" href="smt.installation.html">RMT Installation</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="About This Guide" href="pre_smt.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 2. Migrate from SMT to RMT" href="rmt.migrate.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="smt.installation"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15</span></span></span></div><div><h1 class="title"><span class="number">1 </span><span class="name">RMT Installation</span> </h1><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>rmt_install.xml</li><li><span class="ds-label">ID: </span>smt.installation</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="smt.installation.html#smt.installation.wizard"><span class="number">1.1 </span><span class="name">RMT Configuration Wizard</span></a></span></dt><dt><span class="sect1"><a href="smt.installation.html#smt.installation.upgrade"><span class="number">1.2 </span><span class="name">Upgrading from Previous Versions of RMT</span></a></span></dt><dt><span class="sect1"><a href="smt.installation.html#idm139993940959680"><span class="number">1.3 </span><span class="name">Enabling SLP Announcements</span></a></span></dt></dl></div></div><p>
     RMT is included in SUSE Linux Enterprise Server starting with version 12 SP1. To install
    it, start SUSE Linux Enterprise Server installation, and click
      <span class="guimenu">Software</span> on the <span class="guimenu">Installation
      Settings</span> screen. Select the <span class="guimenu">Subscription
      Management Tool</span> pattern on the <span class="guimenu">Software
      Selection and System Tasks</span> screen, then click
      <span class="guimenu">OK</span>. </p><div class="figure" id="idm139993941050576"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/smt_install_pattern.png"><img src="images/smt_install_pattern.png" width="" alt="RMT Pattern" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 1.1: </span><span class="name">RMT Pattern </span><a title="Permalink" class="permalink" href="smt.installation.html#idm139993941050576">#</a></h6></div></div><div id="idm139993946196864" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Installing RMT on an Existing System</h6><p>
   To install RMT on the existing SUSE Linux Enterprise Server system, run
   <span class="guimenu">YaST</span> › <span class="guimenu">Software</span> › <span class="guimenu">Software
   Management</span>, select
   <span class="guimenu">View</span> › <span class="guimenu">Patterns</span>
   and select the <span class="guimenu">RMT</span> pattern there.
  </p></div><p>
  It is recommended to check for available RMT updates immediately after
  installing SUSE Linux Enterprise Server using the <code class="command">zypper patch</code> command. SUSE
  continuously releases maintenance updates for RMT, and newer packages are
  likely to be available.
 </p><p>
  After the system is installed and updated, perform an initial RMT
  configuration using <span class="guimenu">YaST</span> › <span class="guimenu">Network
  Services</span> › <span class="guimenu">RMT Configuration
  Wizard</span>.
 </p><div id="idm139993940317248" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Install smt-client</h6><p>
     The <code class="literal">smt-client</code> package needs to be installed on clients
     connected to the RMT server. The package requires no configuration, and
     it can be installed using the <code class="command">sudo zypper in smt-client</code>
     command.
    </p></div><div class="sect1 " id="smt.installation.wizard"><div class="titlepage"><div><div><h2 class="title" id="smt.installation.wizard"><span class="number">1.1 </span><span class="name">RMT Configuration Wizard</span> <a title="Permalink" class="permalink" href="smt.installation.html#smt.installation.wizard">#</a></h2></div></div></div><p>
   The two-step <span class="guimenu">RMT Configuration Wizard</span> helps you
   configure RMT after SUSE Linux Enterprise Server installation is finished. You can change
   the configuration later using the YaST RMT Server Configuration
   module—see <a class="xref" href="smt.server.html" title="Chapter 3. RMT Server Configuration">Chapter 3, <em>RMT Server Configuration</em></a>.
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     The <span class="guimenu">Enable Subscription Management Tool service
     (RMT)</span> option is enabled by default. Toggle it only if you
     want to disable the RMT product.
    </p><p>
     If the firewall is enabled, enable <span class="guimenu">Open Port in
     Firewall</span> to allow access to the RMT service from remote
     computers.
    </p><p>
     Enter your SUSE Customer Center organization credentials in <span class="guimenu">User</span>
     and <span class="guimenu">Password</span>. If you do not know your SUSE Customer Center
     credentials, refer to <a class="xref" href="smt.mirroring.html#smt.mirroring.getcredentials" title="4.1. Mirroring Credentials">Section 4.1, “Mirroring Credentials”</a>.
     Test the entered credentials using the <span class="guimenu">Test</span>
     button. RMT will connect to the Customer Center server using the
     provided credentials and download testing data.
    </p><p> Enter the e-mail address you used for the SUSE Customer Center registration
          into <span class="guimenu">SCC E-mail Used for Registration</span>. </p><p>
     <span class="guimenu">Your RMT Server URL</span> should contain the URL of the
     RMT server being configured. It is populated automatically.
    </p><p>
     Click <span class="guimenu">Next</span> to continue to the second configuration
     step.
    </p><div class="figure" id="idm139993946134960"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/smt_wizard1.png"><img src="images/smt_wizard1.png" width="" alt="RMT Wizard" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 1.2: </span><span class="name">RMT Wizard </span><a title="Permalink" class="permalink" href="smt.installation.html#idm139993946134960">#</a></h6></div></div></li><li class="step "><p>
     For security reasons, RMT requires a separate user to connect to the
     database. In the <span class="guimenu">Database Password for smt User</span>
     screen, set the database password for this user.
    </p><p>
     Enter all e-mail addresses for receiving RMT reports using the
     <span class="guimenu">Add</span> button. Use the
     <span class="guimenu">Edit</span> and <span class="guimenu">Delete</span> buttons to modify
     and delete the existing addresses. When you have done that, click <span class="guimenu">Next</span>.
    </p></li><li class="step "><p>
     If the current database root password is empty, you will be prompted to specify it.
    </p></li><li class="step "><p>
     By default, RMT is set to communicate with the client hosts via a secure
     protocol. For this, the server needs to have a server SSL certificate. The
     wizard displays a warning if the certificate does not exist. You can create
     a certificate using the
     <span class="guimenu">Run CA Management</span> button. Refer to
     <span class="intraxref">Book “<em class="citetitle ">Security Guide</em>”, Chapter 18 “Managing X.509 Certification”, Section 18.2 “YaST Modules for CA Management”</span> for detailed information
     on managing certificates with YaST.
    </p><div class="figure" id="idm139993936481392"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/smt_missing_cert.png"><img src="images/smt_missing_cert.png" width="" alt="Missing Server Certificate" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 1.3: </span><span class="name">Missing Server Certificate </span><a title="Permalink" class="permalink" href="smt.installation.html#idm139993936481392">#</a></h6></div></div></li></ol></div></div></div><div class="sect1 " id="smt.installation.upgrade"><div class="titlepage"><div><div><h2 class="title" id="smt.installation.upgrade"><span class="number">1.2 </span><span class="name">Upgrading from Previous Versions of RMT</span> <a title="Permalink" class="permalink" href="smt.installation.html#smt.installation.upgrade">#</a></h2></div></div></div><p> This section provides information on upgrading RMT from the
      previous versions. </p><div id="idm139993937331264" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Upgrade from Versions Prior to 11 SP3</h6><p>
    
    A direct upgrade path from SMT to RMT prior to version 11 SP4 is not
   supported. You need to do the following:</p><div class="orderedlist "><ol class="orderedlist" type="1"><li class="listitem "><p>Upgrade the operating system to SUSE Linux Enterprise Server 11
      SP4 as described in <a class="link" href="https://www.suse.com/documentation/sles11/book_sle_deployment/data/cha.upgrade-paths.html" target="_blank">https://www.suse.com/documentation/sles11/book_sle_deployment/data/cha.upgrade-paths.html</a></p></li><li class="listitem "><p>At the same time upgrade SMT to version 11 SP4 as
      described in <a class="link" href="https://www.suse.com/documentation/smt11/book_yep/data/smt_installation_upgrade.html" target="_blank">https://www.suse.com/documentation/smt11/book_yep/data/smt_installation_upgrade.html</a>.</p></li><li class="listitem "><p>Follow the steps described in <a class="xref" href="smt.installation.html#smt.installation.upgrade.latest" title="1.2.2. Upgrade from RMT 11 SP4">Section 1.2.2, “Upgrade from RMT 11 SP4”</a>.</p></li></ol></div></div><div class="sect2 " id="smt.installation.upgrade.from12sp1"><div class="titlepage"><div><div><h3 class="title" id="smt.installation.upgrade.from12sp1"><span class="number">1.2.1 </span><span class="name">Upgrade from RMT 12 SP3</span> <a title="Permalink" class="permalink" href="smt.installation.html#smt.installation.upgrade.from12sp1">#</a></h3></div></div></div><p>
    Upgrade from RMT 12 SP3 is performed automatically during the SUSE Linux Enterprise Server
    upgrade and requires no additional manual steps. For more information on SUSE Linux Enterprise Server upgrade, see <span class="intraxref">Book “Upgrade Guide”, Chapter 1 “Upgrade Paths and Methods”</span>.
   </p></div><div class="sect2 " id="smt.installation.upgrade.latest"><div class="titlepage"><div><div><h3 class="title" id="smt.installation.upgrade.latest"><span class="number">1.2.2 </span><span class="name">Upgrade from RMT 11 SP4</span> <a title="Permalink" class="permalink" href="smt.installation.html#smt.installation.upgrade.latest">#</a></h3></div></div></div><p>
    To upgrade RMT from version 11 SP4 to 12 SP3, follow the steps below.
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      If you have not already done so, migrate from Novell Customer Center
      to SUSE Customer Center as described in
      <a class="xref" href="smt.installation.html#smt.installation.upgrade.scc" title="1.2.2.1. Migration to SUSE Customer Center on SMT 11 SP4">Section 1.2.2.1, “Migration to SUSE Customer Center on  SMT 11 SP4”</a>.
     </p></li><li class="step "><p> Back up and migrate the database. See the general procedure
            in <span class="intraxref">Book “Upgrade Guide”, Chapter 3 “Preparing the Upgrade”, Section 3.5.1 “Migrate Your MySQL Database”</span>. </p></li><li class="step "><p>
      Upgrade to SUSE Linux Enterprise Server 12 SP3 as described in
      <span class="intraxref">Book “Upgrade Guide”, Chapter 1 “Upgrade Paths and Methods”</span>.
     </p></li><li class="step "><p> Look if the new <code class="filename">/etc/my.cnf.rpmnew</code>
            exists and update it with any custom changes you need. Then
            copy it over the existing <code class="filename">/etc/my.cnf</code>: </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> cp /etc/my.cnf.rpmnew /etc/my.cnf</pre></div></li><li class="step "><p> Enable the <code class="systemitem">smt</code> target to start at
            the system boot:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> systemctl enable smt.target</pre></div><p>
      Start it immediately, if necessary:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> systemctl start smt.target</pre></div></li></ol></div></div><div class="sect3 " id="smt.installation.upgrade.scc"><div class="titlepage"><div><div><h4 class="title" id="smt.installation.upgrade.scc"><span class="number">1.2.2.1 </span><span class="name">Migration to SUSE Customer Center on  SMT 11 SP4</span> <a title="Permalink" class="permalink" href="smt.installation.html#smt.installation.upgrade.scc">#</a></h4></div></div></div><p>
     Before upgrading to SUSE Linux Enterprise Server 12, you need to switch the registration center
     on SUSE Linux Enterprise Server 11. SMT now registers with SUSE Customer Center instead of Novell Customer
     Center. You can do this either via a YaST
     module or command line tools.
    </p><p>
     Before performing the switch between customer centers, make sure that
     the target customer center serves all products that are registered
     with RMT. Both YaST and the command line tools perform a check
     to find out whether all products can be served with the new
     registration server.
    </p><p>
     To perform the migration to SUSE Customer Center via command line, use the following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> smt ncc-scc-migration</pre></div><p>
     The migration itself takes time, and during the migration process
     the RMT server may not be able to serve clients that are already
     registered.
    </p><p>
     The migration process itself changes the registration server and the
     proper type of API in the configuration files. No further
     (configuration) changes are needed on the RMT.
    </p><p>
     To migrate from Novell Customer Center to SUSE Customer Center via YaST, use the YaST smt-server
     module.
    </p><p> When migration has been completed, it is necessary to synchronize
          RMT with the customer center. It is recommended to ensure
          that the repositories are up to date. This can be done using
          the following commands: </p><div class="verbatim-wrap"><pre class="screen">   smt sync
   smt mirror</pre></div></div></div></div><div class="sect1 " id="idm139993940959680"><div class="titlepage"><div><div><h2 class="title" id="idm139993940959680"><span class="number">1.3 </span><span class="name">Enabling SLP Announcements</span> <a title="Permalink" class="permalink" href="smt.installation.html#idm139993940959680">#</a></h2></div></div></div><p>
   RMT includes the SLP service description file
   (<code class="filename">/etc/slp.reg.d/smt.reg</code>). To enable SLP
   announcements of the RMT service, open respective ports in your
   firewall and enable the SLP service:
  </p><div class="verbatim-wrap"><pre class="screen">sysconf_addword /etc/sysconfig/SuSEfirewall2 FW_SERVICES_EXT_TCP "427"
sysconf_addword /etc/sysconfig/SuSEfirewall2 FW_SERVICES_EXT_UDP "427"
insserv slpd
rcslpd start</pre></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="rmt.migrate.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 2 </span>Migrate from SMT to RMT</span></a><a class="nav-link" href="pre_smt.html"><span class="prev-icon">←</span><span class="nav-label">About This Guide</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>