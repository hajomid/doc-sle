<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Power Management | Reference | openSUSE Leap 42.3</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><link rel="stylesheet" type="text/css" href="static/css/brand.css" /><meta name="generator" content="DAPS 2.4.0 using openSUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="openSUSE Leap" /><meta name="product-number" content="42.3" /><meta name="book-title" content="Reference" /><meta name="chapter-title" content="Chapter 29. Power Management" /><meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="openSUSE Distribution" /><meta name="tracker-bsc-version" content="Leap 42.2" /><link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part.reference.mobility.html" title="Part IV. Mobile Computers" /><link rel="prev" href="cha.nm.html" title="Chapter 28. Using NetworkManager" /><link rel="next" href="app.nwscheme.html" title="Appendix A. An Example Network" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="openSUSE Leap Documentation"><span class="book-icon">openSUSE Leap Documentation</span></a><span> › </span><a class="crumb" href="book.opensuse.reference.html">Reference</a><span> › </span><a class="crumb" href="part.reference.mobility.html">Mobile Computers</a><span> › </span><a class="crumb" href="cha.power-mgmt.html">Power Management</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Reference</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface.reference.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="part.reference.adv_admin.html"><span class="number">I </span><span class="name">Advanced Administration</span></a><ol><li class="inactive"><a href="cha.yast.text.html"><span class="number">1 </span><span class="name">YaST in Text Mode</span></a></li><li class="inactive"><a href="cha.sw_cl.html"><span class="number">2 </span><span class="name">Managing Software with Command Line Tools</span></a></li><li class="inactive"><a href="cha.snapper.html"><span class="number">3 </span><span class="name">System Recovery and Snapshot Management with Snapper</span></a></li><li class="inactive"><a href="cha.vnc.html"><span class="number">4 </span><span class="name">Remote Access with VNC</span></a></li><li class="inactive"><a href="cha.expert_partitioner.html"><span class="number">5 </span><span class="name">Expert Partitioner</span></a></li><li class="inactive"><a href="cha.tuning.multikernel.html"><span class="number">6 </span><span class="name">Installing Multiple Kernel Versions</span></a></li><li class="inactive"><a href="cha.gnome.gconf.html"><span class="number">7 </span><span class="name">GNOME Configuration for Administrators</span></a></li></ol></li><li class="inactive"><a href="part.reference.system.html"><span class="number">II </span><span class="name">System</span></a><ol><li class="inactive"><a href="cha.64bit.html"><span class="number">8 </span><span class="name">32-Bit and 64-Bit Applications in a 64-Bit System Environment</span></a></li><li class="inactive"><a href="cha.boot.html"><span class="number">9 </span><span class="name">Introduction to the Booting Process</span></a></li><li class="inactive"><a href="cha.systemd.html"><span class="number">10 </span><span class="name">The <code class="systemitem">systemd</code> Daemon</span></a></li><li class="inactive"><a href="cha.journalctl.html"><span class="number">11 </span><span class="name"><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> Journal</span></a></li><li class="inactive"><a href="cha.grub2.html"><span class="number">12 </span><span class="name">The Boot Loader GRUB 2</span></a></li><li class="inactive"><a href="cha.network.html"><span class="number">13 </span><span class="name">Basic Networking</span></a></li><li class="inactive"><a href="cha.uefi.html"><span class="number">14 </span><span class="name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li class="inactive"><a href="cha.suse.html"><span class="number">15 </span><span class="name">Special System Features</span></a></li><li class="inactive"><a href="cha.udev.html"><span class="number">16 </span><span class="name">Dynamic Kernel Device Management with <code class="systemitem">udev</code></span></a></li></ol></li><li class="inactive"><a href="part.reference.services.html"><span class="number">III </span><span class="name">Services</span></a><ol><li class="inactive"><a href="cha.slp.html"><span class="number">17 </span><span class="name">SLP</span></a></li><li class="inactive"><a href="cha.ntp.html"><span class="number">18 </span><span class="name">Time Synchronization with NTP</span></a></li><li class="inactive"><a href="cha.dns.html"><span class="number">19 </span><span class="name">The Domain Name System</span></a></li><li class="inactive"><a href="cha.dhcp.html"><span class="number">20 </span><span class="name">DHCP</span></a></li><li class="inactive"><a href="cha.samba.html"><span class="number">21 </span><span class="name">Samba</span></a></li><li class="inactive"><a href="cha.nfs.html"><span class="number">22 </span><span class="name">Sharing File Systems with NFS</span></a></li><li class="inactive"><a href="cha.autofs.html"><span class="number">23 </span><span class="name">On-Demand Mounting with Autofs</span></a></li><li class="inactive"><a href="cha.apache2.html"><span class="number">24 </span><span class="name">The Apache HTTP Server</span></a></li><li class="inactive"><a href="cha.ftp.html"><span class="number">25 </span><span class="name">Setting Up an FTP Server with YaST</span></a></li><li class="inactive"><a href="cha.squid.html"><span class="number">26 </span><span class="name">The Proxy Server Squid</span></a></li></ol></li><li class="inactive"><a href="part.reference.mobility.html"><span class="number">IV </span><span class="name">Mobile Computers</span></a><ol><li class="inactive"><a href="cha.mobile.html"><span class="number">27 </span><span class="name">Mobile Computing with Linux</span></a></li><li class="inactive"><a href="cha.nm.html"><span class="number">28 </span><span class="name">Using NetworkManager</span></a></li><li class="inactive"><a href="cha.power-mgmt.html"><span class="number">29 </span><span class="name">Power Management</span></a></li></ol></li><li class="inactive"><a href="app.nwscheme.html"><span class="number">A </span><span class="name">An Example Network</span></a></li><li class="inactive"><a href="bk02apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 28. Using NetworkManager" href="cha.nm.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Appendix A. An Example Network" href="app.nwscheme.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="openSUSE Leap Documentation"><span class="book-icon">openSUSE Leap Documentation</span></a><span> › </span><a class="crumb" href="book.opensuse.reference.html">Reference</a><span> › </span><a class="crumb" href="part.reference.mobility.html">Mobile Computers</a><span> › </span><a class="crumb" href="cha.power-mgmt.html">Power Management</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 28. Using NetworkManager" href="cha.nm.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Appendix A. An Example Network" href="app.nwscheme.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.power-mgmt"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">42.3</span></span></span></div><div><h2 class="title"><span class="number">29 </span><span class="name">Power Management</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>powermanagement.xml</li><li><span class="ds-label">ID: </span>cha.power-mgmt</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.power-mgmt.html#sec.power-mgmt.save"><span class="number">29.1 </span><span class="name">Power Saving Functions</span></a></span></dt><dt><span class="sect1"><a href="cha.power-mgmt.html#sec.power-mgmt.acpi"><span class="number">29.2 </span><span class="name">Advanced Configuration and Power Interface (ACPI)</span></a></span></dt><dt><span class="sect1"><a href="cha.power-mgmt.html#sec.power-mgmt.silenthd"><span class="number">29.3 </span><span class="name">Rest for the Hard Disk</span></a></span></dt><dt><span class="sect1"><a href="cha.power-mgmt.html#sec.power-mgmt.faq"><span class="number">29.4 </span><span class="name">Troubleshooting</span></a></span></dt><dt><span class="sect1"><a href="cha.power-mgmt.html#sec.power-mgmt.info"><span class="number">29.5 </span><span class="name">For More Information</span></a></span></dt></dl></div></div><p>
  Power management is especially important on laptop computers, but is also
  useful on other systems. ACPI (Advanced Configuration and Power Interface) is
  available on all modern computers (laptops, desktops, and servers). Power
  management technologies require suitable hardware and BIOS routines. Most
  laptops and many modern desktops and servers meet these requirements. It is
  also possible to control CPU frequency scaling to save power or decrease
  noise.
 </p><div class="sect1 " id="sec.power-mgmt.save"><div class="titlepage"><div><div><h2 class="title" id="sec.power-mgmt.save"><span class="number">29.1 </span><span class="name">Power Saving Functions</span> <a title="Permalink" class="permalink" href="cha.power-mgmt.html#sec.power-mgmt.save">#</a></h2></div></div></div><p>
   Power saving functions are not only significant for the mobile use of
   laptops, but also for desktop systems. The main functions and their use in
   ACPI are:
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140414367098416"><span class="term ">Standby</span></dt><dd><p>
      not supported.
     </p></dd><dt id="idm140414367096608"><span class="term ">Suspend (to memory)</span></dt><dd><p>
      This mode writes the entire system state to the RAM. Subsequently, the
      entire system except the RAM is put to sleep. In this state, the computer
      consumes very little power. The advantage of this state is the
      possibility of resuming work at the same point within a few seconds
      without having to boot and restart applications. This function
      corresponds to the ACPI state <code class="literal">S3</code>.

     </p></dd><dt id="idm140414367093984"><span class="term ">Hibernation (suspend to disk)
    </span></dt><dd><p>
      In this operating mode, the entire system state is written to the hard
      disk and the system is powered off. There must be a swap partition at
      least as big as the RAM to write all the active data. Reactivation from
      this state takes about 30 to 90 seconds. The state prior to the suspend
      is restored. Some manufacturers offer useful hybrid variants of this
      mode, such as RediSafe in IBM Thinkpads. The corresponding ACPI state is
      <code class="literal">S4</code>. In Linux, suspend to disk is performed by kernel
      routines that are independent from ACPI.
     </p><div id="idm140414367091520" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Changed UUID for Swap Partitions when Formatting via <code class="command">mkswap</code></h6><p>Do not reformat existing swap partitions with <code class="command">mkswap</code>
     if possible. Reformatting with <code class="command">mkswap</code> will change
     the UUID value of the swap partition. Either reformat via YaST (will
     update <code class="filename">/etc/fstab</code>) or adjust
     <code class="filename">/etc/fstab</code> manually.
  </p></div></dd><dt id="idm140414367087616"><span class="term ">Battery Monitor
    </span></dt><dd><p>
      ACPI checks the battery charge status and provides information about it.
      Additionally, it coordinates actions to perform when a critical charge
      status is reached.
     </p></dd><dt id="idm140414367085648"><span class="term ">Automatic Power-Off</span></dt><dd><p>
      Following a shutdown, the computer is powered off. This is especially
      important when an automatic shutdown is performed shortly before the
      battery is empty.
     </p></dd><dt id="idm140414367083696"><span class="term ">Processor Speed Control</span></dt><dd><p>
      In connection with the CPU, energy can be saved in three different ways:
      frequency and voltage scaling (also known as
      <span class="productname">PowerNow!</span> or
      <span class="productname">Speedstep</span>), throttling and putting
      the processor to sleep (C-states). Depending on the operating mode of the
      computer, these methods can also be combined.
     </p></dd></dl></div></div><div class="sect1 " id="sec.power-mgmt.acpi"><div class="titlepage"><div><div><h2 class="title" id="sec.power-mgmt.acpi"><span class="number">29.2 </span><span class="name">Advanced Configuration and Power Interface (ACPI)</span> <a title="Permalink" class="permalink" href="cha.power-mgmt.html#sec.power-mgmt.acpi">#</a></h2></div></div></div><p>
   ACPI was designed to enable the operating system to set up and control the
   individual hardware components. ACPI supersedes both Power Management Plug
   and Play (PnP) and Advanced Power Management (APM). It delivers information
   about the battery, AC adapter, temperature, fan and system events, like
   <span class="quote">“<span class="quote">close lid</span>”</span> or <span class="quote">“<span class="quote">battery low.</span>”</span>
  </p><p>
   The BIOS provides tables containing information about the individual
   components and hardware access methods. The operating system uses this
   information for tasks like assigning interrupts or activating and
   deactivating components. Because the operating system executes commands
   stored in the BIOS, the functionality depends on the BIOS implementation.
   The tables ACPI can detect and load are reported in journald. See
   <a class="xref" href="cha.journalctl.html" title="Chapter 11. journalctl: Query the systemd Journal">Chapter 11, <em><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> Journal</em></a> for more information on viewing the journal
   log messages. See <a class="xref" href="cha.power-mgmt.html#sec.power-mgmt.acpi.trouble" title="29.2.2. Troubleshooting">Section 29.2.2, “Troubleshooting”</a> for more information
   about troubleshooting ACPI problems.
  </p><div class="sect2 " id="sec.power-mgmt.acpi.powernow"><div class="titlepage"><div><div><h3 class="title" id="sec.power-mgmt.acpi.powernow"><span class="number">29.2.1 </span><span class="name">Controlling the CPU Performance</span> <a title="Permalink" class="permalink" href="cha.power-mgmt.html#sec.power-mgmt.acpi.powernow">#</a></h3></div></div></div><p>
    The CPU can save energy in three ways:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      Frequency and Voltage Scaling
     </p></li><li class="listitem "><p>
      Throttling the Clock Frequency (T-states)
     </p></li><li class="listitem "><p>
      Putting the Processor to Sleep (C-states)
     </p></li></ul></div><p>
    Depending on the operating mode of the computer, these methods can be
    combined. Saving energy also means that the system heats up less and the
    fans are activated less frequently.
   </p><p>
    Frequency scaling and throttling are only relevant if the processor is
    busy, because the most economic C-state is applied anyway when the
    processor is idle. If the CPU is busy, frequency scaling is the recommended
    power saving method. Often the processor only works with a partial load. In
    this case, it can be run with a lower frequency. Usually, dynamic frequency
    scaling controlled by the kernel on-demand governor is the best approach.
   </p><p>
    Throttling should be used as the last resort, for example, to extend the
    battery operation time despite a high system load. However, some systems do
    not run smoothly when they are throttled too much. Moreover, CPU throttling
    does not make sense if the CPU has little to do.
   </p><p>
    For in-depth information, refer to <span class="intraxref">Book “<em class="citetitle ">System Analysis and Tuning Guide</em>”, Chapter 11 “Power Management”</span>.
   </p></div><div class="sect2 " id="sec.power-mgmt.acpi.trouble"><div class="titlepage"><div><div><h3 class="title" id="sec.power-mgmt.acpi.trouble"><span class="number">29.2.2 </span><span class="name">Troubleshooting</span> <a title="Permalink" class="permalink" href="cha.power-mgmt.html#sec.power-mgmt.acpi.trouble">#</a></h3></div></div></div><p>
    There are two different types of problems. On one hand, the ACPI code of
    the kernel may contain bugs that were not detected in time. In this case, a
    solution will be made available for download. More often, the problems are
    caused by the BIOS. Sometimes, deviations from the ACPI specification are
    purposely integrated in the BIOS to circumvent errors in the ACPI
    implementation of other widespread operating systems. Hardware components
    that have serious errors in the ACPI implementation are recorded in a
    blacklist that prevents the Linux kernel from using ACPI for these
    components.
   </p><p>
    The first thing to do when problems are encountered is to update the BIOS.
    If the computer does not boot, one of the following boot parameters may be
    helpful:
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm140414367062992"><span class="term ">pci=noacpi</span></dt><dd><p>
       Do not use ACPI for configuring the PCI devices.
      </p></dd><dt id="idm140414367061152"><span class="term ">acpi=ht</span></dt><dd><p>
       Only perform a simple resource configuration. Do not use ACPI for other
       purposes.
      </p></dd><dt id="idm140414367059280"><span class="term ">acpi=off</span></dt><dd><p>
       Disable ACPI.
      </p></dd></dl></div><div id="idm140414367057360" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Problems Booting without ACPI</h6><p>
     Some newer machines (especially SMP systems and AMD64 systems) need ACPI
     for configuring the hardware correctly. On these machines, disabling ACPI
     can cause problems.
    </p></div><p>
    Sometimes, the machine is confused by hardware that is attached over USB or
    FireWire. If a machine refuses to boot, unplug all unneeded hardware and
    try again.
   </p><p>
    Monitor the boot messages of the system with the command <code class="command">dmesg
    -T</code> <code class="option">| grep -2i acpi</code> (or all messages, because the
    problem may not be caused by ACPI) after booting. If an error occurs while
    parsing an ACPI table, the most important table—the DSDT
    (<span class="emphasis"><em>Differentiated System Description Table</em></span>)—can be
    replaced with an improved version. In this case, the faulty DSDT of the
    BIOS is ignored. The procedure is described in
    <a class="xref" href="cha.power-mgmt.html#sec.power-mgmt.faq" title="29.4. Troubleshooting">Section 29.4, “Troubleshooting”</a>.
   </p><p>
    In the kernel configuration, there is a switch for activating ACPI debug
    messages. If a kernel with ACPI debugging is compiled and installed,
    detailed information is issued.
   </p><p>
    If you experience BIOS or hardware problems, it is always advisable to
    contact the manufacturers. Especially if they do not always provide
    assistance for Linux, they should be confronted with the problems.
    Manufacturers will only take the issue seriously if they realize that an
    adequate number of their customers use Linux.
   </p><div class="sect3 " id="sec.power-mgmt.acpi.trouble.info"><div class="titlepage"><div><div><h4 class="title" id="sec.power-mgmt.acpi.trouble.info"><span class="number">29.2.2.1 </span><span class="name">For More Information</span> <a title="Permalink" class="permalink" href="cha.power-mgmt.html#sec.power-mgmt.acpi.trouble.info">#</a></h4></div></div></div><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       <a class="link" href="http://tldp.org/HOWTO/ACPI-HOWTO/" target="_blank">http://tldp.org/HOWTO/ACPI-HOWTO/</a> (detailed ACPI
       HOWTO, contains DSDT patches)
      </p></li><li class="listitem "><p>
       <a class="link" href="http://www.acpi.info" target="_blank">http://www.acpi.info</a> (Advanced Configuration &amp;
       Power Interface Specification)
      </p></li><li class="listitem "><p>
       <a class="link" href="http://acpi.sourceforge.net/dsdt/index.php" target="_blank">http://acpi.sourceforge.net/dsdt/index.php</a> (DSDT
       patches by Bruno Ducrot)
      </p></li></ul></div></div></div></div><div class="sect1 " id="sec.power-mgmt.silenthd"><div class="titlepage"><div><div><h2 class="title" id="sec.power-mgmt.silenthd"><span class="number">29.3 </span><span class="name">Rest for the Hard Disk</span> <a title="Permalink" class="permalink" href="cha.power-mgmt.html#sec.power-mgmt.silenthd">#</a></h2></div></div></div><p>
   In Linux, the hard disk can be put to sleep entirely if it is not needed or
   it can be run in a more economic or quieter mode. On modern laptops, you do
   not need to switch off the hard disks manually, because they automatically
   enter an economic operating mode whenever they are not needed. However, if
   you want to maximize power savings, test some of the following methods,
   using the <code class="command">hdparm</code> command.
  </p><p>
   It can be used to modify various hard disk settings. The option
   <code class="option">-y</code> instantly switches the hard disk to the standby mode.
   <code class="option">-Y</code> puts it to sleep. <code class="command">hdparm</code>
   <code class="option">-S</code> <em class="replaceable ">X</em> causes the hard disk to be
   spun down after a certain period of inactivity. Replace
   <em class="replaceable ">X</em> as follows: <code class="literal">0</code> disables this
   mechanism, causing the hard disk to run continuously. Values from
   <code class="literal">1</code> to <code class="literal">240</code> are multiplied by 5
   seconds. Values from <code class="literal">241</code> to <code class="literal">251</code>
   correspond to 1 to 11 times 30 minutes.
  </p><p>
   Internal power saving options of the hard disk can be controlled with the
   option <code class="literal">-B</code>. Select a value from <code class="literal">0</code> to
   <code class="literal">255</code> for maximum saving to maximum throughput. The result
   depends on the hard disk used and is difficult to assess. To make a hard
   disk quieter, use the option <code class="literal">-M</code>. Select a value from
   <code class="literal">128</code> to <code class="literal">254</code> for quiet to fast.
  </p><p>
   Often, it is not so easy to put the hard disk to sleep. In Linux, numerous
   processes write to the hard disk, waking it up repeatedly. Therefore, it is
   important to understand how Linux handles data that needs to be written to
   the hard disk. First, all data is buffered in the RAM. This buffer is
   monitored by the <code class="systemitem">pdflush</code> daemon.
   When the data reaches a certain age limit or when the buffer is filled to a
   certain degree, the buffer content is flushed to the hard disk. The buffer
   size is dynamic and depends on the size of the memory and the system load.
   By default, pdflush is set to short intervals to achieve maximum data
   integrity. It checks the buffer every 5 seconds and writes the data to the
   hard disk. The following variables are interesting:
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140414367030240"><span class="term "><code class="filename">/proc/sys/vm/dirty_writeback_centisecs</code>
    </span></dt><dd><p>
      Contains the delay until a pdflush thread wakes up (in hundredths of a
      second).
     </p></dd><dt id="idm140414367028064"><span class="term "><code class="filename">/proc/sys/vm/dirty_expire_centisecs</code>
    </span></dt><dd><p>
      Defines after which timeframe a dirty page should be written out latest.
      Default is <code class="literal">3000</code>, which means 30 seconds.
     </p></dd><dt id="idm140414367025424"><span class="term "><code class="filename">/proc/sys/vm/dirty_background_ratio</code>
    </span></dt><dd><p>
      Maximum percentage of dirty pages until pdflush begins to write them.
      Default is <code class="literal">5</code>%.
     </p></dd><dt id="idm140414367022800"><span class="term "><code class="filename">/proc/sys/vm/dirty_ratio</code>
    </span></dt><dd><p>
      When the dirty page exceeds this percentage of the total memory,
      processes are forced to write dirty buffers during their time slice
      instead of continuing to write.
     </p></dd></dl></div><div id="idm140414367020368" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Impairment of the Data Integrity</h6><p>
    Changes to the <code class="systemitem">pdflush</code> daemon
    settings endanger the data integrity.
   </p></div><p>
   Apart from these processes, journaling file systems, like
   <code class="systemitem">Btrfs</code>,
   <code class="systemitem">Ext3</code>,
   <code class="systemitem">Ext4</code> and others write their
   metadata independently from <code class="systemitem">pdflush</code>,
   which also prevents the hard disk from spinning down.
   <span class="phrase">To avoid this, a special kernel extension has been
   developed for mobile devices. To use the extension, install the
   <code class="systemitem">laptop-mode-tools</code> package and
   see
   <code class="filename">/usr/src/linux/Documentation/laptops/laptop-mode.txt</code>
   for details.</span>
  </p><p>
   Another important factor is the way active programs behave. For example,
   good editors regularly write hidden backups of the currently modified file
   to the hard disk, causing the disk to wake up. Features like this can be
   disabled at the expense of data integrity.
  </p><p>
   In this connection, the mail daemon postfix uses the variable
   <code class="systemitem">POSTFIX_LAPTOP</code>. If this variable is set to
   <code class="literal">yes</code>, postfix accesses the hard disk far less frequently.
  </p><p>

   In <span class="productname"><span class="phrase">openSUSE Leap</span></span> these technologies are controlled by
   <code class="systemitem">laptop-mode-tools</code>.
  </p></div><div class="sect1 " id="sec.power-mgmt.faq"><div class="titlepage"><div><div><h2 class="title" id="sec.power-mgmt.faq"><span class="number">29.4 </span><span class="name">Troubleshooting</span> <a title="Permalink" class="permalink" href="cha.power-mgmt.html#sec.power-mgmt.faq">#</a></h2></div></div></div><p>
   All error messages and alerts are logged in the system journal that can be
   queried with the command <code class="command">journalctl</code> (see
   <a class="xref" href="cha.journalctl.html" title="Chapter 11. journalctl: Query the systemd Journal">Chapter 11, <em><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> Journal</em></a> for more information). The following
   sections cover the most common problems.
  </p><div class="sect2 " id="sec.power-mgmt.faq.cpufreq"><div class="titlepage"><div><div><h3 class="title" id="sec.power-mgmt.faq.cpufreq"><span class="number">29.4.1 </span><span class="name">CPU Frequency Does Not Work</span> <a title="Permalink" class="permalink" href="cha.power-mgmt.html#sec.power-mgmt.faq.cpufreq">#</a></h3></div></div></div><p>
    Refer to the kernel sources to see if your processor is supported. You may
    need a special kernel module or module option to activate CPU frequency
    control. If the <code class="systemitem">kernel-source</code>
    package is installed, this information is available in
    <code class="filename">/usr/src/linux/Documentation/cpu-freq/*</code>.
   </p></div></div><div class="sect1 " id="sec.power-mgmt.info"><div class="titlepage"><div><div><h2 class="title" id="sec.power-mgmt.info"><span class="number">29.5 </span><span class="name">For More Information</span> <a title="Permalink" class="permalink" href="cha.power-mgmt.html#sec.power-mgmt.info">#</a></h2></div></div></div><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     <a class="link" href="http://en.opensuse.org/SDB:Suspend_to_RAM" target="_blank">http://en.opensuse.org/SDB:Suspend_to_RAM</a>—How
     to get Suspend to RAM working
    </p></li><li class="listitem "><p>
     <a class="link" href="http://old-en.opensuse.org/Pm-utils" target="_blank">http://old-en.opensuse.org/Pm-utils</a>—How to
     modify the general suspend framework
    </p></li></ul></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="app.nwscheme.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Appendix A </span>An Example Network</span></a><a class="nav-link" href="cha.nm.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 28 </span>Using NetworkManager</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p></div></div></body></html>