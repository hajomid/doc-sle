<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>32-Bit and 64-Bit Applications in a 64-Bit System Environment | Reference | openSUSE Leap 42.3</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="product-name" content="openSUSE Leap" /><meta name="product-number" content="42.3" /><meta name="book-title" content="Reference" /><meta name="chapter-title" content="Chapter 8. 32-Bit and 64-Bit Applications in a 64-Bit System Environment" /><meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="openSUSE Distribution" /><meta name="tracker-bsc-version" content="Leap 42.2" /><link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part.reference.system.html" title="Part II. System" /><link rel="prev" href="part.reference.system.html" title="Part II. System" /><link rel="next" href="cha.boot.html" title="Chapter 9. Introduction to the Booting Process" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="openSUSE Leap Documentation"><span class="book-icon">openSUSE Leap Documentation</span></a><span> › </span><a class="crumb" href="book.opensuse.reference.html">Reference</a><span> › </span><a class="crumb" href="part.reference.system.html">System</a><span> › </span><a class="crumb" href="cha.64bit.html">32-Bit and 64-Bit Applications in a 64-Bit System Environment</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Reference</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface.reference.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="part.reference.adv_admin.html"><span class="number">I </span><span class="name">Advanced Administration</span></a><ol><li class="inactive"><a href="cha.yast.text.html"><span class="number">1 </span><span class="name">YaST in Text Mode</span></a></li><li class="inactive"><a href="cha.sw_cl.html"><span class="number">2 </span><span class="name">Managing Software with Command Line Tools</span></a></li><li class="inactive"><a href="cha.snapper.html"><span class="number">3 </span><span class="name">System Recovery and Snapshot Management with Snapper</span></a></li><li class="inactive"><a href="cha.vnc.html"><span class="number">4 </span><span class="name">Remote Access with VNC</span></a></li><li class="inactive"><a href="cha.advdisk.html"><span class="number">5 </span><span class="name">Advanced Disk Setup</span></a></li><li class="inactive"><a href="cha.tuning.multikernel.html"><span class="number">6 </span><span class="name">Installing Multiple Kernel Versions</span></a></li><li class="inactive"><a href="cha.gnome.gconf.html"><span class="number">7 </span><span class="name">GNOME Configuration for Administrators</span></a></li></ol></li><li class="inactive"><a href="part.reference.system.html"><span class="number">II </span><span class="name">System</span></a><ol><li class="inactive"><a href="cha.64bit.html"><span class="number">8 </span><span class="name">32-Bit and 64-Bit Applications in a 64-Bit System Environment</span></a></li><li class="inactive"><a href="cha.boot.html"><span class="number">9 </span><span class="name">Introduction to the Booting Process</span></a></li><li class="inactive"><a href="cha.systemd.html"><span class="number">10 </span><span class="name">The <code class="systemitem">systemd</code> Daemon</span></a></li><li class="inactive"><a href="cha.journalctl.html"><span class="number">11 </span><span class="name"><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> Journal</span></a></li><li class="inactive"><a href="cha.grub2.html"><span class="number">12 </span><span class="name">The Boot Loader GRUB 2</span></a></li><li class="inactive"><a href="cha.network.html"><span class="number">13 </span><span class="name">Basic Networking</span></a></li><li class="inactive"><a href="cha.uefi.html"><span class="number">14 </span><span class="name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li class="inactive"><a href="cha.suse.html"><span class="number">15 </span><span class="name">Special System Features</span></a></li><li class="inactive"><a href="cha.udev.html"><span class="number">16 </span><span class="name">Dynamic Kernel Device Management with <code class="systemitem">udev</code></span></a></li></ol></li><li class="inactive"><a href="part.reference.services.html"><span class="number">III </span><span class="name">Services</span></a><ol><li class="inactive"><a href="cha.slp.html"><span class="number">17 </span><span class="name">SLP</span></a></li><li class="inactive"><a href="cha.ntp.html"><span class="number">18 </span><span class="name">Time Synchronization with NTP</span></a></li><li class="inactive"><a href="cha.dns.html"><span class="number">19 </span><span class="name">The Domain Name System</span></a></li><li class="inactive"><a href="cha.dhcp.html"><span class="number">20 </span><span class="name">DHCP</span></a></li><li class="inactive"><a href="cha.samba.html"><span class="number">21 </span><span class="name">Samba</span></a></li><li class="inactive"><a href="cha.nfs.html"><span class="number">22 </span><span class="name">Sharing File Systems with NFS</span></a></li><li class="inactive"><a href="cha.autofs.html"><span class="number">23 </span><span class="name">On-Demand Mounting with Autofs</span></a></li><li class="inactive"><a href="cha.apache2.html"><span class="number">24 </span><span class="name">The Apache HTTP Server</span></a></li><li class="inactive"><a href="cha.ftp.html"><span class="number">25 </span><span class="name">Setting Up an FTP Server with YaST</span></a></li><li class="inactive"><a href="cha.squid.html"><span class="number">26 </span><span class="name">The Proxy Server Squid</span></a></li></ol></li><li class="inactive"><a href="part.reference.mobility.html"><span class="number">IV </span><span class="name">Mobile Computers</span></a><ol><li class="inactive"><a href="cha.mobile.html"><span class="number">27 </span><span class="name">Mobile Computing with Linux</span></a></li><li class="inactive"><a href="cha.nm.html"><span class="number">28 </span><span class="name">Using NetworkManager</span></a></li><li class="inactive"><a href="cha.power-mgmt.html"><span class="number">29 </span><span class="name">Power Management</span></a></li></ol></li><li class="inactive"><a href="app.nwscheme.html"><span class="number">A </span><span class="name">An Example Network</span></a></li><li class="inactive"><a href="bk02apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Part II. System" href="part.reference.system.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 9. Introduction to the Booting Process" href="cha.boot.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="openSUSE Leap Documentation"><span class="book-icon">openSUSE Leap Documentation</span></a><span> › </span><a class="crumb" href="book.opensuse.reference.html">Reference</a><span> › </span><a class="crumb" href="part.reference.system.html">System</a><span> › </span><a class="crumb" href="cha.64bit.html">32-Bit and 64-Bit Applications in a 64-Bit System Environment</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Part II. System" href="part.reference.system.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 9. Introduction to the Booting Process" href="cha.boot.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.64bit"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">42.3</span></span></span></div><div><h2 class="title"><span class="number">8 </span><span class="name">32-Bit and 64-Bit Applications in a 64-Bit System Environment</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>64bit_issues.xml</li><li><span class="ds-label">ID: </span>cha.64bit</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.64bit.html#sec.64bit.runt"><span class="number">8.1 </span><span class="name">Runtime Support</span></a></span></dt><dt><span class="sect1"><a href="cha.64bit.html#sec.64bit.devel"><span class="number">8.2 </span><span class="name">Software Development</span></a></span></dt><dt><span class="sect1"><a href="cha.64bit.html#sec.64bit.biarch"><span class="number">8.3 </span><span class="name">Software Compilation on Biarch Platforms</span></a></span></dt><dt><span class="sect1"><a href="cha.64bit.html#sec.64bit.kernel"><span class="number">8.4 </span><span class="name">Kernel Specifications</span></a></span></dt></dl></div></div><p>
  <span class="productname"><span class="phrase">openSUSE® Leap</span></span> is available for  64-bit
  platforms. This does not necessarily mean that all the applications included
  have already been ported to 64-bit platforms. <span class="productname"><span class="phrase">openSUSE Leap</span></span> supports the use
  of 32-bit applications in a 64-bit system environment. This chapter offers a
  brief overview of how this support is implemented on 64-bit <span class="productname"><span class="phrase">openSUSE Leap</span></span>
  platforms. It explains how 32-bit applications are executed and how 32-bit applications should be compiled to enable them to run both in
  32-bit and 64-bit system environments. Additionally, find information about
  the kernel API and an explanation of how 32-bit applications can run under a
  64-bit kernel.
 </p><p>
  <span class="phrase"><span class="productname"><span class="phrase">openSUSE Leap</span></span> for the
  64-bit platforms amd64 and Intel 64</span> is designed so that existing
  32-bit applications run in the 64-bit environment
  <span class="quote">“<span class="quote">out-of-the-box.</span>”</span>  This
  support means that you can continue to use your preferred 32-bit applications
  without waiting for a corresponding 64-bit port to become
  available.
 </p><div class="sect1 " id="sec.64bit.runt"><div class="titlepage"><div><div><h2 class="title" id="sec.64bit.runt"><span class="number">8.1 </span><span class="name">Runtime Support</span> <a title="Permalink" class="permalink" href="cha.64bit.html#sec.64bit.runt">#</a></h2></div></div></div><div id="idm140492792048208" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Conflicts Between Application Versions</h6><p>
    If an application is available both for 32-bit and 64-bit environments,
    parallel installation of both versions is bound to lead to problems. In
    such cases, decide on one of the two versions and install and use this.
   </p><p>
    An exception to this rule is PAM (pluggable authentication modules).
    <span class="productname"><span class="phrase">openSUSE Leap</span></span> uses PAM in the authentication process as a layer that
    mediates between user and application. On a 64-bit operating system that
    also runs 32-bit applications it is necessary to always install both
    versions of a PAM module.
   </p></div><p>
   To be executed correctly, every application requires a range of libraries.
   Unfortunately, the names for the 32-bit and 64-bit versions of these
   libraries are identical. They must be differentiated from each other in
   another way.
  </p><p>
   To retain compatibility with the 32-bit version, the libraries are stored at
   the same place in the system as in the 32-bit environment. The 32-bit
   version of <code class="filename">libc.so.6</code> is located under
   <code class="filename">/lib/libc.so.6</code> in both the 32-bit and 64-bit
   environments.
  </p><p>
   All 64-bit libraries and object files are located in directories called
   <code class="filename">lib64</code>. The 64-bit object files that you would normally
   expect to find under <code class="filename">/lib</code> and
   <code class="filename">/usr/lib</code> are now found under
   <code class="filename">/lib64</code> and <code class="filename">/usr/lib64</code>. This means
   that there is space for the 32-bit libraries under <code class="filename">/lib</code>
   and <code class="filename">/usr/lib</code>, so the file name for both versions can
   remain unchanged.
  </p><p>
   Subdirectories of 32-bit <code class="filename">/lib</code> directories which contain
   data content that does not depend on the word size are not moved. This
   scheme conforms to LSB (Linux Standards Base) and FHS (File System Hierarchy
   Standard).
  </p></div><div class="sect1 " id="sec.64bit.devel"><div class="titlepage"><div><div><h2 class="title" id="sec.64bit.devel"><span class="number">8.2 </span><span class="name">Software Development</span> <a title="Permalink" class="permalink" href="cha.64bit.html#sec.64bit.devel">#</a></h2></div></div></div><p>
   All 64-bit architectures support the development of 64-bit objects. The
   level of support for 32-bit compiling depends on the architecture. These are
   the various implementation options for the toolchain from GCC (GNU Compiler
   Collection) and binutils, which include the assembler <code class="command">as</code>
   and the linker <code class="command">ld</code>:
  </p><p>
   Both 32-bit and 64-bit objects can be generated with a biarch development
   toolchain. A biarch development toolchain allows generation of 32-bit and
   64-bit objects. The compilation of 64-bit objects is the default on almost
   all platforms. 32-bit objects can be generated if special flags are used.
   This special flag is <code class="option">-m32</code> for GCC. The flags for the
   binutils are architecture-dependent, but GCC transfers the correct flags to
   linkers and assemblers. A biarch development toolchain currently exists for
   amd64 (supports development for x86 and amd64 instructions), for z Systems
   and for POWER. 32-bit objects are normally created on the POWER
   platform. The <code class="literal">-m64</code> flag must be used to generate 64-bit
   objects.
  </p><p>
   All header files must be written in an architecture-independent form. The
   installed 32-bit and 64-bit libraries must have an API (application
   programming interface) that matches the installed header files. The normal
   <span class="productname"><span class="phrase">openSUSE Leap</span></span> environment is designed according to this principle. In the
   case of manually updated libraries, resolve these issues yourself.
  </p></div><div class="sect1 " id="sec.64bit.biarch"><div class="titlepage"><div><div><h2 class="title" id="sec.64bit.biarch"><span class="number">8.3 </span><span class="name">Software Compilation on Biarch Platforms</span> <a title="Permalink" class="permalink" href="cha.64bit.html#sec.64bit.biarch">#</a></h2></div></div></div><p>
   To develop binaries for the other architecture on a biarch architecture, the
   respective libraries for the second architecture must additionally be
   installed. These packages are called
   <code class="systemitem">rpmname-32bit</code>. You also need the respective
   headers and libraries from the
   <code class="systemitem">rpmname-devel</code> packages and the
   development libraries for the second architecture from
   <code class="systemitem">rpmname-devel-32bit</code>.
  </p><p>
   For example, to compile a program that uses <code class="command">libaio</code> on a
   system with a 32-bit second architecture (x86_64), you need the following
   RPMs:
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140492792024544"><span class="term ">libaio-32bit</span></dt><dd><p>
      32-bit runtime package
     </p></dd><dt id="idm140492792022736"><span class="term ">libaio-devel-32bit</span></dt><dd><p>
      Headers and libraries for 32-bit development
     </p></dd><dt id="idm140492792020896"><span class="term ">libaio</span></dt><dd><p>
      64-bit runtime package
     </p></dd><dt id="idm140492792019088"><span class="term ">libaio-devel</span></dt><dd><p>
      64-bit development headers and libraries
     </p></dd></dl></div><p>
   Most open source programs use an <code class="command">autoconf</code>-based program
   configuration. To use <code class="command">autoconf</code> for configuring a program
   for the second architecture, overwrite the normal compiler and linker
   settings of <code class="command">autoconf</code> by running the
   <code class="command">configure</code> script with additional environment variables.
  </p><p>
   The following example refers to an x86_64 system with x86 as the second
   architecture. 
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Use the 32-bit compiler:
    </p><div class="verbatim-wrap"><pre class="screen">CC="gcc -m32"</pre></div></li><li class="step "><p>
     Instruct the linker to process 32-bit objects (always use
     <code class="command">gcc</code> as the linker front-end):
    </p><div class="verbatim-wrap"><pre class="screen">LD="gcc -m32"</pre></div></li><li class="step "><p>
     Set the assembler to generate 32-bit objects:
    </p><div class="verbatim-wrap"><pre class="screen">AS="gcc -c -m32"</pre></div></li><li class="step "><p>
     Specify linker flags, such as the location of 32-bit libraries, for
     example:
    </p><div class="verbatim-wrap"><pre class="screen">LDFLAGS="-L/usr/lib"</pre></div></li><li class="step "><p>
     Specify the location for the 32-bit object code libraries:
    </p><div class="verbatim-wrap"><pre class="screen">--libdir=/usr/lib</pre></div></li><li class="step "><p>
     Specify the location for the 32-bit X libraries:
    </p><div class="verbatim-wrap"><pre class="screen">--x-libraries=/usr/lib</pre></div></li></ol></div></div><p>
   Not all of these variables are needed for every program. Adapt them to the
   respective program.
  </p><p>
   An example <code class="command">configure</code> call to compile a native 32-bit
   application on x86_64 could
   appear as follows:
  </p><div class="verbatim-wrap"><pre class="screen">CC="gcc -m32"
LDFLAGS="-L/usr/lib;"
./configure --prefix=/usr --libdir=/usr/lib --x-libraries=/usr/lib
make
make install</pre></div></div><div class="sect1 " id="sec.64bit.kernel"><div class="titlepage"><div><div><h2 class="title" id="sec.64bit.kernel"><span class="number">8.4 </span><span class="name">Kernel Specifications</span> <a title="Permalink" class="permalink" href="cha.64bit.html#sec.64bit.kernel">#</a></h2></div></div></div><p>
   The 64-bit kernels for AMD64/Intel 64 offer both a 64-bit and a 32-bit kernel ABI (application
   binary interface). The latter is identical with the ABI for the
   corresponding 32-bit kernel. This means that the 32-bit application can
   communicate with the 64-bit kernel in the same way as with the 32-bit
   kernel.
  </p><p>
   The 32-bit emulation of system calls for a 64-bit kernel does not support
   all the APIs used by system programs. This depends on the platform. For this
   reason, few applications, like <code class="command">lspci</code>, must be
   compiled.
  </p><p>
   A 64-bit kernel can only load 64-bit kernel modules that have been specially
   compiled for this kernel. It is not possible to use 32-bit kernel modules.
  </p><div id="idm140492791998528" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Kernel-loadable Modules</h6><p>
    Some applications require separate kernel-loadable modules. If you intend
    to use such a 32-bit application in a 64-bit system environment, contact
    the provider of this application and SUSE to make sure that the 64-bit
    version of the kernel-loadable module and the 32-bit compiled version of
    the kernel API are available for this module.
   </p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.boot.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 9 </span>Introduction to the Booting Process</span></a><a class="nav-link" href="part.reference.system.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Part II </span>System</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>