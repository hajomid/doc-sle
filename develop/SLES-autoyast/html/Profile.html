<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Control File | AutoYaST | SUSE Linux Enterprise Server 15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 2.4.0 using SUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise Server" /><meta name="product-number" content="15" /><meta name="book-title" content="AutoYaST" /><meta name="chapter-title" content="Chapter 2. The Control File" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="Beta SUSE Linux Enterprise Server 15" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Server Documentation" /><link rel="up" href="book.autoyast.html" title="AutoYaST" /><link rel="prev" href="introduction.html" title="Chapter 1. Introduction" /><link rel="next" href="CreateProfile.html" title="Chapter 3. Creating A Control File" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.autoyast.html">AutoYaST</a><span> › </span><a class="crumb" href="Profile.html">The Control File</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>AutoYaST</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="introduction.html"><span class="number">1 </span><span class="name">Introduction</span></a></li><li class="inactive"><a href="Profile.html"><span class="number">2 </span><span class="name">The Control File</span></a></li><li class="inactive"><a href="CreateProfile.html"><span class="number">3 </span><span class="name">Creating A Control File</span></a></li><li class="inactive"><a href="configuration.html"><span class="number">4 </span><span class="name">Configuration and Installation Options</span></a></li><li class="inactive"><a href="rulesandclass.html"><span class="number">5 </span><span class="name">Rules and Classes</span></a></li><li class="inactive"><a href="Invoking.html"><span class="number">6 </span><span class="name">The Auto-Installation Process</span></a></li><li class="inactive"><a href="InstalledSystem.html"><span class="number">7 </span><span class="name">Running AutoYaST in an Installed System</span></a></li><li class="inactive"><a href="handlingrules.html"><span class="number">A </span><span class="name">Handling Rules</span></a></li><li class="inactive"><a href="app.ay.faq.html"><span class="number">B </span><span class="name">AutoYaST FAQ - Frequently Asked Questions</span></a></li><li class="inactive"><a href="appendix.linuxrc.html"><span class="number">C </span><span class="name">Advanced Linuxrc Options</span></a></li><li class="inactive"><a href="appendix.ay_12vs15.html"><span class="number">D </span><span class="name">
  Main differences between <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> <span class="phrase">12</span> and 15 profiles
 </span></a></li><li class="inactive"><a href="bk05ape.html"><span class="number">E </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 1. Introduction" href="introduction.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 3. Creating A Control File" href="CreateProfile.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.autoyast.html">AutoYaST</a><span> › </span><a class="crumb" href="Profile.html">The Control File</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 1. Introduction" href="introduction.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 3. Creating A Control File" href="CreateProfile.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="Profile"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15</span></span></span></div><div><h1 class="title"><span class="number">2 </span><span class="name">The Control File</span> </h1></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="Profile.html#Profile.Intro"><span class="number">2.1 </span><span class="name">Introduction</span></a></span></dt><dt><span class="sect1"><a href="Profile.html#Profile.Format"><span class="number">2.2 </span><span class="name">Format</span></a></span></dt><dt><span class="sect1"><a href="Profile.html#Profile.Structure"><span class="number">2.3 </span><span class="name">Structure</span></a></span></dt></dl></div></div><div class="sect1 " id="Profile.Intro"><div class="titlepage"><div><div><h2 class="title" id="Profile.Intro"><span class="number">2.1 </span><span class="name">Introduction</span> <a title="Permalink" class="permalink" href="Profile.html#Profile.Intro">#</a></h2></div></div></div><p>
    The control file usually is a configuration description for a single
    system. It consists of sets of resources with properties including
    support for complex structures such as lists, records, trees and large
    embedded or referenced objects.
   </p><div id="idm140143383713984" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Control Files from Previous Releases are Incompatible</h6><p>
     A lot of major changes were introduced with <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> <span class="productnumber"><span class="phrase">15</span></span> (the
     switch to systemd and GRUB 2 for example). These changes also
     required fundamental changes in AutoYaST, therefore you cannot use
     AutoYaST control files created on previous <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> versions to install
     <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> <span class="productnumber"><span class="phrase">15</span></span> and vice versa.
    </p></div></div><div class="sect1 " id="Profile.Format"><div class="titlepage"><div><div><h2 class="title" id="Profile.Format"><span class="number">2.2 </span><span class="name">Format</span> <a title="Permalink" class="permalink" href="Profile.html#Profile.Format">#</a></h2></div></div></div><p>
    The XML configuration format provides a consistent file structure, which
    is easy to learn and to remember when attempting to configure a new
    system.
   </p><p>
    The AutoYaST control file uses XML to describe the system installation
    and configuration. XML is a commonly used markup, and many users are
    familiar with the concepts of the language and the tools used to process
    XML files. If you edit an existing control file or create a control file
    using an editor from scratch, it is strongly recommended to validate the
    control file. This can be done using a validating XML parser such as
    <code class="literal">xmllint</code> or <code class="literal">jing</code>, for example
    (see  <a class="xref" href="CreateProfile.html#CreateProfile.Manual" title="3.3. Creating/Editing a Control File Manually">Section 3.3, “Creating/Editing a Control File Manually”</a>).
   </p><p>
    The following example shows a control file in XML format:
   </p><div class="example" id="idm140143379601104"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 2.1: </span><span class="name">AutoYaST Control File (Profile) </span><a title="Permalink" class="permalink" href="Profile.html#idm140143379601104">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile
  xmlns="http://www.suse.com/1.0/yast2ns"
  xmlns:config="http://www.suse.com/1.0/configns"&gt;
  &lt;partitioning  config:type="list"&gt;
    &lt;drive&gt;
      &lt;device&gt;/dev/sda&lt;/device&gt;
      &lt;partitions config:type="list"&gt;
        &lt;partition&gt;
          &lt;filesystem config:type="symbol"&gt;btrfs&lt;/filesystem&gt;
          &lt;size&gt;10G&lt;/size&gt;
          &lt;mount&gt;/&lt;/mount&gt;
        &lt;/partition&gt;
        &lt;partition&gt;
          &lt;filesystem config:type="symbol"&gt;xfs&lt;/filesystem&gt;
          &lt;size&gt;120G&lt;/size&gt;
          &lt;mount&gt;/data&lt;/mount&gt;
        &lt;/partition&gt;
      &lt;/partitions&gt;
    &lt;/drive&gt;
  &lt;/partitioning&gt;
  &lt;scripts&gt;
    &lt;pre-scripts&gt;
      &lt;script&gt;
        &lt;interpreter&gt;shell&lt;/interpreter&gt;
        &lt;filename&gt;start.sh&lt;/filename&gt;
        &lt;source&gt;
        &lt;![CDATA[
#!/bin/sh
echo "Starting installation"
exit 0

]]&gt;

        &lt;/source&gt;
      &lt;/script&gt;
    &lt;/pre-scripts&gt;
  &lt;/scripts&gt;
&lt;/profile&gt;</pre></div></div></div></div><div class="sect1 " id="Profile.Structure"><div class="titlepage"><div><div><h2 class="title" id="Profile.Structure"><span class="number">2.3 </span><span class="name">Structure</span> <a title="Permalink" class="permalink" href="Profile.html#Profile.Structure">#</a></h2></div></div></div><p>
    Below is an example of a basic control file container, the actual
    content of which is explained later on in this chapter.
   </p><div class="example" id="idm140143379597184"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 2.2: </span><span class="name">Control file container </span><a title="Permalink" class="permalink" href="Profile.html#idm140143379597184">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile
  xmlns="http://www.suse.com/1.0/yast2ns"
  xmlns:config="http://www.suse.com/1.0/configns"&gt;
  &lt;!-- RESOURCES --&gt;
&lt;/profile&gt;</pre></div></div></div><p>
    The <code class="literal">&lt;profile&gt;</code> element (root node)
    contains one or more distinct resource elements. The permissible
    resource elements are specified in the schema files
   </p><div class="sect2 " id="Profile.Format.ressources"><div class="titlepage"><div><div><h3 class="title" id="Profile.Format.ressources"><span class="number">2.3.1 </span><span class="name">Resources and Properties</span> <a title="Permalink" class="permalink" href="Profile.html#Profile.Format.ressources">#</a></h3></div></div></div><p>
     A resource element either contains multiple and distinct property and
     resource elements, or multiple instances of the same resource element,
     or it is empty. The permissible content of a resource element is
     specified in the schema files.
    </p><p>
     A property element is either empty or contains a literal value. The
     permissible property elements and values in each resource element are
     specified in the schema files
    </p><p>
     An element can be either a container of other elements (a resource) or
     it has a literal value (a property); it can never be both. This
     restriction is specified in the schema files. A configuration component
     with more than one value must either be represented as an embedded list in a property value or as a nested resource.
    </p><p>
      An empty element, such as
      <code class="literal">&lt;foo&gt;&lt;/foo&gt;</code> or
      <code class="literal">&lt;bar/&gt;</code> will be <span class="emphasis"><em>not</em></span>
      present in the parsed data model. Usually this is interpreted as
      wanting a sensible default value. In cases where you need an
      explicit empty string instead, use a CDATA section:
      <code class="literal">&lt;foo&gt;&lt;![CDATA[]]&gt;&lt;/foo&gt;</code>.
    </p></div><div class="sect2 " id="Profile.Format.ressources_nested"><div class="titlepage"><div><div><h3 class="title" id="Profile.Format.ressources_nested"><span class="number">2.3.2 </span><span class="name">Nested Resources</span> <a title="Permalink" class="permalink" href="Profile.html#Profile.Format.ressources_nested">#</a></h3></div></div></div><p>
     Nested resource elements allow a tree-like structure of configuration
     components to be built to any level.
    </p><p>
     There are two kinds of nested resources: maps and lists. Maps, also
     known as associative arrays, hashes, or dictionaries, contain mixed
     contents, identified by their tag names. Lists, or arrays, have all
     items of the same type.
    </p><div class="example" id="idm140143379586432"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 2.3: </span><span class="name">Nested Resources </span><a title="Permalink" class="permalink" href="Profile.html#idm140143379586432">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">...
&lt;drive&gt;
  &lt;device&gt;/dev/sda&lt;/device&gt;
  &lt;partitions config:type="list"&gt;
     &lt;partition&gt;
        &lt;size&gt;10G&lt;/size&gt;
        &lt;mount&gt;/&lt;/mount&gt;
     &lt;/partition&gt;
     &lt;partition&gt;
        &lt;size&gt;1G&lt;/size&gt;
        &lt;mount&gt;/tmp&lt;/mount&gt;
     &lt;/partition&gt;
  &lt;/partitions&gt;
&lt;/drive&gt;
....</pre></div></div></div><p>
     In the example above the <code class="literal">drive</code> resource is a map
     consisting of a <code class="literal">device</code> property and a
     <code class="literal">partitions</code> resource. The partitions resource is a list
     containing multiple instances of the <code class="literal">partition</code>
     resource. Each partition resource is a map containing a
     <code class="literal">size</code> and <code class="literal">mount</code> property.
    </p><p>
     The default type of a nested resource is map. Lists must be marked as
     such using the <code class="literal">config:type="list"</code> attribute.
    </p></div><div class="sect2 " id="Profile.Format.attributes"><div class="titlepage"><div><div><h3 class="title" id="Profile.Format.attributes"><span class="number">2.3.3 </span><span class="name">Attributes</span> <a title="Permalink" class="permalink" href="Profile.html#Profile.Format.attributes">#</a></h3></div></div></div><p>
     Global attributes are used to define metadata on resources and
     properties. Attributes are used to define context switching. They are
     also used for naming and typing properties as shown in the previous
     sections. Attributes are in a separate namespace so they do not need to
     be treated as reserved words in the default namespace.
    </p><p>
     The <code class="literal">config:type</code> attribute determines the type of the
     resource or property in the parsed data model. For resources, lists need
     a <code class="literal">list</code> type whereas a map is the default type that
     does not need an attribute. For properties, <code class="literal">boolean</code>,
     <code class="literal">symbol</code>, and <code class="literal">integer</code> can be used,
     the default being a string.
    </p><p>
     Attributes are not optional. It may appear that attributes are
     optional, because various parts of the schema are not very
     consistent in their usage of data types. In some places an
     enumeration is represented by a symbol, elsewhere a string is
     required. One resource needs
     <code class="literal">config:type="integer"</code>, another will parse the
     number from a string property. Some resources use
     <code class="literal">config:type="boolean"</code>, other want "yes" or even
     "1". If in doubt, consult the schema file.
    </p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="CreateProfile.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 3 </span>Creating A Control File</span></a><a class="nav-link" href="introduction.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 1 </span>Introduction</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>