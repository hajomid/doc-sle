<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>AutoYaST FAQ - Frequently Asked Questions | AutoYaST | SUSE Linux Enterprise Server 15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 2.4.0 using SUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise Server" /><meta name="product-number" content="15" /><meta name="book-title" content="AutoYaST" /><meta name="chapter-title" content="Appendix B. AutoYaST FAQ - Frequently Asked Questions" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="Beta SUSE Linux Enterprise Server 15" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Server Documentation" /><link rel="up" href="book.autoyast.html" title="AutoYaST" /><link rel="prev" href="handlingrules.html" title="Appendix A. Handling Rules" /><link rel="next" href="appendix.linuxrc.html" title="Appendix C. Advanced Linuxrc Options" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.autoyast.html">AutoYaST</a><span> › </span><a class="crumb" href="app.ay.faq.html">AutoYaST FAQ - Frequently Asked Questions</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>AutoYaST</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="introduction.html"><span class="number">1 </span><span class="name">Introduction</span></a></li><li class="inactive"><a href="Profile.html"><span class="number">2 </span><span class="name">The Control File</span></a></li><li class="inactive"><a href="CreateProfile.html"><span class="number">3 </span><span class="name">Creating A Control File</span></a></li><li class="inactive"><a href="configuration.html"><span class="number">4 </span><span class="name">Configuration and Installation Options</span></a></li><li class="inactive"><a href="rulesandclass.html"><span class="number">5 </span><span class="name">Rules and Classes</span></a></li><li class="inactive"><a href="Invoking.html"><span class="number">6 </span><span class="name">The Auto-Installation Process</span></a></li><li class="inactive"><a href="InstalledSystem.html"><span class="number">7 </span><span class="name">Running AutoYaST in an Installed System</span></a></li><li class="inactive"><a href="handlingrules.html"><span class="number">A </span><span class="name">Handling Rules</span></a></li><li class="inactive"><a href="app.ay.faq.html"><span class="number">B </span><span class="name">AutoYaST FAQ - Frequently Asked Questions</span></a></li><li class="inactive"><a href="appendix.linuxrc.html"><span class="number">C </span><span class="name">Advanced Linuxrc Options</span></a></li><li class="inactive"><a href="bk05apd.html"><span class="number">D </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Appendix A. Handling Rules" href="handlingrules.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Appendix C. Advanced Linuxrc Options" href="appendix.linuxrc.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.autoyast.html">AutoYaST</a><span> › </span><a class="crumb" href="app.ay.faq.html">AutoYaST FAQ - Frequently Asked Questions</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Appendix A. Handling Rules" href="handlingrules.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Appendix C. Advanced Linuxrc Options" href="appendix.linuxrc.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="appendix " id="app.ay.faq"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15</span></span></span></div><div><h1 class="title"><span class="number">B </span><span class="name">AutoYaST FAQ - Frequently Asked Questions</span> </h1></div></div></div><div class="line"></div><div class="qandaset" id="idm140606286360832"><div class="free-id" id="qa.ay.invoke"></div><dl class="qandaentry"><dt class="question" id="idm140606286359888">
      How do I invoke an AutoYaST installation?
     </dt><dd class="answer" id="idm140606286358960"><p>
      On all <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> versions, the automatic installation gets invoked by
      adding <code class="literal">autoyast=&lt;PATH_TO_PROFILE&gt;</code> to the kernel
      parameter list. So for example adding
      <code class="literal">autoyast=<em class="replaceable ">http://MYSERVER/MYCONFIG.xml</em></code>
      will start an automatic installation where the profile with the AutoYaST
      configuration gets fetched from the Web server
      <code class="literal">myserver</code>.  See <a class="xref" href="Invoking.html#invoking_autoinst" title="6.3. Invoking the Auto-Installation Process">Section 6.3, “Invoking the Auto-Installation Process”</a> for
      more information.
     </p></dd></dl><div class="free-id" id="qa.ay.profile"></div><dl class="qandaentry"><dt class="question" id="idm140606286353648">
      What is an AutoYaST profile?
     </dt><dd class="answer" id="idm140606286352720"><p>
      A profile is the AutoYaST configuration file. The content of the AutoYaST profile determines
      how the system will be configured and which packages will get installed.
      This includes partitioning, network setup, and software sources, to name but a
      few. Almost everything that can be configured with YaST in a running
      system can also be configured in an AutoYaST profile. The profile format is
      an ASCII XML file.
     </p></dd></dl><div class="free-id" id="qa.ay.create_profile"></div><dl class="qandaentry"><dt class="question" id="idm140606286350576">
      How do I create an AutoYaST profile?
     </dt><dd class="answer" id="idm140606286349648"><p>
      The easiest way to create an AutoYaST profile is to use an existing
      <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> system
      as a template. On an already installed system, start <span class="guimenu">YaST</span> › <span class="guimenu">Miscellaneous</span> › <span class="guimenu">Autoinstallation</span>. Now select <span class="guimenu">Tools</span> › <span class="guimenu">Create Reference Profile</span> from the menu. Choose the system components you want
      to include in the profile. Alternatively, create a profile containing
      the complete system configuration by running <code class="command">sudo yast
      clone_system</code> from the command line.
     </p><p>
      Both methods will create the file
      <code class="filename">/root/autoinst.xml</code>. The version created on the
      command line can be used to set up an identical clone of the system on
      which the profile was created. However, usually you will want to adjust
      the file to make it possible to install several machines that are very
      similar, but not identical. This can be done by adjusting the profile
      using your favorite text/XML editor.
     </p></dd></dl><div class="free-id" id="qa.ay.check_profile"></div><dl class="qandaentry"><dt class="question" id="idm140606286341760">
      How can I check the syntax of a created AutoYaST profile?
     </dt><dd class="answer" id="idm140606286340816"><p>
      The most efficient way to check your created AutoYaST profile is by
      using <code class="command">jing</code> or <code class="command">xmllint</code>.
     </p><p>
       See
       <a class="xref" href="CreateProfile.html#CreateProfile.Manual" title="3.3. Creating/Editing a Control File Manually">Section 3.3, “Creating/Editing a Control File Manually”</a> for details.
     </p></dd></dl><div class="free-id" id="qa.ay.small_profile"></div><dl class="qandaentry"><dt class="question" id="idm140606286337072">
      What is smallest AutoYaST profile that makes sense?
     </dt><dd class="answer" id="idm140606286336128"><p>
      If a section has not been defined in the AutoYaST profile
      the settings of the general YaST installation proposal will be used.
      However, you need to specify at least the <code class="systemitem">root</code> password to be able
      to log in to the machine after the installation.
     </p><div class="verbatim-wrap"><pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile xmlns="http://www.suse.com/1.0/yast2ns" xmlns:config="http://www.suse.com/1.0/configns"&gt;
  &lt;users config:type="list"&gt;
    &lt;user&gt;
      &lt;encrypted config:type="boolean"&gt;false&lt;/encrypted&gt;
      &lt;user_password&gt;linux&lt;/user_password&gt;
      &lt;username&gt;root&lt;/username&gt;
    &lt;/user&gt;
  &lt;/users&gt;
&lt;/profile&gt;</pre></div></dd></dl><div class="free-id" id="qa.ay.auto_sound"></div><dl class="qandaentry"><dt class="question" id="idm140606286332656">
      How do I do an automatic installation with autodetection of my sound card?
     </dt><dd class="answer" id="idm140606286331696"><p>
      Use the following <code class="literal">sound</code> section in your profile:
     </p><div class="verbatim-wrap"><pre class="screen">&lt;sound&gt;
  &lt;autoinstall config:type="boolean"&gt;true&lt;/autoinstall&gt;
  &lt;configure_detected config:type="boolean"&gt;true&lt;/configure_detected&gt;
&lt;/sound&gt;</pre></div></dd></dl><div class="free-id" id="qa.ay.cd"></div><dl class="qandaentry"><dt class="question" id="idm140606286328864">
      I want to install from DVD only. Where do I put the AutoYaST profile?
     </dt><dd class="answer" id="idm140606286327904"><p>
      Put the profile in the root of the DVD. Refer to it with
      <code class="literal">file:///<em class="replaceable ">PROFILE</em>.xml</code>.
     </p></dd></dl><div class="free-id" id="qa.ay.test_merge"></div><dl class="qandaentry"><dt class="question" id="idm140606286325184">
      How can I test a merging process on the command line?
     </dt><dd class="answer" id="idm140606286324240"><p>
      To merge two profiles, <code class="filename">a.xml</code> with
      <code class="filename">base.xml</code>, run the following command:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>/usr/bin/xsltproc --novalid --param replace "'false'" \
--param dontmerge1 "'package'" --param with "'a.xml'" --output out.xml \
/usr/share/autoinstall/xslt/merge.xslt base.xml</pre></div><p>
      This requires sections in both profiles to be in alphabetical
      order (&lt;software&gt;, for example, needs to be listed after
      &lt;add-on&gt;). If you have created the profile with YaST, profiles
      are automatically sorted correctly.
     </p><p>
      The <code class="literal">dontmerge1</code> parameter is optional and an
      example of what to do when you use the <code class="literal">dont_merge</code>
      element in your profile. See <a class="xref" href="rulesandclass.html#merging" title="5.4. Merging of Rules and Classes">Section 5.4, “Merging of Rules and Classes”</a> for more
      information.
     </p></dd></dl><div class="free-id" id="qa.ay.zypper"></div><dl class="qandaentry"><dt class="question" id="idm140606286317952">
      May I call Zypper from scripts?
     </dt><dd class="answer" id="idm140606286317024"><p>
      Zypper can only be called from AutoYaST init scripts, because during the
      post-script phase, YaST still has an exclusive lock on the RPM
      database.
     </p><p>
      If you really need to use other script types (for example a post-script)
      you will need to break the lock at your own risk:
     </p><div class="verbatim-wrap"><pre class="screen">&lt;post-scripts config:type="list"&gt;
  &lt;script&gt;
    &lt;filename&gt;yast_clone.sh&lt;/filename&gt;
    &lt;interpreter&gt;shell&lt;/interpreter&gt;
    &lt;location/&gt;
    &lt;feedback config:type="boolean"&gt;false&lt;/feedback&gt;
    &lt;source&gt;&lt;![CDATA[#!/bin/sh
mv /var/run/zypp.pid /var/run/zypp.sav
zypper in foo
mv /var/run/zypp.sav /var/run/zypp.pid
]]&gt;&lt;/source&gt;
  &lt;/script&gt;
&lt;/post-scripts&gt;</pre></div></dd></dl><div class="free-id" id="idm140606286314448"></div><dl class="qandaentry"><dt class="question" id="idm140606286314160">
      Is the order of sections in an AutoYaST profile important?
     </dt><dd class="answer" id="idm140606286313216"><p>
      Actually the order is not important. The order of sections in the profile
      has no influence on the AutoYaST workflow. However, if you want to
      <span class="emphasis"><em>merge</em></span> different profiles, sections need to be in
      alphabetical order.
     </p></dd></dl><div class="free-id" id="qa.ay.insecure"></div><dl class="qandaentry"><dt class="question" id="idm140606286310784">
      linuxrc blocks the installation with <code class="literal">File not
      signed</code>. I need to manually interact.
     </dt><dd class="answer" id="idm140606286309392"><p>
      Linuxrc found some unsigned file (like a driver update). To
      use an unsigned file, you can suppress that message by passing
      <code class="literal">insecure=1</code> to the linuxrc parameter list (together
      with the <code class="literal">autoyast=...</code> parameter).
     </p></dd></dl><div class="free-id" id="qa.ay.net"></div><dl class="qandaentry"><dt class="question" id="idm140606286306608">
      I want to install from DVD/USB/HD but fetch the XML file from the
      network.
     </dt><dd class="answer" id="idm140606286305632"><p>
      You need to pass <code class="literal">ifcfg</code> to linuxrc. This is required
      to set up the network, otherwise AutoYaST cannot download the
      profile from remote. See <a class="xref" href="appendix.linuxrc.html#ay.adv_network" title="C.3. Advanced Network Setup">Section C.3, “Advanced Network Setup”</a> for more
      information.
     </p></dd></dl><div class="free-id" id="qa.ay.nfsroot"></div><dl class="qandaentry"><dt class="question" id="idm140606286302768">
      Is the installation on an NFS root (<code class="filename">/</code>) possible?
     </dt><dd class="answer" id="idm140606286301392"><p>
      Yes, but it is a little bit <span class="quote">“<span class="quote">tricky</span>”</span>. You will need to set
      up the environment (DHCP, TFTP, etc.) very carefully. The AutoYaST profile
      needs to look like the following:
     </p><div class="verbatim-wrap"><pre class="screen">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile xmlns="http://www.suse.com/1.0/yast2ns" xmlns:config="http://www.suse.com/1.0/configns"&gt;
  &lt;partitioning config:type="list"&gt;
    &lt;drive&gt;
      &lt;device&gt;/dev/nfs&lt;/device&gt;
      &lt;initialize config:type="boolean"&gt;false&lt;/initialize&gt;
      &lt;type config:type="symbol"&gt;CT_NFS&lt;/type&gt;
      &lt;partitions config:type="list"&gt;
        &lt;partition&gt;
          &lt;filesystem config:type="symbol"&gt;nfs&lt;/filesystem&gt;
          &lt;fstopt&gt;nolock&lt;/fstopt&gt;
          &lt;device&gt;10.10.1.53:/tmp/m4&lt;/device&gt;
          &lt;mount&gt;/&lt;/mount&gt;
        &lt;/partition&gt;
      &lt;/partitions&gt;
      &lt;use&gt;all&lt;/use&gt;
    &lt;/drive&gt;
  &lt;/partitioning&gt;
&lt;/profile&gt;</pre></div></dd></dl><div class="free-id" id="idm140606286298656"></div><dl class="qandaentry"><dt class="question" id="idm140606286298368">
      Where can I ask questions which have not been answered here?
     </dt><dd class="answer" id="idm140606286297408"><p>
      There is an AutoYaST mailing list where you can post your questions.
      Join us at <a class="link" href="http://lists.opensuse.org/opensuse-autoinstall/" target="_blank">http://lists.opensuse.org/opensuse-autoinstall/</a>.
     </p></dd></dl></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="appendix.linuxrc.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Appendix C </span>Advanced Linuxrc Options</span></a><a class="nav-link" href="handlingrules.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Appendix A </span>Handling Rules</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>