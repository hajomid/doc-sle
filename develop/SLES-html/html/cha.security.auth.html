<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Setting Up Authentication Servers and Clients Using YaST | Security Guide | SUSE Linux Enterprise Server 15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="product-name" content="SUSE Linux Enterprise Server" /><meta name="product-number" content="15" /><meta name="book-title" content="Security Guide" /><meta name="chapter-title" content="Chapter 4. Setting Up Authentication Servers and Clients Using YaST" /><meta name="description" content="The Authentication Server is based on LDAP and optionally Kerberos. On SUSE Linux Enterprise Server you can configure it with a YaST wizard. For more information about LDAP, see , and about Kerberos, see ." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 15" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Server Documentation" /><link rel="up" href="part.auth.html" title="Part I. Authentication" /><link rel="prev" href="cha.nis.html" title="Chapter 3. Using NIS" /><link rel="next" href="cha.security.ldap.html" title="Chapter 5. LDAP—A Directory Service" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.security.html">Security Guide</a><span> › </span><a class="crumb" href="part.auth.html">Authentication</a><span> › </span><a class="crumb" href="cha.security.auth.html">Setting Up Authentication Servers and Clients Using YaST</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Security Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface.security.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="cha.security.html"><span class="number">1 </span><span class="name">Security and Confidentiality</span></a></li><li class="inactive"><a href="part.auth.html"><span class="number">I </span><span class="name">Authentication</span></a><ol><li class="inactive"><a href="cha.pam.html"><span class="number">2 </span><span class="name">Authentication with PAM</span></a></li><li class="inactive"><a href="cha.nis.html"><span class="number">3 </span><span class="name">Using NIS</span></a></li><li class="inactive"><a href="cha.security.auth.html"><span class="number">4 </span><span class="name">Setting Up Authentication Servers and Clients Using YaST</span></a></li><li class="inactive"><a href="cha.security.ldap.html"><span class="number">5 </span><span class="name">LDAP—A Directory Service</span></a></li><li class="inactive"><a href="cha.security.kerberos.html"><span class="number">6 </span><span class="name">Network Authentication with Kerberos</span></a></li><li class="inactive"><a href="cha.security.ad.html"><span class="number">7 </span><span class="name">Active Directory Support</span></a></li></ol></li><li class="inactive"><a href="part.local_security.html"><span class="number">II </span><span class="name">Local Security</span></a><ol><li class="inactive"><a href="cha.security.yast_security.html"><span class="number">8 </span><span class="name">Configuring Security Settings with YaST</span></a></li><li class="inactive"><a href="cha.security.policykit.html"><span class="number">9 </span><span class="name">Authorization with PolKit</span></a></li><li class="inactive"><a href="cha.security.acls.html"><span class="number">10 </span><span class="name">Access Control Lists in Linux</span></a></li><li class="inactive"><a href="cha.security.cryptofs.html"><span class="number">11 </span><span class="name">Encrypting Partitions and Files</span></a></li><li class="inactive"><a href="cha.certstore.html"><span class="number">12 </span><span class="name">Certificate Store</span></a></li><li class="inactive"><a href="cha.aide.html"><span class="number">13 </span><span class="name">Intrusion Detection with AIDE</span></a></li></ol></li><li class="inactive"><a href="part.network_security.html"><span class="number">III </span><span class="name">Network Security</span></a><ol><li class="inactive"><a href="cha.ssh.html"><span class="number">14 </span><span class="name">SSH: Secure Network Operations</span></a></li><li class="inactive"><a href="cha.security.firewall.html"><span class="number">15 </span><span class="name">Masquerading and Firewalls</span></a></li><li class="inactive"><a href="cha.security.vpnserver.html"><span class="number">16 </span><span class="name">Configuring a VPN Server</span></a></li><li class="inactive"><a href="cha.security.yast_ca.html"><span class="number">17 </span><span class="name">Managing X.509 Certification</span></a></li></ol></li><li class="inactive"><a href="part.apparmor.html"><span class="number">IV </span><span class="name">Confining Privileges with <span class="phrase">AppArmor</span></span></a><ol><li class="inactive"><a href="cha.apparmor.intro.html"><span class="number">18 </span><span class="name">Introducing <span class="phrase">AppArmor</span></span></a></li><li class="inactive"><a href="cha.apparmor.start.html"><span class="number">19 </span><span class="name">Getting Started</span></a></li><li class="inactive"><a href="cha.apparmor.concept.html"><span class="number">20 </span><span class="name">Immunizing Programs</span></a></li><li class="inactive"><a href="cha.apparmor.profiles.html"><span class="number">21 </span><span class="name">Profile Components and Syntax</span></a></li><li class="inactive"><a href="cha.apparmor.repos.html"><span class="number">22 </span><span class="name"><span class="phrase">AppArmor</span> Profile Repositories</span></a></li><li class="inactive"><a href="cha.apparmor.yast.html"><span class="number">23 </span><span class="name">Building and Managing Profiles with YaST</span></a></li><li class="inactive"><a href="cha.apparmor.commandline.html"><span class="number">24 </span><span class="name">Building Profiles from the Command Line</span></a></li><li class="inactive"><a href="cha.apparmor.hat.html"><span class="number">25 </span><span class="name">Profiling Your Web Applications Using ChangeHat</span></a></li><li class="inactive"><a href="cha.apparmor.pam.html"><span class="number">26 </span><span class="name">Confining Users with <code class="systemitem">pam_apparmor</code></span></a></li><li class="inactive"><a href="cha.apparmor.managing.html"><span class="number">27 </span><span class="name">Managing Profiled Applications</span></a></li><li class="inactive"><a href="cha.apparmor.support.html"><span class="number">28 </span><span class="name">Support</span></a></li><li class="inactive"><a href="cha.apparmor.glossary.html"><span class="number">29 </span><span class="name"><span class="phrase">AppArmor</span> Glossary</span></a></li></ol></li><li class="inactive"><a href="bk05pt05.html"><span class="number">V </span><span class="name">SELinux</span></a><ol><li class="inactive"><a href="cha.selinux.html"><span class="number">30 </span><span class="name">Configuring SELinux</span></a></li></ol></li><li class="inactive"><a href="part.audit.html"><span class="number">VI </span><span class="name"><em class="citetitle ">The Linux Audit Framework</em></span></a><ol><li class="inactive"><a href="cha.audit.comp.html"><span class="number">31 </span><span class="name">Understanding Linux Audit</span></a></li><li class="inactive"><a href="cha.audit.setup.html"><span class="number">32 </span><span class="name">Setting Up the Linux Audit Framework</span></a></li><li class="inactive"><a href="cha.audit.scenarios.html"><span class="number">33 </span><span class="name">Introducing an Audit Rule Set</span></a></li><li class="inactive"><a href="cha.audit.moreinfo.html"><span class="number">34 </span><span class="name">Useful Resources</span></a></li></ol></li><li class="inactive"><a href="app.pcidss.html"><span class="number">A </span><span class="name">Achieving PCI-DSS Compliance</span></a></li><li class="inactive"><a href="bk05apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 3. Using NIS" href="cha.nis.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 5. LDAP—A Directory Service" href="cha.security.ldap.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.security.html">Security Guide</a><span> › </span><a class="crumb" href="part.auth.html">Authentication</a><span> › </span><a class="crumb" href="cha.security.auth.html">Setting Up Authentication Servers and Clients Using YaST</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 3. Using NIS" href="cha.nis.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 5. LDAP—A Directory Service" href="cha.security.ldap.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.security.auth"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15</span></span></span></div><div><h2 class="title"><span class="number">4 </span><span class="name">Setting Up Authentication Servers and Clients Using YaST</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>security_auth.xml</li><li><span class="ds-label">ID: </span>cha.security.auth</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha.security.auth.html#idm140159805432096">#</a></h6></div><p>
    The Authentication Server is based on LDAP and optionally Kerberos. On
    <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> you can configure it with a YaST wizard.
   </p><p>
    For more information about LDAP, see
    <a class="xref" href="cha.security.ldap.html" title="Chapter 5. LDAP—A Directory Service">Chapter 5, <em>LDAP—A Directory Service</em></a>, and about Kerberos, see
    <a class="xref" href="cha.security.kerberos.html" title="Chapter 6. Network Authentication with Kerberos">Chapter 6, <em>Network Authentication with Kerberos</em></a>.
   </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.security.auth.html#sec.security.auth.yast"><span class="number">4.1 </span><span class="name">Configuring an Authentication Server with YaST</span></a></span></dt><dt><span class="sect1"><a href="cha.security.auth.html#sec.security.auth.yast.client"><span class="number">4.2 </span><span class="name">Configuring an Authentication Client with YaST</span></a></span></dt><dt><span class="sect1"><a href="cha.security.auth.html#sec.security.auth.sssd"><span class="number">4.3 </span><span class="name">SSSD</span></a></span></dt></dl></div></div><div class="sect1 " id="sec.security.auth.yast"><div class="titlepage"><div><div><h2 class="title" id="sec.security.auth.yast"><span class="number">4.1 </span><span class="name">Configuring an Authentication Server with YaST</span> <a title="Permalink" class="permalink" href="cha.security.auth.html#sec.security.auth.yast">#</a></h2></div></div></div><div class="sect2 " id="sec.security.auth.yast.init"><div class="titlepage"><div><div><h3 class="title" id="sec.security.auth.yast.init"><span class="number">4.1.1 </span><span class="name">Initial Configuration of an Authentication Server</span> <a title="Permalink" class="permalink" href="cha.security.auth.html#sec.security.auth.yast.init">#</a></h3></div></div></div><p>
    To set up an authentication server for user account data, make sure the
    <code class="systemitem">yast2-auth-server</code>,
    <code class="systemitem">openldap2</code>,
    <code class="systemitem">krb5-server</code>, and
    <code class="systemitem">krb5-client</code> packages are installed; YaST will
    remind you and install them if one of these packages is missing. For
    Kerberos support, the <code class="systemitem">krb5-plugin-kdb-ldap</code>
    package is required.
   </p><p>
    The first part of the Authentication Server configuration with YaST is
    setting up an LDAP server, then you can enable Kerberos.
   </p><div class="procedure " id="idm140159805420720"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 4.1: </span><span class="name">Authentication Server Configuration with YaST </span><a title="Permalink" class="permalink" href="cha.security.auth.html#idm140159805420720">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Start YaST as <code class="systemitem">root</code> and select <span class="guimenu">Network
      Services</span> › <span class="guimenu">Authentication Server</span> to invoke the configuration wizard.
     </p></li><li class="step "><p>
      Configure the <span class="guimenu">Global Settings</span> of your LDAP server
      (you can change these settings later)—see
      <a class="xref" href="cha.security.auth.html#fig.auth.y2.wizard.general.settings" title="YaST Authentication Server Configuration">Figure 4.1, “YaST Authentication Server Configuration”</a>:
     </p><div class="figure" id="fig.auth.y2.wizard.general.settings"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_auth_wizard_general_settings.png"><img src="images/yast2_auth_wizard_general_settings.png" width="" alt="YaST Authentication Server Configuration" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 4.1: </span><span class="name">YaST Authentication Server Configuration </span><a title="Permalink" class="permalink" href="cha.security.auth.html#fig.auth.y2.wizard.general.settings">#</a></h6></div></div><ol type="a" class="substeps "><li class="step "><p>
        Set LDAP to be started.
       </p></li><li class="step "><p>
        If the LDAP server should announce its services via SLP, check
        <span class="guimenu">Register at an SLP Daemon</span>.
       </p></li><li class="step "><p>
        Configure <span class="guimenu">Firewall Settings</span>.
       </p></li><li class="step "><p>
        Click <span class="guimenu">Next</span>.
       </p></li></ol></li><li class="step "><p>
      Select the server type: <span class="guimenu">Stand-alone server</span>,
      <span class="guimenu">Master server in a replication setup</span>, or
      <span class="guimenu">Replica (slave) server</span>.
     </p></li><li class="step "><p>
      Select security options (<span class="guimenu">TLS Settings</span>).
     </p><p>
      It is strongly recommended to <span class="guimenu">Enable TLS</span>. For more
      information, see <a class="xref" href="cha.security.auth.html#proc.auth.server.config" title="Editing Authentication Server Configuration">Procedure 4.2, “Editing Authentication Server Configuration”</a>,
      <a class="xref" href="cha.security.auth.html#step.auth.server.config.tls" title="Step 4">Step 4</a>.
     </p><div id="idm140159805398160" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Authentication Without Encryption</h6><p>
        When using authentication without enabling transport encryption
        using TLS, the password will be transmitted in the clear.
       </p></div><p>
      Also consider using LDAP over SSL with certificates.
     </p></li><li class="step "><p>
      Confirm <span class="guimenu">Basic Database Settings</span> with entering an
      <span class="guimenu">LDAP Administrator Password</span> and then clicking
      <span class="guimenu">Next</span>—see
      <a class="xref" href="cha.security.auth.html#fig.auth.y2.wizard.db.settings" title="YaST LDAP Server—New Database">Figure 4.2, “YaST LDAP Server—New Database”</a>.
     </p><div class="figure" id="fig.auth.y2.wizard.db.settings"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_auth_wizard_db_settings.png"><img src="images/yast2_auth_wizard_db_settings.png" width="" alt="YaST LDAP Server—New Database" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 4.2: </span><span class="name">YaST LDAP Server—New Database </span><a title="Permalink" class="permalink" href="cha.security.auth.html#fig.auth.y2.wizard.db.settings">#</a></h6></div></div></li><li class="step "><p>
      In the <span class="guimenu">Kerberos Authentication</span> dialog, decide
      whether to enable Kerberos authentication or not (you can change these
      settings later)—see
      <a class="xref" href="cha.security.auth.html#fig.auth.y2.wizard.kerberos.yes" title="YaST Kerberos Authentication">Figure 4.3, “YaST Kerberos Authentication”</a>.
     </p><div class="figure" id="fig.auth.y2.wizard.kerberos.yes"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_auth_wizard_kerberos_yes.png"><img src="images/yast2_auth_wizard_kerberos_yes.png" width="" alt="YaST Kerberos Authentication" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 4.3: </span><span class="name">YaST Kerberos Authentication </span><a title="Permalink" class="permalink" href="cha.security.auth.html#fig.auth.y2.wizard.kerberos.yes">#</a></h6></div></div></li><li class="step "><p>
      Choose whether Kerberos support is needed or not. If you enable it,
      also specify your <span class="guimenu">Realm</span>. Then confirm with
      <span class="guimenu">Next</span>.
     </p><ol type="a" class="substeps "><li class="step "><p>
        The <span class="guimenu">Advanced Configuration</span> allows you to specify
        various aspects such as <span class="guimenu">Maximum ticket life time</span>
        or ports to use.
       </p></li></ol></li><li class="step "><p>
      Finally, check the <span class="guimenu">Authentication Server Configuration
      Summary</span> and click <span class="guimenu">Finish</span> to exit the
      configuration wizard.
     </p></li></ol></div></div></div><div class="sect2 " id="sec.security.auth.yast.edit"><div class="titlepage"><div><div><h3 class="title" id="sec.security.auth.yast.edit"><span class="number">4.1.2 </span><span class="name">Editing an Authentication Server Configuration with YaST</span> <a title="Permalink" class="permalink" href="cha.security.auth.html#sec.security.auth.yast.edit">#</a></h3></div></div></div><p>
    For changes or additional configuration start the Authentication Server
    module again and in the left pane expand <span class="guimenu">Global
    Settings</span> to make subentries visible—see
    <a class="xref" href="cha.security.auth.html#fig.auth.y2.server.cfg" title="YaST Editing Authentication Server Configuration">Figure 4.4, “YaST Editing Authentication Server Configuration”</a>:
   </p><div class="figure" id="fig.auth.y2.server.cfg"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_auth_server_cfg.png"><img src="images/yast2_auth_server_cfg.png" width="" alt="YaST Editing Authentication Server Configuration" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 4.4: </span><span class="name">YaST Editing Authentication Server Configuration </span><a title="Permalink" class="permalink" href="cha.security.auth.html#fig.auth.y2.server.cfg">#</a></h6></div></div><div class="procedure " id="proc.auth.server.config"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 4.2: </span><span class="name">Editing Authentication Server Configuration </span><a title="Permalink" class="permalink" href="cha.security.auth.html#proc.auth.server.config">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      With <span class="guimenu">Log Level Settings</span>, configure the degree of
      logging activity (verbosity) of the LDAP server. From the predefined
      list, select or deselect logging options according to your needs. The
      more options are enabled, the larger your log files grow.
     </p></li><li class="step "><p>
      Configure which connection types the server should offer under
      <span class="guimenu">Allow/Disallow Features</span>. Choose from:
     </p><div class="variablelist "><dl class="variablelist"><dt id="idm140159805360896"><span class="term ">LDAPv2 Bind Requests</span></dt><dd><p>
         This option enables connection requests (bind requests) from
         clients using the previous version of the protocol (LDAPv2).
        </p></dd><dt id="idm140159805358976"><span class="term ">Anonymous Bind When Credentials Not Empty</span></dt><dd><p>
         Normally, the LDAP server denies any authentication attempts with
         empty credentials, that is, a distinguished name (DN) or a password.
         However, enabling this option
         makes it possible to connect with a password and no DN to establish
         an anonymous connection.
        </p></dd><dt id="idm140159805356848"><span class="term ">Unauthenticated Bind When DN Not Empty</span></dt><dd><p>
         Enabling this option makes it possible to connect without
         authentication (anonymously) using a distinguished name (DN) but no
         password.
        </p></dd><dt id="idm140159805354880"><span class="term ">Unauthenticated Update Options to Process</span></dt><dd><p>
         Enabling this option allows non-authenticated (anonymous) update
         operations. Access is restricted according to ACLs and other rules.
        </p></dd></dl></div></li><li class="step "><p>
      <span class="guimenu">Allow/Disallow Features</span> also lets you configure the
      server flags. Choose from:
     </p><div class="variablelist "><dl class="variablelist"><dt id="idm140159805351072"><span class="term ">Disable Acceptance of Anonymous Bind Requests</span></dt><dd><p>
         The server will no longer accept anonymous bind requests. Note,
         that this does not generally prohibit anonymous directory access.
        </p></dd><dt id="idm140159805349104"><span class="term ">Disable Simple Bind Authentication</span></dt><dd><p>
         Completely disable Simple Bind authentication.
        </p></dd><dt id="idm140159805347248"><span class="term ">Disable Forcing Session to Anonymous Status upon StartTLS Operation Receipt</span></dt><dd><p>
         The server will no longer force an authenticated connection back to
         the anonymous state when receiving the StartTLS operation.
        </p></dd><dt id="idm140159805345248"><span class="term ">Disallow the StartTLS Operation if Authenticated</span></dt><dd><p>
         The server will disallow the StartTLS operation on already
         authenticated connections.
        </p></dd></dl></div></li><li class="step " id="step.auth.server.config.tls"><p>
      To configure secure communication between client and server, proceed
      with <span class="guimenu">TLS Settings</span>:
     </p><ol type="a" class="substeps "><li class="step "><p>
        Activate <span class="guimenu">Enable TLS</span> to enable TLS and SSL
        encryption of the client/server communication.
       </p></li><li class="step "><p>
        Either <span class="guimenu">Import Certificate</span> by specifying the exact
        path to its location or enable the <span class="guimenu">Use Common Server
        Certificate</span>. If the <span class="guimenu">Use Common Server
        Certificate</span> is not available, because it has not been
        created during installation, go for <span class="guimenu">Launch CA Management
        Module</span> first—for more information, see
        <a class="xref" href="cha.security.yast_ca.html#sec.security.yast_ca.module" title="17.2. YaST Modules for CA Management">Section 17.2, “YaST Modules for CA Management”</a>.
       </p></li></ol></li></ol></div></div><p>


    Add Schema files to be included in the server's configuration by
    selecting <span class="guimenu">Schema Files</span> in the left part of the
    dialog. The default selection of schema files applies to the server
    providing a source of YaST user account data.
   </p><p>
    YaST allows to add traditional Schema files (usually with a name
    ending in <code class="literal">.schema</code>) or LDIF files containing Schema
    definitions in OpenLDAP's LDIF Schema format.
   </p><div class="figure" id="fig.auth.y2.server.db.cfg"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/yast2_auth_server_db_cfg.png"><img src="images/yast2_auth_server_db_cfg.png" width="" alt="YaST Authentication Server Database Configuration" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 4.5: </span><span class="name">YaST Authentication Server Database Configuration </span><a title="Permalink" class="permalink" href="cha.security.auth.html#fig.auth.y2.server.db.cfg">#</a></h6></div></div><p>
    To configure the databases managed by your LDAP server, proceed as
    follows:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Select the <span class="guimenu">Databases</span> item in the left part of the
      dialog.
     </p></li><li class="step "><p>
      Click <span class="guimenu">Add Database</span> to add a new database.
     </p></li><li class="step "><p>
      Specify the requested data:
     </p><div class="variablelist "><dl class="variablelist"><dt id="idm140159805323216"><span class="term "><span class="guimenu">Base DN</span>
       </span></dt><dd><p>
         Enter the base DN (distinguished name) of your LDAP server.
        </p></dd><dt id="idm140159805321072"><span class="term "><span class="guimenu">Administrator DN</span>
       </span></dt><dd><p>
         Enter the DN of the administrator in charge of the server. If you
         check <span class="guimenu">Append Base DN</span>, only provide the
         <code class="literal">cn</code> of the administrator and the system fills in
         the rest automatically.
        </p></dd><dt id="idm140159805317936"><span class="term ">LDAP Administrator Password</span></dt><dd><p>
         Enter the password for the database administrator.
        </p></dd><dt id="idm140159805316080"><span class="term ">Use This Database as the Default for OpenLDAP Clients</span></dt><dd><p>
         For convenience, check this option if wanted.
        </p></dd></dl></div></li><li class="step "><p>
      In the next dialog, configure replication settings.
     </p></li><li class="step "><p>
      In the next dialog, enable enforcement of password policies to provide
      extra security to your LDAP server:
     </p><ol type="a" class="substeps "><li class="step "><p>
        Check <span class="guimenu">Enable Password Policies</span> to be able to
        specify a password policy.
       </p></li><li class="step "><p>
        Activate <span class="guimenu">Hash Clear Text Passwords</span> to have clear
        text passwords be hashed before they are written to the database
        whenever they are added or modified.
       </p></li><li class="step "><p>
        <span class="guimenu">Disclose "Account Locked" Status</span> provides a
        relevant error message for bind requests to locked accounts.
       </p><div id="idm140159805307360" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Locked Accounts in Security Sensitive Environments</h6><p>
         Do not use the <span class="guimenu">Disclose "Account Locked" Status</span>
         option if your environment is sensitive to security issues, because
         the <span class="quote">“<span class="quote">Locked Account</span>”</span> error message provides
         security-sensitive information that can be exploited by a potential
         attacker.
        </p></div></li><li class="step "><p>
        Enter the DN of the default policy object. To use a DN other than
        the one suggested by YaST, enter your choice. Otherwise, accept
        the default settings.
       </p></li></ol></li><li class="step "><p>
      Complete the database configuration by clicking
      <span class="guimenu">Finish</span>.
     </p></li></ol></div></div><p>
    If you have not opted for password policies, your server is ready to run
    at this point. If you have chosen to enable password policies, proceed
    with the configuration of the password policy in detail. If you have
    chosen a password policy object that does not yet exist, YaST creates
    one:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Enter the LDAP server password. In the navigation tree below
      <span class="guimenu">Databases</span> expand your database object and activate
      the <span class="guimenu">Password Policy Configuration</span> item.
     </p></li><li class="step "><p>
      Make sure <span class="guimenu">Enable Password Policies</span> is activated.
      Then click <span class="guimenu">Edit Policy</span>.
     </p></li><li class="step "><p>
      Configure the password change policies:
     </p><ol type="a" class="substeps "><li class="step "><p>
        Determine the number of passwords stored in the password history.
        Saved passwords may not be reused by the user.
       </p></li><li class="step "><p>
        Determine if users can change their passwords and if
        they will need to change their passwords after a reset by the
        administrator. Require the old password for password changes
        (optional).
       </p></li><li class="step "><p>
        Determine whether and to what extent passwords should be subject to
        quality checking. Set the minimum password length that must be met
        before a password is valid. If you select <span class="guimenu">Accept
        Uncheckable Passwords</span>, users are allowed to use encrypted
        passwords, even though the quality checks cannot be performed. If
        you opt for <span class="guimenu">Only Accept Checked Passwords</span> only
        those passwords that pass the quality tests are accepted as valid.
       </p></li></ol></li><li class="step "><p>
      Configure the password time-limit policies:
     </p><ol type="a" class="substeps "><li class="step "><p>
        Determine the minimum password time-limit (the time that needs to
        pass between two valid password changes) and the maximum password
        time limit.
       </p></li><li class="step "><p>
        Determine the time between a password expiration warning and the
        actual password expiration.
       </p></li><li class="step "><p>
        Set the number of postponement uses of an expired password before
        the password expires permanently.
       </p></li></ol></li><li class="step "><p>
      Configure the lockout policies:
     </p><ol type="a" class="substeps "><li class="step "><p>
        Enable password locking.
       </p></li><li class="step "><p>
        Determine the number of bind failures that trigger a password lock.
       </p></li><li class="step "><p>
        Determine the duration of the password lock.
       </p></li><li class="step "><p>
        Determine the length of time that password failures are kept in the
        cache before they are purged.
       </p></li></ol></li><li class="step "><p>
      Apply your password policy settings with <span class="guimenu">OK</span>.
     </p></li></ol></div></div><p>
    To edit a previously created database, select its base DN in the tree to
    the left. In the right part of the window, YaST displays a dialog
    similar to the one used for the creation of a new database (with the
    main difference that the base DN entry is grayed out and cannot be
    changed).
   </p><p>
    After leaving the Authentication Server configuration by selecting
    <span class="guimenu">Finish</span>, you are ready to go with a basic working
    configuration for your Authentication Server. To fine-tune this setup,
    use OpenLDAP's dynamic configuration back-end.
   </p><p>

    The OpenLDAP's dynamic configuration back-end stores the configuration
    in an LDAP database. That database consists of a set of
    <code class="literal">.ldif</code> files in
    <code class="filename">/etc/openldap/slapd.d</code>. There is no need to access
    these files directly. To access the settings you can either use the
    YaST Authentication Server module (the
    <code class="systemitem">yast2-auth-server</code> package) or an LDAP client
    such as <code class="command">ldapmodify</code> or <code class="command">ldapsearch</code>.
    For more information on the dynamic configuration of OpenLDAP, see the
    <span class="quote">“<span class="quote">OpenLDAP Administration Guide</span>”</span>.
   </p></div><div class="sect2 " id="sec.security.auth.yast.ldap_users"><div class="titlepage"><div><div><h3 class="title" id="sec.security.auth.yast.ldap_users"><span class="number">4.1.3 </span><span class="name">Editing LDAP Users and Groups</span> <a title="Permalink" class="permalink" href="cha.security.auth.html#sec.security.auth.yast.ldap_users">#</a></h3></div></div></div><p>
    For editing LDAP users and groups with YaST, see
    <a class="xref" href="cha.security.ldap.html#sec.security.ldap.yast.usergr" title="5.4. Configuring LDAP Users and Groups in YaST">Section 5.4, “Configuring LDAP Users and Groups in YaST”</a>.
   </p></div></div><div class="sect1 " id="sec.security.auth.yast.client"><div class="titlepage"><div><div><h2 class="title" id="sec.security.auth.yast.client"><span class="number">4.2 </span><span class="name">Configuring an Authentication Client with YaST</span> <a title="Permalink" class="permalink" href="cha.security.auth.html#sec.security.auth.yast.client">#</a></h2></div></div></div><p>
   YaST allows setting up authentication to clients using different
   modules:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p><span class="formalpara-title"><span class="guimenu">User Logon Management</span>. </span>
    Use both an identity service (usually LDAP) and a user authentication
    service (usually Kerberos). This option is based on SSSD and in the
    majority of cases is best suited for joining Active Directory domains.
   </p><p>
   This module is described in
   <a class="xref" href="cha.security.ad.html#sec.security.ad.sssd" title="7.3.2.  Joining Active Directory Using User Logon Management">Section 7.3.2, “
    Joining Active Directory Using
    <span class="guimenu">User Logon Management</span>
   ”</a>.
  </p></li><li class="listitem "><p><span class="formalpara-title"><span class="guimenu">Windows Domain Membership</span>. </span>
    Join an Active Directory (which entails use of Kerberos and LDAP). This option is
    based on <code class="command">winbind</code> and is best suited for joining an
    Active Directory domain if support for NTLM or cross-forest trusts is necessary.
   </p><p>
   This module is described in
   <a class="xref" href="cha.security.ad.html#sec.security.ad.winbind" title="7.3.3.  Joining Active Directory Using Windows Domain Membership">Section 7.3.3, “
    Joining Active Directory Using
    <span class="guimenu">Windows Domain Membership</span>
   ”</a>.
  </p></li><li class="listitem "><p><span class="formalpara-title"><span class="guimenu">LDAP and Kerberos Authentication</span>. </span>
    Allows setting up LDAP identities and Kerberos authentication
    independently from each other and provides fewer options. While this
    module also uses SSSD, it is not as well suited for connecting to Active Directory
    as the previous two options.
   </p><p>
   This module is described in:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     LDAP: <a class="xref" href="cha.security.ldap.html#sec.security.ldap.yast.client" title="5.3. Configuring an LDAP Client with YaST">Section 5.3, “Configuring an LDAP Client with YaST”</a>
    </p></li><li class="listitem "><p>
     Kerberos: <a class="xref" href="cha.security.kerberos.html#sec.security.kerberos.yast.client" title="6.6. Setting up Kerberos using LDAP and Kerberos Client">Section 6.6, “Setting up Kerberos using <span class="guimenu">LDAP and Kerberos Client</span>”</a>
    </p></li></ul></div></li></ul></div></div><div class="sect1 " id="sec.security.auth.sssd"><div class="titlepage"><div><div><h2 class="title" id="sec.security.auth.sssd"><span class="number">4.3 </span><span class="name">SSSD</span> <a title="Permalink" class="permalink" href="cha.security.auth.html#sec.security.auth.sssd">#</a></h2></div></div></div><p>
   Two of the YaST modules are based on SSSD: <span class="guimenu">User Logon
   Management</span> and <span class="guimenu">LDAP and Kerberos
   Authentication</span>.
  </p><p>
   SSSD stands for System Security Services Daemon. SSSD talks to remote
   directory services that provide user data and provides various
   authentication methods, such as LDAP, Kerberos, or Active Directory (AD). It also
   provides an NSS (Name Service Switch) and PAM (Pluggable Authentication
   Module) interface.
  </p><p>
   SSSD can locally cache user data and then allow users to use the data,
   even if the real directory service is (temporarily) unreachable.
  </p><div class="sect2 " id="sec.security.auth.sssd.status"><div class="titlepage"><div><div><h3 class="title" id="sec.security.auth.sssd.status"><span class="number">4.3.1 </span><span class="name">Checking the Status</span> <a title="Permalink" class="permalink" href="cha.security.auth.html#sec.security.auth.sssd.status">#</a></h3></div></div></div><p>
    After running one of the YaST authentication modules, you can check
    whether SSSD is running with:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">systemctl status sssd</code>
sssd.service - System Security Services Daemon
   Loaded: loaded (/usr/lib/systemd/system/sssd.service; enabled)
   Active: active (running) since Thu 2015-10-23 11:03:43 CEST; 5s ago
   [...]</pre></div></div><div class="sect2 " id="sec.security.auth.sssd.cache"><div class="titlepage"><div><div><h3 class="title" id="sec.security.auth.sssd.cache"><span class="number">4.3.2 </span><span class="name">Caching</span> <a title="Permalink" class="permalink" href="cha.security.auth.html#sec.security.auth.sssd.cache">#</a></h3></div></div></div><p>
    To allow logging in when the authentication back-end is unavailable, SSSD
    will use its cache even if it was invalidated. This happens until the
    back-end is available again.
   </p><p>
    To invalidate the cache, run <code class="command">sss_cache -E</code> (the
    command <code class="command">sss_cache</code> is part of the package
    <span class="package">sssd-tools</span>).
   </p><p>
    To completely remove the SSSD cache, run:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">systemctl stop sssd</code>
<code class="command">rm -f /var/lib/sss/db/*</code>
<code class="command">systemctl start sssd</code></pre></div></div><div class="sect2 " id="sec.security.auth.sssd.more"><div class="titlepage"><div><div><h3 class="title" id="sec.security.auth.sssd.more"><span class="number">4.3.3 </span><span class="name">For More Information</span> <a title="Permalink" class="permalink" href="cha.security.auth.html#sec.security.auth.sssd.more">#</a></h3></div></div></div><p>
    For more information, see the SSSD man
    pages <code class="literal">sssd.conf</code> (<code class="command">man
    sssd.conf</code>) and <code class="literal">sssd</code> (<code class="command">man
    sssd</code>). There are also man pages for most SSSD modules.
   </p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.security.ldap.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 5 </span>LDAP—A Directory Service</span></a><a class="nav-link" href="cha.nis.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 3 </span>Using NIS</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>