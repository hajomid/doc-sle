<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Encrypting Partitions and Files | Security Guide | SUSE Linux Enterprise Desktop 15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 2.4.0 using SUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise Desktop" /><meta name="product-number" content="15" /><meta name="book-title" content="Security Guide" /><meta name="chapter-title" content="Chapter 11. Encrypting Partitions and Files" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="Beta SUSE Linux Enterprise Desktop 15" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Desktop Documentation" /><link rel="up" href="part.local_security.html" title="Part II. Local Security" /><link rel="prev" href="cha.security.acls.html" title="Chapter 10. Access Control Lists in Linux" /><link rel="next" href="cha.certstore.html" title="Chapter 12. Certificate Store" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.security.html">Security Guide</a><span> › </span><a class="crumb" href="part.local_security.html">Local Security</a><span> › </span><a class="crumb" href="cha.security.cryptofs.html">Encrypting Partitions and Files</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Security Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface.security.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="cha.security.html"><span class="number">1 </span><span class="name">Security and Confidentiality</span></a></li><li class="inactive"><a href="part.auth.html"><span class="number">I </span><span class="name">Authentication</span></a><ol><li class="inactive"><a href="cha.pam.html"><span class="number">2 </span><span class="name">Authentication with PAM</span></a></li><li class="inactive"><a href="cha.nis.html"><span class="number">3 </span><span class="name">Using NIS</span></a></li><li class="inactive"><a href="cha.security.auth.html"><span class="number">4 </span><span class="name">Setting Up Authentication Servers and Clients Using YaST</span></a></li><li class="inactive"><a href="cha.security.ldap.html"><span class="number">5 </span><span class="name">LDAP—A Directory Service</span></a></li><li class="inactive"><a href="cha.security.kerberos.html"><span class="number">6 </span><span class="name">Network Authentication with Kerberos</span></a></li><li class="inactive"><a href="cha.security.ad.html"><span class="number">7 </span><span class="name">Active Directory Support</span></a></li></ol></li><li class="inactive"><a href="part.local_security.html"><span class="number">II </span><span class="name">Local Security</span></a><ol><li class="inactive"><a href="cha.security.yast_security.html"><span class="number">8 </span><span class="name">Configuring Security Settings with YaST</span></a></li><li class="inactive"><a href="cha.security.policykit.html"><span class="number">9 </span><span class="name">Authorization with PolKit</span></a></li><li class="inactive"><a href="cha.security.acls.html"><span class="number">10 </span><span class="name">Access Control Lists in Linux</span></a></li><li class="inactive"><a href="cha.security.cryptofs.html"><span class="number">11 </span><span class="name">Encrypting Partitions and Files</span></a></li><li class="inactive"><a href="cha.certstore.html"><span class="number">12 </span><span class="name">Certificate Store</span></a></li><li class="inactive"><a href="cha.aide.html"><span class="number">13 </span><span class="name">Intrusion Detection with AIDE</span></a></li></ol></li><li class="inactive"><a href="part.network_security.html"><span class="number">III </span><span class="name">Network Security</span></a><ol><li class="inactive"><a href="cha.ssh.html"><span class="number">14 </span><span class="name">SSH: Secure Network Operations</span></a></li><li class="inactive"><a href="cha.security.firewall.html"><span class="number">15 </span><span class="name">Masquerading and Firewalls</span></a></li><li class="inactive"><a href="cha.security.vpnserver.html"><span class="number">16 </span><span class="name">Configuring a VPN Server</span></a></li><li class="inactive"><a href="cha.security.yast_ca.html"><span class="number">17 </span><span class="name">Managing X.509 Certification</span></a></li></ol></li><li class="inactive"><a href="part.apparmor.html"><span class="number">IV </span><span class="name">Confining Privileges with <span class="phrase">AppArmor</span></span></a><ol><li class="inactive"><a href="cha.apparmor.intro.html"><span class="number">18 </span><span class="name">Introducing <span class="phrase">AppArmor</span></span></a></li><li class="inactive"><a href="cha.apparmor.start.html"><span class="number">19 </span><span class="name">Getting Started</span></a></li><li class="inactive"><a href="cha.apparmor.concept.html"><span class="number">20 </span><span class="name">Immunizing Programs</span></a></li><li class="inactive"><a href="cha.apparmor.profiles.html"><span class="number">21 </span><span class="name">Profile Components and Syntax</span></a></li><li class="inactive"><a href="cha.apparmor.repos.html"><span class="number">22 </span><span class="name"><span class="phrase">AppArmor</span> Profile Repositories</span></a></li><li class="inactive"><a href="cha.apparmor.yast.html"><span class="number">23 </span><span class="name">Building and Managing Profiles with YaST</span></a></li><li class="inactive"><a href="cha.apparmor.commandline.html"><span class="number">24 </span><span class="name">Building Profiles from the Command Line</span></a></li><li class="inactive"><a href="cha.apparmor.hat.html"><span class="number">25 </span><span class="name">Profiling Your Web Applications Using ChangeHat</span></a></li><li class="inactive"><a href="cha.apparmor.pam.html"><span class="number">26 </span><span class="name">Confining Users with <code class="systemitem">pam_apparmor</code></span></a></li><li class="inactive"><a href="cha.apparmor.managing.html"><span class="number">27 </span><span class="name">Managing Profiled Applications</span></a></li><li class="inactive"><a href="cha.apparmor.support.html"><span class="number">28 </span><span class="name">Support</span></a></li><li class="inactive"><a href="cha.apparmor.glossary.html"><span class="number">29 </span><span class="name"><span class="phrase">AppArmor</span> Glossary</span></a></li></ol></li><li class="inactive"><a href="part.audit.html"><span class="number">V </span><span class="name"><em class="citetitle ">The Linux Audit Framework</em></span></a><ol><li class="inactive"><a href="cha.audit.comp.html"><span class="number">30 </span><span class="name">Understanding Linux Audit</span></a></li><li class="inactive"><a href="cha.audit.setup.html"><span class="number">31 </span><span class="name">Setting Up the Linux Audit Framework</span></a></li><li class="inactive"><a href="cha.audit.scenarios.html"><span class="number">32 </span><span class="name">Introducing an Audit Rule Set</span></a></li><li class="inactive"><a href="cha.audit.moreinfo.html"><span class="number">33 </span><span class="name">Useful Resources</span></a></li></ol></li><li class="inactive"><a href="bk05apa.html"><span class="number">A </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 10. Access Control Lists in Linux" href="cha.security.acls.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 12. Certificate Store" href="cha.certstore.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.security.html">Security Guide</a><span> › </span><a class="crumb" href="part.local_security.html">Local Security</a><span> › </span><a class="crumb" href="cha.security.cryptofs.html">Encrypting Partitions and Files</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 10. Access Control Lists in Linux" href="cha.security.acls.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 12. Certificate Store" href="cha.certstore.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.security.cryptofs"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15</span></span></span></div><div><h2 class="title"><span class="number">11 </span><span class="name">Encrypting Partitions and Files</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>security_cryptofs.xml</li><li><span class="ds-label">ID: </span>cha.security.cryptofs</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.security.cryptofs.html#sec.security.cryptofs.y2"><span class="number">11.1 </span><span class="name">Setting Up an Encrypted File System with YaST</span></a></span></dt><dt><span class="sect1"><a href="cha.security.cryptofs.html#sec.security.cryptofs.gpg"><span class="number">11.2 </span><span class="name">Encrypting Files with GPG</span></a></span></dt></dl></div></div><p>
  Encrypting files, partitions, and entire disks prevents unauthorized access to your data and protects your confidential files and documents.
 </p><p>
  You can choose between the following encryption options:
 </p><div class="variablelist "><dl class="variablelist"><dt id="idm140011477832320"><span class="term ">Encrypting a Hard Disk Partition</span></dt><dd><p>
     It is possible to create an encrypted partition with YaST during
     installation or in an already installed system. For further info, see
     <a class="xref" href="cha.security.cryptofs.html#sec.security.cryptofs.y2.part_inst" title="11.1.1. Creating an Encrypted Partition during Installation">Section 11.1.1, “Creating an Encrypted Partition during Installation”</a> and
     <a class="xref" href="cha.security.cryptofs.html#sec.security.cryptofs.y2.part_run" title="11.1.2. Creating an Encrypted Partition on a Running System">Section 11.1.2, “Creating an Encrypted Partition on a Running System”</a>. This
     option can also be used for removable media, such as external hard
     disks, as described in
     <a class="xref" href="cha.security.cryptofs.html#sec.security.cryptofs.y2.removables" title="11.1.4. Encrypting the Content of Removable Media">Section 11.1.4, “Encrypting the Content of Removable Media”</a>.
    </p></dd><dt id="idm140011477828560"><span class="term ">Creating an Encrypted Virtual Disk</span></dt><dd><p>
     You can create a file-based encrypted virtual disk on your hard disk or a removable
     medium with YaST. The encrypted virtual disk can then be used
     as a regular folder for storing files or directories. For more
     information, refer to
     <a class="xref" href="cha.security.cryptofs.html#sec.security.cryptofs.y2.vdisk" title="11.1.3. Creating an Encrypted Virtual Disk">Section 11.1.3, “Creating an Encrypted Virtual Disk”</a>.
    </p></dd><dt id="idm140011477825936"><span class="term ">Encrypting Single Files with GPG</span></dt><dd><p>
     To quickly encrypt one or several files, you can use the GPG tool. See
     <a class="xref" href="cha.security.cryptofs.html#sec.security.cryptofs.gpg" title="11.2. Encrypting Files with GPG">Section 11.2, “Encrypting Files with GPG”</a> for more information.
    </p></dd></dl></div><div id="idm140011477823312" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Encryption Offers Limited Protection</h6><p>
   Encryption methods described in this chapter cannot protect your running
   system from being compromised. After the encrypted volume is successfully
   mounted, everybody with appropriate permissions can access it. However,
   encrypted media are useful in case of loss or theft of your computer, or to
   prevent unauthorized individuals from reading your confidential data.
  </p></div><div class="sect1 " id="sec.security.cryptofs.y2"><div class="titlepage"><div><div><h2 class="title" id="sec.security.cryptofs.y2"><span class="number">11.1 </span><span class="name">Setting Up an Encrypted File System with YaST</span> <a title="Permalink" class="permalink" href="cha.security.cryptofs.html#sec.security.cryptofs.y2">#</a></h2></div></div></div><p>
   Use YaST to encrypt partitions or parts of your file system during
   installation or in an already installed system. However, encrypting a
   partition in an already-installed system is more difficult, because you
   need to resize and change existing partitions. In such cases, it may be
   more convenient to create an encrypted file of a defined size, in which
   to <span class="emphasis"><em>store</em></span> other files or parts of your file system.
   To encrypt an entire partition, dedicate a partition for encryption in
   the partition layout. The standard partitioning proposal as suggested by
   YaST, does not include an encrypted partition by default. Add it
   manually in the partitioning dialog.
  </p><div class="sect2 " id="sec.security.cryptofs.y2.part_inst"><div class="titlepage"><div><div><h3 class="title" id="sec.security.cryptofs.y2.part_inst"><span class="number">11.1.1 </span><span class="name">Creating an Encrypted Partition during Installation</span> <a title="Permalink" class="permalink" href="cha.security.cryptofs.html#sec.security.cryptofs.y2.part_inst">#</a></h3></div></div></div><div id="idm140011477817600" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Password Input</h6><p>
     Make sure to memorize the password for your encrypted partitions well.
     Without that password, you cannot access or restore the encrypted data.
    </p></div><p>
    The YaST expert dialog for partitioning offers the options needed
    for creating an encrypted partition. To create a new encrypted partition
    proceed as follows:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Run the YaST Expert Partitioner with <span class="guimenu">System</span> › <span class="guimenu">Partitioner</span>.
     </p></li><li class="step "><p>
      Select a hard disk, click <span class="guimenu">Add</span>, and select a primary
      or an extended partition.
     </p></li><li class="step "><p>
      Select the partition size or the region to use on the disk.
     </p></li><li class="step "><p>
      Select the file system, and mount point of this partition.
     </p></li><li class="step "><p>
      Activate the <span class="guimenu">Encrypt device</span> check box.
     </p><div id="idm140011477808816" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Additional Software Required</h6><p>
       After checking <span class="guimenu">Encrypt device</span>, a pop-up window
       asking for installing additional software may appear. Confirm to
       install all the required packages to ensure that the encrypted
       partition works well.
      </p></div></li><li class="step "><p>
      If the encrypted file system needs to be mounted only when necessary,
      enable <span class="guimenu">Do not mount partition</span> in the <span class="guimenu">Fstab
      Options</span>. otherwise enable <span class="guimenu">Mount partition</span>
      and enter the mount point.
     </p></li><li class="step "><p>
      Click <span class="guimenu">Next</span> and enter a password which is used to
      encrypt this partition. This password is not displayed. To prevent
      typing errors, you need to enter the password twice.
     </p></li><li class="step "><p>
      Complete the process by clicking <span class="guimenu">Finish</span>. The
      newly-encrypted partition is now created.
     </p></li></ol></div></div><p>
    During the boot process, the operating system asks for the password
    before mounting any encrypted partition which is set to be auto-mounted
    in <code class="filename">/etc/fstab</code>. Such a partition is then available
    to all users when it has been mounted.
   </p><p>
    To skip mounting the encrypted partition during start-up, press
    <span class="keycap">Enter</span> when prompted for the password. Then decline
    the offer to enter the password again. In this case, the encrypted file
    system is not mounted and the operating system continues booting,
    blocking access to your data.
   </p><p>
    To mount an encrypted partition which is not mounted
    during the boot process, open a file manager and click the partition
    entry in the pane listing common places on your file system. You will be
    prompted for a password and the partition will be mounted.
   </p><p>
    When you are installing your system on a machine where partitions
    already exist, you can also decide to encrypt an existing partition
    during installation. In this case follow the description in
    <a class="xref" href="cha.security.cryptofs.html#sec.security.cryptofs.y2.part_run" title="11.1.2. Creating an Encrypted Partition on a Running System">Section 11.1.2, “Creating an Encrypted Partition on a Running System”</a> and be aware that
    this action destroys all data on the existing partition.
   </p></div><div class="sect2 " id="sec.security.cryptofs.y2.part_run"><div class="titlepage"><div><div><h3 class="title" id="sec.security.cryptofs.y2.part_run"><span class="number">11.1.2 </span><span class="name">Creating an Encrypted Partition on a Running System</span> <a title="Permalink" class="permalink" href="cha.security.cryptofs.html#sec.security.cryptofs.y2.part_run">#</a></h3></div></div></div><div id="idm140011477795504" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Activating Encryption on a Running System</h6><p>
     It is also possible to create encrypted partitions on a running system.
     However, encrypting an existing partition destroys all data on it, and
     requires re-sizing and restructuring of existing partitions.
    </p></div><p>
    On a running system, select <span class="guimenu">System</span> › <span class="guimenu">Partitioner</span> in the YaST control
    center. Click <span class="guimenu">Yes</span> to proceed. In the <span class="guimenu">Expert
    Partitioner</span>, select the partition to encrypt and click
    <span class="guimenu">Edit</span>. The rest of the procedure is the same as
    described in <a class="xref" href="cha.security.cryptofs.html#sec.security.cryptofs.y2.part_inst" title="11.1.1. Creating an Encrypted Partition during Installation">Section 11.1.1, “Creating an Encrypted Partition during Installation”</a>.
   </p></div><div class="sect2 " id="sec.security.cryptofs.y2.vdisk"><div class="titlepage"><div><div><h3 class="title" id="sec.security.cryptofs.y2.vdisk"><span class="number">11.1.3 </span><span class="name">Creating an Encrypted Virtual Disk</span> <a title="Permalink" class="permalink" href="cha.security.cryptofs.html#sec.security.cryptofs.y2.vdisk">#</a></h3></div></div></div><p>
     Instead of encrypting an entire disk or partition, you can use YaST to set up a file-based encrypted virtual disk. It will appear as a regular file in the file system, but can be mounted and used like a regular folder. Unlike encrypted partitions, encrypted virtual disks can be created without re-partitioning the hard disk.
   </p><p>
     To set up an encrypted virtual disk, you need to create an empty file
     first (this file is called loop file). In the terminal, switch to the
     desired directory and run the <code class="command">touch
     <em class="replaceable ">FILE</em></code> command (where
     <em class="replaceable ">FILE</em> is the desired name, for example: <code class="filename">secret</code>). It is also recommended to create an empty
     directory that will act as a mount point for the encrypted virtual
     disk. To do this, use the <code class="command">mkdir
     <em class="replaceable ">DIR</em></code> command (replace
     <em class="replaceable ">DIR</em> with the actual path and directory name,
     for example: <code class="filename">~/my_docs</code>).
   </p><p>
     To set up an encrypted virtual disk, launch YaST, switch to the
     <span class="guimenu">System</span> section, and start Partitioner. Switch to
     the <span class="guimenu">Crypt Files</span> section and press <span class="guimenu">Add Crypt
     File</span>. Enter the path to the created loop file into the
     <span class="guimenu">Path Name of Loop File</span> field. Enable the
     <span class="guimenu">Create Loop File</span> option, specify the desired size, and
     press <span class="guimenu">Next</span>. In the <span class="guimenu">Mount Point</span> field,
     enter the path to the directory that serves as a mount point (in this
     example, it is <code class="filename">~/my_docs</code>). Make sure that the
     <span class="guimenu">Encrypt Device</span> option is enabled and press
     <span class="guimenu">Next</span>. Provide the desired password and press
     <span class="guimenu">Finish</span>.
   </p></div><div class="sect2 " id="sec.security.cryptofs.y2.removables"><div class="titlepage"><div><div><h3 class="title" id="sec.security.cryptofs.y2.removables"><span class="number">11.1.4 </span><span class="name">Encrypting the Content of Removable Media</span> <a title="Permalink" class="permalink" href="cha.security.cryptofs.html#sec.security.cryptofs.y2.removables">#</a></h3></div></div></div><p>
    YaST treats removable media (like external hard disks or flash
    disks) the same as any other storage device. Virtual disks or partitions on
    external media can be encrypted as described above. However, you should disable
    mounting at boot time, because removable media is usually connected only
    when the system is up and running.
   </p><p>
    If you encrypted your removable device with YaST, the GNOME desktop
    automatically recognizes the encrypted partition and prompts for the
    password when the device is detected. If you plug in a FAT-formatted
    removable device when running GNOME, the desktop user entering the
    password automatically becomes the owner of the device.
    For devices with a file system other than FAT, change the
    ownership explicitly for users other than <code class="systemitem">root</code> to give them
    read-write access to the device.
   </p><p>
     If you have created a virtual disk as described in <a class="xref" href="cha.security.cryptofs.html#sec.security.cryptofs.y2.vdisk" title="11.1.3. Creating an Encrypted Virtual Disk">Section 11.1.3, “Creating an Encrypted Virtual Disk”</a> but with the loop file on a
     removable disk, then you need to mount the file manually as follows:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> cryptsetup luksOpen  <em class="replaceable ">FILE</em> <em class="replaceable ">NAME</em>
sudo mount /dev/mapper/<em class="replaceable ">NAME</em> <em class="replaceable ">DIR</em></pre></div><p>
     In the commands above, the <em class="replaceable ">FILE</em> refers to the
     path to the loop file, <em class="replaceable ">NAME</em> is a user-defined
     name, and <em class="replaceable ">DIR</em> is the path to the mount
     point. For example:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> cryptsetup luksOpen /run/media/tux/usbstick/secret my_secret
<code class="prompt user">tux &gt; </code><code class="command">sudo</code> mount /dev/mapper/my_secret /home/tux/my_docs</pre></div></div></div><div class="sect1 " id="sec.security.cryptofs.gpg"><div class="titlepage"><div><div><h2 class="title" id="sec.security.cryptofs.gpg"><span class="number">11.2 </span><span class="name">Encrypting Files with GPG</span> <a title="Permalink" class="permalink" href="cha.security.cryptofs.html#sec.security.cryptofs.gpg">#</a></h2></div></div></div><p>
   The GPG encryption software can be used to encrypt individual files and documents.
  </p><p>
   To encrypt a file with GPG, you need to generate a key pair first. To do
   this, run the <code class="command">gpg --gen-key</code> and follow the on-screen
   instructions. When generating the key pair, GPG creates a user ID (UID) to
   identify the key based on your real name, comments, and email address. You
   need this UID (or just a part of it like your first name or email address)
   to specify the key you want to use to encrypt a file. To find the UID of an
   existing key, use the <code class="command">gpg --list-keys</code> command. To encrypt
   a file use the following command:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>gpg -e -r <em class="replaceable ">UID</em>
  <em class="replaceable ">FILE</em></pre></div><p>
    Replace <em class="replaceable ">UID</em> with part of the UID (for example,
    your first name) and <em class="replaceable ">FILE</em> with the file you want
    to encrypt. For example:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>gpg -e -r Tux secret.txt</pre></div><p>
    This command creates an encrypted version of the specified file
    recognizable by the <code class="filename">.gpg</code> file extension (in
    this example, it is <code class="filename">secret.txt.gpg</code>).
  </p><p>
    To decrypt an encrypted file, use the following command:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>gpg -d -o <em class="replaceable ">DECRYPTED_FILE</em>
  <em class="replaceable ">ENCRYPTED_FILE</em></pre></div><p>
    Replace <em class="replaceable ">DECRYPTED_FILE</em> with the desired name for
    the decrypted file and <em class="replaceable ">ENCRYPTED_FILE</em> with the
    encrypted file you want to decrypt.
  </p><p>
    Keep that the encrypted file can be only decrypted
    using the same key that was used for encryption. If you want to share an
    encrypted file with another person, you have to use that person's public key to
    encrypt the file.
  </p></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.certstore.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 12 </span>Certificate Store</span></a><a class="nav-link" href="cha.security.acls.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 10 </span>Access Control Lists in Linux</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>