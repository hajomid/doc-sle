<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Docker Overview | Docker Guide | SUSE Linux Enterprise Server 15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="product-name" content="SUSE Linux Enterprise Server" /><meta name="product-number" content="15" /><meta name="book-title" content="Docker Guide" /><meta name="chapter-title" content="Chapter 1. Docker Overview" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 15" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Server Documentation" /><link rel="up" href="book.sles.docker.html" title="Docker Guide" /><link rel="prev" href="book.sles.docker.html" title="Docker Guide" /><link rel="next" href="cha.docker.installation.html" title="Chapter 2. Docker Installation" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.sles.docker.html">Docker Guide</a><span> › </span><a class="crumb" href="cha.docker.overview.html">Docker Overview</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Docker Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="cha.docker.overview.html"><span class="number">1 </span><span class="name">Docker Overview</span></a></li><li class="inactive"><a href="cha.docker.installation.html"><span class="number">2 </span><span class="name">Docker Installation</span></a></li><li class="inactive"><a href="cha.sle2docker.installation.html"><span class="number">3 </span><span class="name">Installing <code class="literal">sle2docker</code></span></a></li><li class="inactive"><a href="cha.registry.installation.html"><span class="number">4 </span><span class="name">Storing Images</span></a></li><li class="inactive"><a href="docker.building.images.html"><span class="number">5 </span><span class="name">Creating Custom Images</span></a></li><li class="inactive"><a href="docker.dockerizing.application.html"><span class="number">6 </span><span class="name">Dockerizing Applications</span></a></li><li class="inactive"><a href="cha.working.with.containers.html"><span class="number">7 </span><span class="name">Working with Containers</span></a></li><li class="inactive"><a href="bk12apa.html"><span class="number">A </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Docker Guide" href="book.sles.docker.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 2. Docker Installation" href="cha.docker.installation.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.sles.docker.html">Docker Guide</a><span> › </span><a class="crumb" href="cha.docker.overview.html">Docker Overview</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Docker Guide" href="book.sles.docker.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 2. Docker Installation" href="cha.docker.installation.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div xml:lang="en" class="chapter " id="cha.docker.overview" lang="en"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15</span></span></span></div><div><h1 class="title"><span class="number">1 </span><span class="name">Docker Overview</span> </h1><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>docker_overview.xml</li><li><span class="ds-label">ID: </span>cha.docker.overview</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.docker.overview.html#Docker_Architecture"><span class="number">1.1 </span><span class="name">Docker Architecture</span></a></span></dt><dt><span class="sect1"><a href="cha.docker.overview.html#Docker_Used_Drivers"><span class="number">1.2 </span><span class="name">Docker Drivers</span></a></span></dt></dl></div></div><p>
  Docker is a lightweight virtualization solution to run multiple virtual units
  (containers) simultaneously on a single control host. Containers are isolated
  with Kernel Control Groups (<a class="xref" href="cha.docker.overview.html#vle.docker.cgroup">
    Control groups
   </a>) and
  <a class="xref" href="cha.docker.overview.html#vle.docker.namespace">
    Namespace
   </a>.
 </p><p>
  Full virtualization solutions such as Xen, KVM, or <code class="systemitem">libvirt</code> are based on
  the processor simulating a complete hardware environment and controlling the
  virtual machines. However, Docker only provides operating system-level
  virtualization where the Linux kernel controls isolated containers.
 </p><p>
  Before going into detail about Docker, let us define some of the terms used:
 </p><div class="variablelist "><dl class="variablelist"><dt id="Docker_engine"><span class="term ">
    Docker engine
   </span></dt><dd><p>
     The docker engine is a server-client type application that performs all
     tasks related to virtual machines. The Docker engine comprises the
     following:
    </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       daemon - is the server side of the docker engine that manages all docker
       objects (images, containers, network used by containers, etc.)
      </p></li><li class="listitem "><p>
       REST API - applications can use this API to communicate directly with
       the daemon
      </p></li><li class="listitem "><p>
       a CLI client - that enables you to communicate with the daemon. If the
       daemon is running on a different machine than the CLI client, the CLI
       client can communicate by using network sockets or the REST API provided
       by the docker engine.
      </p></li></ul></div></dd><dt id="Docker_Image"><span class="term ">Image</span></dt><dd><p>
     An <span class="emphasis"><em>image</em></span> is a read-only template used to create a
     <span class="emphasis"><em>virtual machine</em></span> on the host server. A Docker image is
     made by a series of layers built one over the other. Each layer
     corresponds to a permanent change, for example an update of an
     application. The changes are stored in a file called a
     <span class="emphasis"><em>dockerfile</em></span>. For more details see
     <a class="link" href="http://docs.docker.com/engine/reference/glossary#image" target="_blank">the
     official Docker documentation</a>.
    </p></dd><dt id="idm140500776712560"><span class="term ">
    Dockerfile
   </span></dt><dd><p>
     A <span class="emphasis"><em>dockerfile</em></span> stores changes made on top of the base
     image. The <a class="xref" href="cha.docker.overview.html#Docker_engine">
    Docker engine
   </a> reads instructions in the
     <span class="emphasis"><em>dockerfile</em></span> and builds a new image according to the
     instructions.
    </p></dd><dt id="idm140500776312736"><span class="term ">
    Container
   </span></dt><dd><p>
     A <span class="emphasis"><em>container</em></span> is a running instance based on a
     particular Docker <a class="xref" href="cha.docker.overview.html#Docker_Image">Image</a>. Each
     <span class="emphasis"><em>container</em></span> can be distinguished by a unique container
     ID.
    </p></dd><dt id="idm140500784632144"><span class="term ">
    Registry
   </span></dt><dd><p>
     A <span class="emphasis"><em>registry</em></span> is storage for already created images. It
     typically contains several <span class="emphasis"><em>repositories</em></span> There are two
     types of registry:
    </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       public registry - where everyone (usually registered) can download and
       use images. A typical public registry is
       <a class="link" href="https://hub.docker.com/" target="_blank">Docker Hub</a>.
      </p></li><li class="listitem "><p>
       private registry - these are accessible for particular users or from a
       particular private network.
      </p></li></ul></div></dd><dt id="idm140500778453840"><span class="term ">
    Repository
   </span></dt><dd><p>
     A <span class="emphasis"><em>repository</em></span> is storage in a
     <span class="emphasis"><em>registry</em></span> that stores a different version of a
     particular image. You can pull or push images from or to a repository.
    </p></dd><dt id="vle.docker.cgroup"><span class="term ">
    Control groups
   </span></dt><dd><p>
     <span class="emphasis"><em>Control groups</em></span>, also called
     <code class="literal">cgroups</code>, is a Linux kernel feature that allows
     aggregating or partitioning tasks (processes) and all their children into
     hierarchically organized groups to isolate resources.
    </p></dd><dt id="vle.docker.namespace"><span class="term ">
    Namespace
   </span></dt><dd><p>
     Docker uses <span class="emphasis"><em>namespaces</em></span> for its containers that
     isolates resources reserved for particular containers.
    </p></dd><dt id="idm140500781080144"><span class="term ">Orchestration</span></dt><dd><p>
     In a production environment you typically need a cluster with many
     containers on each cluster node. The containers must cooperate and you
     need a framework that enables you to manage the containers automatically.
     The act of automatic container management is called container
     orchestration and is typically handled by Kubernetes.
    </p></dd></dl></div><p>
  Docker is a platform that allows developers and system administrators to
  manage the complete life cycle of images. Docker makes it easy to build, ship
  and run images containing applications.
 </p><p>
  Docker provides you with the following advantages:
 </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
    Isolation of applications and operating systems through containers.
   </p></li><li class="listitem "><p>
    Near native performance, as Docker manages allocation of resources in real
    time.
   </p></li><li class="listitem "><p>
    Controls network interfaces and resources available inside containers
    through cgroups.
   </p></li><li class="listitem "><p>
    Versioning of images.
   </p></li><li class="listitem "><p>
    Allows building new images based on existing ones.
   </p></li><li class="listitem "><p>
    Provides you with container orchestration.
   </p></li></ul></div><p>
  On the other hand, Docker has the following limitations:
 </p><div class="itemizedlist "><div class="itemizedlist-title-wrap"><h6 class="itemizedlist-title"><span class="name">Limitations of Docker </span><a title="Permalink" class="permalink" href="cha.docker.overview.html#idm140500776668112">#</a></h6></div><ul class="itemizedlist"><li class="listitem "><p>
    Containers run inside the host system's kernel and cannot use a different
    kernel.
   </p></li><li class="listitem "><p>
    Only allows Linux <span class="emphasis"><em>guest</em></span> operating systems.
   </p></li><li class="listitem "><p>
    Docker is not a full virtualization stack like Xen, KVM, or <code class="systemitem">libvirt</code>.
   </p></li><li class="listitem "><p>
    Security depends on the host system. Refer to the
    <a class="link" href="http://docs.docker.com/articles/security/" target="_blank">official
    security documentation</a> for more details.
   </p></li></ul></div><div class="sect1 " id="Docker_Architecture"><div class="titlepage"><div><div><h2 class="title" id="Docker_Architecture"><span class="number">1.1 </span><span class="name">Docker Architecture</span> <a title="Permalink" class="permalink" href="cha.docker.overview.html#Docker_Architecture">#</a></h2></div></div></div><p>
   Docker uses a client/server architecture. You can use the <span class="emphasis"><em>CLI
   client</em></span> to communicate with the <span class="emphasis"><em>daemon</em></span>. The
   <span class="emphasis"><em>daemon</em></span> then performs operations with containers and
   manages images locally or in registry. The <span class="emphasis"><em>CLI client</em></span>
   can run on the same server as the host daemon or on a different machine. The
   <span class="emphasis"><em>CLI client</em></span> communicates with the
   <span class="emphasis"><em>daemon</em></span> by using network sockets. The architecture is
   depicted in <a class="xref" href="cha.docker.overview.html#Docker_architecture" title="The Docker architecture">Figure 1.1, “The Docker architecture”</a>.
  </p><div class="figure" id="Docker_architecture"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/docker_architecture.png"><img src="images/docker_architecture.png" width="" alt="The Docker architecture" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 1.1: </span><span class="name">The Docker architecture </span><a title="Permalink" class="permalink" href="cha.docker.overview.html#Docker_architecture">#</a></h6></div></div></div><div class="sect1 " id="Docker_Used_Drivers"><div class="titlepage"><div><div><h2 class="title" id="Docker_Used_Drivers"><span class="number">1.2 </span><span class="name">Docker Drivers</span> <a title="Permalink" class="permalink" href="cha.docker.overview.html#Docker_Used_Drivers">#</a></h2></div></div></div><div class="sect2 " id="Container_Drivers"><div class="titlepage"><div><div><h3 class="title" id="Container_Drivers"><span class="number">1.2.1 </span><span class="name">Container Drivers</span> <a title="Permalink" class="permalink" href="cha.docker.overview.html#Container_Drivers">#</a></h3></div></div></div><p>
    Docker uses
    <a class="link" href="https://github.com/docker/libcontainer" target="_blank">libcontainer</a>
    as the back-end driver to handle containers.
   </p></div><div class="sect2 " id="sec.docker.storaged"><div class="titlepage"><div><div><h3 class="title" id="sec.docker.storaged"><span class="number">1.2.2 </span><span class="name">Storage Drivers</span> <a title="Permalink" class="permalink" href="cha.docker.overview.html#sec.docker.storaged">#</a></h3></div></div></div><p>
    Docker supports different storage drivers:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      <code class="systemitem">vfs</code>: this driver is
      automatically used when the Docker host file system does not support
      copy-on-write. This is a simple driver which does not offer some
      advantages of Docker (like sharing layers, more on that in the next
      sections). It is highly reliable but also slow.
     </p></li><li class="listitem "><p>
      <code class="systemitem">devicemapper</code>: this driver
      relies on the device-mapper thin provisioning module. It supports
      copy-on-write, hence it offers all the advantages of Docker.
     </p></li><li class="listitem "><p>
      <code class="systemitem">btrfs</code>: this driver relies on
      Btrfs to provide all the features required by Docker. To use this driver
      the <code class="filename">/var/lib/docker</code> directory must be on a Btrfs
      file system.
     </p></li><li class="listitem "><p>
      <code class="systemitem">AUFS</code>: this driver relies on the
      AUFS union file system. Neither the upstream kernel nor the SUSE one
      supports this file system. Hence the AUFS driver is not built into the
      SUSE Docker package.
     </p></li></ul></div><p>
    SLE 12 uses the Btrfs file system by default, which leads Docker to
    use the <code class="systemitem">btrfs</code> driver.
   </p><p>
    It is possible to specify which driver to use by changing the value of the
    <code class="envar">DOCKER_OPTS</code> variable defined inside of the
    <code class="filename">/etc/sysconfig/docker</code> file. This can be done either
    manually or using YaST by browsing to <span class="guimenu">System</span> › <span class="guimenu">/etc/sysconfig Editor</span> › <span class="guimenu">System</span> › <span class="guimenu">Management</span> › <span class="guimenu">DOCKER_OPTS</span> menu and entering the
    <code class="systemitem">-s storage_driver</code> string.
   </p><p>
    For example, to force the usage of the
    <code class="systemitem">devicemapper</code> driver enter the
    following text:
   </p><div class="verbatim-wrap"><pre class="screen">DOCKER_OPTS="-s devicemapper"</pre></div><div id="idm140500785386016" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Mounting <code class="filename">/var/lib/docker</code></h6><p>
     It is recommended to have <code class="filename">/var/lib/docker</code> mounted on
     a separate partition or volume to not affect the Docker host operating
     system in case of a file system corruption.
    </p><p>
     In case you choose the Btrfs file system for
     <code class="filename">/var/lib/docker</code>, it is strongly recommended to create
     a subvolume for it. This ensures that the directory is excluded from file
     system snapshots. If not excluding <code class="filename">/var/lib/docker</code>
     from snapshots, the file system will likely run out of disk space soon
     after you start deploying containers. What's more, a rollback to a
     previous snapshot will also reset the Docker database and images. Refer to
     <em class="citetitle ">Creating and Mounting New Subvolumes</em> at
     <a class="link" href="https://www.suse.com/documentation/sles-12/book_sle_admin/data/sec_snapper_setup.html" target="_blank">https://www.suse.com/documentation/sles-12/book_sle_admin/data/sec_snapper_setup.html</a>
     for details.
    </p></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.docker.installation.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 2 </span>Docker Installation</span></a><a class="nav-link" href="book.sles.docker.html"><span class="prev-icon">←</span><span class="nav-label">Docker Guide</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>