<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Printer Operation | Administration Guide | SUSE Linux Enterprise Server 15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 2.4.0 using SUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise Server" /><meta name="product-number" content="15" /><meta name="book-title" content="Administration Guide" /><meta name="chapter-title" content="Chapter 18. Printer Operation" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="Beta SUSE Linux Enterprise Server 15" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Server Documentation" /><link rel="up" href="part.system.html" title="Part III. System" /><link rel="prev" href="cha.network.html" title="Chapter 17. Basic Networking" /><link rel="next" href="cha.x11.html" title="Chapter 19. The X Window System" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.sle.admin.html">Administration Guide</a><span> › </span><a class="crumb" href="part.system.html">System</a><span> › </span><a class="crumb" href="cha.print.html">Printer Operation</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Administration Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="pre.sle.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="part.administration.html"><span class="number">I </span><span class="name">Common Tasks</span></a><ol><li class="inactive"><a href="cha.adm.shell.html"><span class="number">1 </span><span class="name">Bash and Bash Scripts</span></a></li><li class="inactive"><a href="cha.adm.sudo.html"><span class="number">2 </span><span class="name">sudo
</span></a></li><li class="inactive"><a href="cha.onlineupdate.you.html"><span class="number">3 </span><span class="name">YaST Online Update</span></a></li><li class="inactive"><a href="cha.yast.gui.html"><span class="number">4 </span><span class="name">YaST</span></a></li><li class="inactive"><a href="cha.yast.text.html"><span class="number">5 </span><span class="name">YaST in Text Mode</span></a></li><li class="inactive"><a href="cha.sw_cl.html"><span class="number">6 </span><span class="name">Managing Software with Command Line Tools</span></a></li><li class="inactive"><a href="cha.snapper.html"><span class="number">7 </span><span class="name">System Recovery and Snapshot Management with Snapper</span></a></li><li class="inactive"><a href="cha.vnc.html"><span class="number">8 </span><span class="name">Remote Access with VNC</span></a></li><li class="inactive"><a href="cha.net.rsync.html"><span class="number">9 </span><span class="name">File Copying with RSync</span></a></li></ol></li><li class="inactive"><a href="part.boot.html"><span class="number">II </span><span class="name">Booting a Linux System</span></a><ol><li class="inactive"><a href="cha.boot.html"><span class="number">10 </span><span class="name">Introduction to the Booting Process</span></a></li><li class="inactive"><a href="cha.uefi.html"><span class="number">11 </span><span class="name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li class="inactive"><a href="cha.grub2.html"><span class="number">12 </span><span class="name">The Boot Loader GRUB 2</span></a></li><li class="inactive"><a href="cha.systemd.html"><span class="number">13 </span><span class="name">The <code class="systemitem">systemd</code> Daemon</span></a></li></ol></li><li class="inactive"><a href="part.system.html"><span class="number">III </span><span class="name">System</span></a><ol><li class="inactive"><a href="cha.64bit.html"><span class="number">14 </span><span class="name">32-Bit and 64-Bit Applications in a 64-Bit System Environment</span></a></li><li class="inactive"><a href="cha.journalctl.html"><span class="number">15 </span><span class="name"><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> Journal</span></a></li><li class="inactive"><a href="cha.update-alternative.html"><span class="number">16 </span><span class="name"><code class="command">update-alternatives</code>: Managing Multiple Versions of Commands and Files</span></a></li><li class="inactive"><a href="cha.network.html"><span class="number">17 </span><span class="name">Basic Networking</span></a></li><li class="inactive"><a href="cha.print.html"><span class="number">18 </span><span class="name">Printer Operation</span></a></li><li class="inactive"><a href="cha.x11.html"><span class="number">19 </span><span class="name">The X Window System</span></a></li><li class="inactive"><a href="cha.fuse.html"><span class="number">20 </span><span class="name">Accessing File Systems with FUSE</span></a></li><li class="inactive"><a href="cha.mod.html"><span class="number">21 </span><span class="name">Managing Kernel Modules</span></a></li><li class="inactive"><a href="cha.udev.html"><span class="number">22 </span><span class="name">Dynamic Kernel Device Management with <code class="systemitem">udev</code></span></a></li><li class="inactive"><a href="cha.kgraft.html"><span class="number">23 </span><span class="name">Live Patching the Linux Kernel Using kGraft</span></a></li><li class="inactive"><a href="cha.suse.html"><span class="number">24 </span><span class="name">Special System Features</span></a></li><li class="inactive"><a href="cha.nm.html"><span class="number">25 </span><span class="name">Using NetworkManager</span></a></li><li class="inactive"><a href="cha.power-mgmt.html"><span class="number">26 </span><span class="name">Power Management</span></a></li></ol></li><li class="inactive"><a href="part.services.html"><span class="number">IV </span><span class="name">Services</span></a><ol><li class="inactive"><a href="cha.ntp.html"><span class="number">27 </span><span class="name">Time Synchronization with NTP</span></a></li><li class="inactive"><a href="cha.dns.html"><span class="number">28 </span><span class="name">The Domain Name System</span></a></li><li class="inactive"><a href="cha.dhcp.html"><span class="number">29 </span><span class="name">DHCP</span></a></li><li class="inactive"><a href="cha.nfs.html"><span class="number">30 </span><span class="name">Sharing File Systems with NFS</span></a></li><li class="inactive"><a href="cha.samba.html"><span class="number">31 </span><span class="name">Samba</span></a></li><li class="inactive"><a href="cha.autofs.html"><span class="number">32 </span><span class="name">On-Demand Mounting with Autofs</span></a></li><li class="inactive"><a href="cha.slp.html"><span class="number">33 </span><span class="name">SLP</span></a></li><li class="inactive"><a href="cha.apache2.html"><span class="number">34 </span><span class="name">The Apache HTTP Server</span></a></li><li class="inactive"><a href="cha.ftp.html"><span class="number">35 </span><span class="name">Setting Up an FTP Server with YaST</span></a></li><li class="inactive"><a href="cha.squid.html"><span class="number">36 </span><span class="name">The Proxy Server Squid</span></a></li><li class="inactive"><a href="cha.wbem.html"><span class="number">37 </span><span class="name">Web Based Enterprise Management Using SFCB</span></a></li></ol></li><li class="inactive"><a href="part.trouble.html"><span class="number">V </span><span class="name">Troubleshooting</span></a><ol><li class="inactive"><a href="cha.adminhelp.html"><span class="number">38 </span><span class="name">Help and Documentation</span></a></li><li class="inactive"><a href="cha.adm.support.html"><span class="number">39 </span><span class="name">Gathering System Information for Support</span></a></li><li class="inactive"><a href="cha.trouble.html"><span class="number">40 </span><span class="name">Common Problems and Their Solutions</span></a></li></ol></li><li class="inactive"><a href="app.nwscheme.html"><span class="number">A </span><span class="name">An Example Network</span></a></li><li class="inactive"><a href="bk01apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 17. Basic Networking" href="cha.network.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 19. The X Window System" href="cha.x11.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.sle.admin.html">Administration Guide</a><span> › </span><a class="crumb" href="part.system.html">System</a><span> › </span><a class="crumb" href="cha.print.html">Printer Operation</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 17. Basic Networking" href="cha.network.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 19. The X Window System" href="cha.x11.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.print"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15</span></span></span></div><div><h2 class="title"><span class="number">18 </span><span class="name">Printer Operation</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>printing.xml</li><li><span class="ds-label">ID: </span>cha.print</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.print.html#sec.print.workflow"><span class="number">18.1 </span><span class="name">The CUPS Workflow</span></a></span></dt><dt><span class="sect1"><a href="cha.print.html#sec.print.method"><span class="number">18.2 </span><span class="name">Methods and Protocols for Connecting Printers</span></a></span></dt><dt><span class="sect1"><a href="cha.print.html#sec.print.software"><span class="number">18.3 </span><span class="name">Installing the Software</span></a></span></dt><dt><span class="sect1"><a href="cha.print.html#sec.print.net"><span class="number">18.4 </span><span class="name">Network Printers</span></a></span></dt><dt><span class="sect1"><a href="cha.print.html#sec.print.net.config_cmdl"><span class="number">18.5 </span><span class="name">Configuring CUPS with Command Line Tools</span></a></span></dt><dt><span class="sect1"><a href="cha.print.html#sec.print.appl.commandline"><span class="number">18.6 </span><span class="name">Printing from the Command Line</span></a></span></dt><dt><span class="sect1"><a href="cha.print.html#sec.print.special"><span class="number">18.7 </span><span class="name">Special Features in <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span></a></span></dt><dt><span class="sect1"><a href="cha.print.html#sec.print.prob"><span class="number">18.8 </span><span class="name">Troubleshooting</span></a></span></dt></dl></div></div><p>
  <span class="productname"><span class="phrase">SUSE® Linux Enterprise Server</span></span> supports printing with many types of printers, including
  remote network printers. Printers can be configured manually or with YaST.
  For configuration instructions, refer to <span class="intraxref">Book “<em class="citetitle ">Deployment Guide</em>”, Chapter 14 “Setting Up Hardware Components with YaST”, Section 14.3 “Setting Up a Printer”</span>.
  Both graphical and command line utilities are available for starting and
  managing print jobs. If your printer does not work as expected, refer to
  <a class="xref" href="cha.print.html#sec.print.prob" title="18.8. Troubleshooting">Section 18.8, “Troubleshooting”</a>.
 </p><p>
  CUPS (Common Unix Printing System) is the standard print system in
  <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.
 </p><p>
  Printers can be distinguished by interface, such as USB or network, and
  printer language. When buying a printer, make sure that the printer has an
  interface that is supported (USB, Ethernet, or Wi-Fi) and a suitable printer
  language. Printers can be categorized on the basis of the following three
  classes of printer languages:
 </p><div class="variablelist "><dl class="variablelist"><dt id="idm139795921185616"><span class="term ">PostScript Printers</span></dt><dd><p>
     PostScript is the printer language in which most print jobs in Linux and
     Unix are generated and processed by the internal print system. If
     PostScript documents can be processed directly by the printer and do not
     need to be converted in additional stages in the print system, the number
     of potential error sources is reduced.
    </p><p>
     Currently PostScript is being replaced by PDF as the standard print job
     format. PostScript+PDF printers that can directly print PDF (in addition
     to PostScript) already exist. For traditional PostScript printers PDF
     needs to be converted to PostScript in the printing workflow.
    </p></dd><dt id="idm139795921182752"><span class="term ">Standard Printers (Languages Like PCL and ESC/P)</span></dt><dd><p>
     In the case of known printer languages, the print system can convert
     PostScript jobs to the respective printer language with Ghostscript. This
     processing stage is called interpreting. The best-known languages are PCL
     (which is mostly used by HP printers and their clones) and ESC/P (which is
     used by Epson printers). These printer languages are usually supported by
     Linux and produce an adequate print result. Linux may not be able to
     address some special printer functions. Except for HP and Epson, there are
     currently no printer manufacturers who develop Linux drivers and make them
     available to Linux distributors under an open source license.
    </p></dd><dt id="sec.print.prep.gdi"><span class="term ">Proprietary Printers (Also Called GDI Printers)</span></dt><dd><p>
     These printers do not support any of the common printer languages. They
     use their own undocumented printer languages, which are subject to change
     when a new edition of a model is released. Usually only Windows drivers
     are available for these printers. See <a class="xref" href="cha.print.html#sec.print.gdi" title="18.8.1. Printers without Standard Printer Language Support">Section 18.8.1, “Printers without Standard Printer Language Support”</a>
     for more information.
    </p></dd></dl></div><p>
  Before you buy a new printer, refer to the following sources to check how
  well the printer you intend to buy is supported:
 </p><div class="variablelist "><dl class="variablelist"><dt id="idm139795921176144"><span class="term "><a class="link" href="http://www.linuxfoundation.org/OpenPrinting/" target="_blank">http://www.linuxfoundation.org/OpenPrinting/</a>
   </span></dt><dd><p>
     The OpenPrinting home page with the printer database. The database shows
     the latest Linux support status. However, a Linux distribution can only
     integrate the drivers available at production time. Accordingly, a printer
     currently rated as <span class="quote">“<span class="quote">perfectly supported</span>”</span> may not have had
     this status when the latest <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> version was released. Thus, the
     databases may not necessarily indicate the correct status, but only
     provide an approximation.
    </p></dd><dt id="idm139795921171936"><span class="term "><a class="link" href="http://pages.cs.wisc.edu/~ghost/" target="_blank">http://pages.cs.wisc.edu/~ghost/</a>
   </span></dt><dd><p>
     The Ghostscript Web page.
    </p></dd><dt id="idm139795921169712"><span class="term "><code class="filename">/usr/share/doc/packages/ghostscript/catalog.devices</code>
   </span></dt><dd><p>
     List of built-in Ghostscript drivers.
    </p></dd></dl></div><div class="sect1 " id="sec.print.workflow"><div class="titlepage"><div><div><h2 class="title" id="sec.print.workflow"><span class="number">18.1 </span><span class="name">The CUPS Workflow</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.workflow">#</a></h2></div></div></div><p>
   The user creates a print job. The print job consists of the data to print
   plus information for the spooler. This includes the name of the printer or the
   name of the print queue, and optionally, information for the filter, such as
   printer-specific options.
  </p><p>
   At least one dedicated print queue exists for every printer. The spooler
   holds the print job in the queue until the desired printer is ready to
   receive data. When the printer is ready, the spooler sends the data through
   the filter and back-end to the printer.
  </p><p>
   The filter converts the data generated by the application that is printing
   (usually PostScript or PDF, but also ASCII, JPEG, etc.) into
   printer-specific data (PostScript, PCL, ESC/P, etc.). The features of the
   printer are described in the PPD files. A PPD file contains printer-specific
   options with the parameters needed to enable them on the printer. The filter
   system makes sure that options selected by the user are enabled.
  </p><p>
   If you use a PostScript printer, the filter system converts the data into
   printer-specific PostScript. This does not require a printer driver. If you
   use a non-PostScript printer, the filter system converts the data into
   printer-specific data. This requires a printer driver suitable for your
   printer. The back-end receives the printer-specific data from the filter
   then passes it to the printer.
  </p></div><div class="sect1 " id="sec.print.method"><div class="titlepage"><div><div><h2 class="title" id="sec.print.method"><span class="number">18.2 </span><span class="name">Methods and Protocols for Connecting Printers</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.method">#</a></h2></div></div></div><p>
   There are various possibilities for connecting a printer to the system. The
   configuration of CUPS does not distinguish between a local printer and a
   printer connected to the system over the network. For more information about
   the printer connection, read the article <span class="emphasis"><em>CUPS in a
   Nutshell</em></span> at
   <a class="link" href="http://en.opensuse.org/SDB:CUPS_in_a_Nutshell" target="_blank">http://en.opensuse.org/SDB:CUPS_in_a_Nutshell</a>.
  </p><p><strong class="arch-arrow-start">System z</strong>
   Printers and similar devices provided by the z/VM that connect locally with
   the IBM z Systems mainframes are not supported by CUPS. On these platforms,
   printing is only possible over the network. The cabling for network printers
   must be installed according to the instructions of the printer manufacturer.
  <strong class="arch-arrow-end"></strong></p><div id="idm139795921158688" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Changing Cable Connections in a Running System</h6><p>
    When connecting the printer to the machine, do not forget that only USB
    devices can be plugged in or unplugged during operation. To avoid damaging
    your system or printer, shut down the system before changing any
    connections that are not USB.
   </p></div></div><div class="sect1 " id="sec.print.software"><div class="titlepage"><div><div><h2 class="title" id="sec.print.software"><span class="number">18.3 </span><span class="name">Installing the Software</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.software">#</a></h2></div></div></div><p>
   PPD (PostScript printer description) is the computer language that describes
   the properties, like resolution, and options, such as the availability of a
   duplex unit. These descriptions are required for using various printer
   options in CUPS. Without a PPD file, the print data would be forwarded to
   the printer in a <span class="quote">“<span class="quote">raw</span>”</span> state, which is usually not desired.
  </p><p>
   To configure a PostScript printer, the best approach is to get a suitable
   PPD file. Many PPD files are available in the packages
   <code class="systemitem">manufacturer-PPDs</code> and
   <code class="systemitem">OpenPrintingPPDs-postscript</code>. See
   <a class="xref" href="cha.print.html#sec.print.special.ppd" title="18.7.3. PPD Files in Various Packages">Section 18.7.3, “PPD Files in Various Packages”</a> and
   <a class="xref" href="cha.print.html#sec.print.prob.ppd" title="18.8.2. No Suitable PPD File Available for a PostScript Printer">Section 18.8.2, “No Suitable PPD File Available for a PostScript Printer”</a>.
  </p><p>
   New PPD files can be stored in the directory
   <code class="filename">/usr/share/cups/model/</code> or added to the print system
   with YaST as described in <span class="intraxref">Book “<em class="citetitle ">Deployment Guide</em>”, Chapter 14 “Setting Up Hardware Components with YaST”, Section 14.3.1.1 “Adding Drivers with YaST”</span>.
   Subsequently, the PPD file can be selected during the printer setup.
  </p><p>
   Be careful if a printer manufacturer wants you to install entire software
   packages. This kind of installation may result in the loss of the
   support provided by <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. Also, print commands may work
   differently and the system may no longer be able to address devices of other
   manufacturers. For this reason, the installation of manufacturer software is
   not recommended.
  </p></div><div class="sect1 " id="sec.print.net"><div class="titlepage"><div><div><h2 class="title" id="sec.print.net"><span class="number">18.4 </span><span class="name">Network Printers</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.net">#</a></h2></div></div></div><p>
   A network printer can support various protocols, some even concurrently.
   Although most of the supported protocols are standardized, some
   manufacturers modify the standard. Manufacturers then provide drivers for
   only a few operating systems. Unfortunately, Linux drivers are rarely
   provided. The current situation is such that you cannot act on the
   assumption that every protocol works smoothly in Linux. Therefore, you may
   need to experiment with various options to achieve a functional
   configuration.
  </p><p>
   CUPS supports the <code class="systemitem">socket</code>,
   <code class="systemitem">LPD</code>, <code class="systemitem">IPP</code> and
   <code class="systemitem">smb</code> protocols.
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm139795921143520"><span class="term ">socket</span></dt><dd><p>
      <span class="emphasis"><em>Socket</em></span> refers to a connection in which the plain
      print data is sent directly to a TCP socket. Some socket port numbers
      that are commonly used are <code class="option">9100</code> or <code class="option">35</code>.
      The device URI (uniform resource identifier) syntax is:
      socket://<em class="replaceable ">IP.OF.THE.PRINTER</em>:<em class="replaceable ">PORT</em>,
      for example: <code class="systemitem">socket://192.168.2.202:9100/</code>.
     </p></dd><dt id="idm139795921138816"><span class="term ">LPD (Line Printer Daemon)</span></dt><dd><p>
      The LPD protocol is described in RFC 1179. Under this protocol, some
      job-related data, such as the ID of the print queue, is sent before the
      actual print data is sent. Therefore, a print queue must be specified
      when configuring the LPD protocol. The implementations of diverse printer
      manufacturers are flexible enough to accept any name as the print queue.
      If necessary, the printer manual should indicate what name to use. LPT,
      LPT1, LP1 or similar names are often used. The port number for an LPD
      service is <code class="option">515</code>. An example device URI is
      <code class="systemitem">lpd://192.168.2.202/LPT1</code>.
     </p></dd><dt id="idm139795921135536"><span class="term ">IPP (Internet Printing Protocol)</span></dt><dd><p>
      IPP is a relatively new protocol (1999) based on the HTTP protocol. With
      IPP, more job-related data is transmitted than with the other protocols.
      CUPS uses IPP for internal data transmission. The name of the print queue
      is necessary to configure IPP correctly. The port number for IPP is
      <code class="literal">631</code>. Example device URIs are
      <code class="systemitem">ipp://192.168.2.202/ps</code> and
      <code class="systemitem">ipp://192.168.2.202/printers/ps</code>.
     </p></dd><dt id="idm139795921132048"><span class="term ">SMB (Windows Share)</span></dt><dd><p>
      CUPS also supports printing on printers connected to Windows shares. The
      protocol used for this purpose is SMB. SMB uses the port numbers
      <code class="option">137</code>, <code class="option">138</code> and <code class="option">139</code>.
      Example device URIs are
      <code class="systemitem">smb://user:password@workgroup/smb.example.com/printer</code>,
      <code class="systemitem">smb://user:password@smb.example.com/printer</code>, and
      <code class="systemitem">smb://smb.example.com/printer</code>.
     </p></dd></dl></div><p>
   The protocol supported by the printer must be determined before
   configuration. If the manufacturer does not provide the needed information,
   the command <code class="command">nmap</code> (which comes with the
   <code class="systemitem">nmap</code> package) can be used to ascertain the
   protocol. <code class="command">nmap</code> checks a host for open ports. For example:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>nmap -p 35,137-139,515,631,9100-10000 <em class="replaceable ">IP.OF.THE.PRINTER</em></pre></div></div><div class="sect1 " id="sec.print.net.config_cmdl"><div class="titlepage"><div><div><h2 class="title" id="sec.print.net.config_cmdl"><span class="number">18.5 </span><span class="name">Configuring CUPS with Command Line Tools</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.net.config_cmdl">#</a></h2></div></div></div><p>
   CUPS can be configured with command line tools like
   <code class="command">lpinfo</code>, <code class="command">lpadmin</code> and
   <code class="command">lpoptions</code>. You need a device URI consisting of a
   back-end, such as USB, and parameters. To determine valid device URIs on
   your system use the command <code class="command">lpinfo -v | grep ":/"</code>:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> lpinfo -v | grep ":/"
direct usb://ACME/FunPrinter%20XL
network socket://192.168.2.253</pre></div><p>
   With <code class="command">lpadmin</code> the CUPS server administrator can add,
   remove or manage print queues. To add a print queue, use the following
   syntax:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> lpadmin -p <em class="replaceable ">QUEUE</em> -v <em class="replaceable ">DEVICE-URI</em> -P <em class="replaceable ">PPD-FILE</em> -E</pre></div><p>
   Then the device (<code class="option">-v</code>) is available as
   <em class="replaceable ">QUEUE</em> (<code class="option">-p</code>), using the specified
   PPD file (<code class="option">-P</code>). This means that you must know the PPD file
   and the device URI to configure the printer manually.
  </p><p>
   Do not use <code class="option">-E</code> as the first option. For all CUPS commands,
   <code class="option">-E</code> as the first argument sets use of an encrypted
   connection. To enable the printer, <code class="option">-E</code> must be used as shown
   in the following example:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> lpadmin -p ps -v usb://ACME/FunPrinter%20XL -P \
/usr/share/cups/model/Postscript.ppd.gz -E</pre></div><p>
   The following example configures a network printer:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> lpadmin -p ps -v socket://192.168.2.202:9100/ -P \
/usr/share/cups/model/Postscript-level1.ppd.gz -E</pre></div><p>
   For more options of <code class="command">lpadmin</code>, see the man page of
   <code class="systemitem">lpadmin(8)</code>.
  </p><p>
   During printer setup, certain options are set as default. These options can
   be modified for every print job (depending on the print tool used). Changing
   these default options with YaST is also possible. Using command line
   tools, set default options as follows:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     First, list all options:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> lpoptions -p <em class="replaceable ">QUEUE</em> -l</pre></div><p>
     Example:
    </p><div class="verbatim-wrap"><pre class="screen">Resolution/Output Resolution: 150dpi *300dpi 600dpi</pre></div><p>
     The activated default option is identified by a preceding asterisk
     (<code class="literal">*</code>).
    </p></li><li class="step "><p>
     Change the option with <code class="command">lpadmin</code>:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> lpadmin -p <em class="replaceable ">QUEUE</em> -o Resolution=600dpi</pre></div></li><li class="step "><p>
     Check the new setting:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> lpoptions -p <em class="replaceable ">QUEUE</em> -l

Resolution/Output Resolution: 150dpi 300dpi *600dpi</pre></div></li></ol></div></div><p>
   When a normal user runs <code class="command">lpoptions</code>, the settings are
   written to <code class="filename">~/.cups/lpoptions</code>. However,
   <code class="systemitem">root</code> settings are written to
   <code class="filename">/etc/cups/lpoptions</code>.
  </p></div><div class="sect1 " id="sec.print.appl.commandline"><div class="titlepage"><div><div><h2 class="title" id="sec.print.appl.commandline"><span class="number">18.6 </span><span class="name">Printing from the Command Line</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.appl.commandline">#</a></h2></div></div></div><p>
   To print from the command line, enter <code class="command">lp -d</code>
   <em class="replaceable ">QUEUENAME</em> <em class="replaceable ">FILENAME</em>,
   substituting the corresponding names for
   <em class="replaceable ">QUEUENAME</em> and
   <em class="replaceable ">FILENAME</em>.
  </p><p>
   Some applications rely on the <code class="command">lp</code> command for printing. In
   this case, enter the correct command in the application's print dialog,
   usually without specifying <em class="replaceable ">FILENAME</em>, for example,
   <code class="command">lp -d</code> <em class="replaceable ">QUEUENAME</em>.
  </p></div><div class="sect1 " id="sec.print.special"><div class="titlepage"><div><div><h2 class="title" id="sec.print.special"><span class="number">18.7 </span><span class="name">Special Features in <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.special">#</a></h2></div></div></div><p>
   Several CUPS features have been adapted for <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. Some of the most
   important changes are covered here.
  </p><div class="sect2 " id="sec.print.special.cupsfire"><div class="titlepage"><div><div><h3 class="title" id="sec.print.special.cupsfire"><span class="number">18.7.1 </span><span class="name">CUPS and Firewall</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.special.cupsfire">#</a></h3></div></div></div><p>
    After having performed a default installation of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>,
    <code class="systemitem">firewalld</code> is active and the network interfaces are configured to be in
    the <code class="literal">public</code> zone which blocks incoming traffic. More
    information about the <code class="systemitem">firewalld</code> configuration is available in
    <span class="intraxref">Book “<em class="citetitle ">Security Guide</em>”, Chapter 15 “Masquerading and Firewalls”, Section 15.4 “<code class="systemitem">firewalld</code>”</span> and at
    <a class="link" href="http://en.opensuse.org/SDB:CUPS_and_SANE_Firewall_settings" target="_blank">http://en.opensuse.org/SDB:CUPS_and_SANE_Firewall_settings</a>.
   </p><div class="sect3 " id="sec.print.special.cupsfire.client"><div class="titlepage"><div><div><h4 class="title" id="sec.print.special.cupsfire.client"><span class="number">18.7.1.1 </span><span class="name">CUPS Client</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.special.cupsfire.client">#</a></h4></div></div></div><p>
     Normally, a CUPS client runs on a regular workstation located in a trusted
     network environment behind a firewall. In this case it is recommended to
     configure the network interface to be in the <code class="literal">Internal
     Zone</code>, so the workstation is reachable from within the network.
    </p></div><div class="sect3 " id="sec.print.special.cupsfire.server"><div class="titlepage"><div><div><h4 class="title" id="sec.print.special.cupsfire.server"><span class="number">18.7.1.2 </span><span class="name">CUPS Server</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.special.cupsfire.server">#</a></h4></div></div></div><p>
     If the CUPS server is part of a trusted network environment protected by a
     firewall, the network interface should be configured to be in the
     <code class="literal">Internal Zone</code> of the firewall. It is not recommended to
     set up a CUPS server in an untrusted network environment unless you ensure
     that it is protected by special firewall rules and secure settings in
     the CUPS configuration.
    </p></div></div><div class="sect2 " id="sec.print.special.browsing"><div class="titlepage"><div><div><h3 class="title" id="sec.print.special.browsing"><span class="number">18.7.2 </span><span class="name">Browsing for Network Printers</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.special.browsing">#</a></h3></div></div></div><p>
    CUPS servers regularly announce the availability and status information of
    shared printers over the network. Clients can access this information to
    display a list of available printers in printing dialogs, for example. This
    is called <span class="quote">“<span class="quote">browsing</span>”</span>.
   </p><p>
    CUPS servers announce their print queues over the network either via the
    traditional CUPS browsing protocol or via Bonjour/DNS-SD. To be able to
    browse network print queues, the service
    <code class="systemitem">cups-browsed</code> needs to run on all
    clients that print via CUPS servers.
    <code class="systemitem">cups-browsed</code> is not started by
    default. To start it for the active session, use <code class="command">sudo systemctl
    start cups-browsed</code>. To ensure it is automatically started after
    booting, enable it with <code class="command">sudo systemctl enable
    cups-browsed</code> on all clients.
   </p><p>
    In case browsing does not work after having started
    <code class="systemitem">cups-browsed</code>, the CUPS server(s)
    probably announce the network print queues via Bonjour/DNS-SD. In this case
    you need to additionally install the package
    <code class="systemitem">avahi</code> and start the associated
    service with <code class="command">sudo systemctl start avahi-daemon</code> on all
    clients.
   </p></div><div class="sect2 " id="sec.print.special.ppd"><div class="titlepage"><div><div><h3 class="title" id="sec.print.special.ppd"><span class="number">18.7.3 </span><span class="name">PPD Files in Various Packages</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.special.ppd">#</a></h3></div></div></div><p>
    The YaST printer configuration sets up the queues for CUPS using the PPD
    files installed in <code class="filename">/usr/share/cups/model</code>. To find the
    suitable PPD files for the printer model, YaST compares the vendor and
    model determined during hardware detection with the vendors and models in
    all PPD files. For this purpose, the YaST printer configuration generates
    a database from the vendor and model information extracted from the PPD
    files.
   </p><p>
    The configuration using only PPD files and no other information sources has
    the advantage that the PPD files in
    <code class="filename">/usr/share/cups/model</code> can be modified freely. For
    example, if you have PostScript printers the PPD files can be copied
    directly to <code class="filename">/usr/share/cups/model</code> (if they do not
    already exist in the <code class="systemitem">manufacturer-PPDs</code> or
    <code class="systemitem">OpenPrintingPPDs-postscript</code> packages) to achieve
    an optimum configuration for your printers.
   </p><p>
    Additional PPD files are provided by the following packages:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      gutenprint: the Gutenprint driver and its matching PPDs
     </p></li><li class="listitem "><p>
      splix: the SpliX driver and its matching PPDs
     </p></li><li class="listitem "><p>
      OpenPrintingPPDs-ghostscript: PPDs for Ghostscript built-in drivers
     </p></li><li class="listitem "><p>
      OpenPrintingPPDs-hpijs: PPDs for the HPIJS driver for non-HP printers
     </p></li></ul></div></div></div><div class="sect1 " id="sec.print.prob"><div class="titlepage"><div><div><h2 class="title" id="sec.print.prob"><span class="number">18.8 </span><span class="name">Troubleshooting</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.prob">#</a></h2></div></div></div><p>
   The following sections cover some of the most frequently encountered printer
   hardware and software problems and ways to solve or circumvent these
   problems. Among the topics covered are GDI printers, PPD files and port
   configuration. Common network printer problems, defective printouts, and
   queue handling are also addressed.
  </p><div class="sect2 " id="sec.print.gdi"><div class="titlepage"><div><div><h3 class="title" id="sec.print.gdi"><span class="number">18.8.1 </span><span class="name">Printers without Standard Printer Language Support</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.gdi">#</a></h3></div></div></div><p>
    These printers do not support any common printer language and can only be
    addressed with special proprietary control sequences. Therefore they can
    only work with the operating system versions for which the manufacturer
    delivers a driver. GDI is a programming interface developed by Microsoft*
    for graphics devices. Usually the manufacturer delivers drivers only for
    Windows, and since the Windows driver uses the GDI interface these printers
    are also called <span class="emphasis"><em>GDI printers</em></span>. The actual problem is
    not the programming interface, but that these printers can only be
    addressed with the proprietary printer language of the respective printer
    model.
   </p><p>
    Some GDI printers can be switched to operate either in GDI mode or in one
    of the standard printer languages. See the manual of the printer whether
    this is possible. Some models require special Windows software to do the
    switch (note that the Windows printer driver may always switch the printer
    back into GDI mode when printing from Windows). For other GDI printers
    there are extension modules for a standard printer language available.
   </p><p>
    Some manufacturers provide proprietary drivers for their printers. The
    disadvantage of proprietary printer drivers is that there is no guarantee
    that these work with the installed print system or that they are suitable
    for the various hardware platforms. In contrast, printers that support a
    standard printer language do not depend on a special print system version
    or a special hardware platform.
   </p><p>
    Instead of spending time trying to make a proprietary Linux driver work, it
    may be more cost-effective to purchase a printer which supports a standard
    printer language (preferably PostScript). This would solve the driver
    problem once and for all, eliminating the need to install and configure
    special driver software and obtain driver updates that may be required
    because of new developments in the print system.
   </p></div><div class="sect2 " id="sec.print.prob.ppd"><div class="titlepage"><div><div><h3 class="title" id="sec.print.prob.ppd"><span class="number">18.8.2 </span><span class="name">No Suitable PPD File Available for a PostScript Printer</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.prob.ppd">#</a></h3></div></div></div><p>
    If the <code class="systemitem">manufacturer-PPDs</code> or
    <code class="systemitem">OpenPrintingPPDs-postscript</code> packages do not
    contain a suitable PPD file for a PostScript printer, it should be possible
    to use the PPD file from the driver CD of the printer manufacturer or
    download a suitable PPD file from the Web page of the printer manufacturer.
   </p><p>
    If the PPD file is provided as a zip archive (.zip) or a self-extracting
    zip archive (<code class="filename">.exe</code>), unpack it with
    <code class="command">unzip</code>. First, review the license terms of the PPD file.
    Then use the <code class="command">cupstestppd</code> utility to check if the PPD
    file complies with <span class="quote">“<span class="quote">Adobe PostScript Printer Description File Format
    Specification, version 4.3.</span>”</span> If the utility returns
    <span class="quote">“<span class="quote">FAIL,</span>”</span> the errors in the PPD files are serious and are likely
    to cause major problems. The problem spots reported by
    <code class="command">cupstestppd</code> should be eliminated. If necessary, ask the
    printer manufacturer for a suitable PPD file.
   </p></div><div class="sect2 " id="sec.print.prob.netconnect"><div class="titlepage"><div><div><h3 class="title" id="sec.print.prob.netconnect"><span class="number">18.8.3 </span><span class="name">Network Printer Connections</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.prob.netconnect">#</a></h3></div></div></div><div class="variablelist "><dl class="variablelist"><dt id="idm139795921037968"><span class="term ">Identifying Network Problems</span></dt><dd><p>
       Connect the printer directly to the computer. For test purposes,
       configure the printer as a local printer. If this works, the problems
       are related to the network.
      </p></dd><dt id="idm139795921035984"><span class="term ">Checking the TCP/IP Network</span></dt><dd><p>
       The TCP/IP network and name resolution must be functional.
      </p></dd><dt id="idm139795921034112"><span class="term ">Checking a Remote <code class="command">lpd</code>
     </span></dt><dd><p>
       Use the following command to test if a TCP connection can be established
       to <code class="command">lpd</code> (port <code class="literal">515</code>) on
       <em class="replaceable ">HOST</em>:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>netcat -z <em class="replaceable ">HOST</em> 515 &amp;&amp; echo ok || echo failed</pre></div><p>
       If the connection to <code class="command">lpd</code> cannot be established,
       <code class="command">lpd</code> may not be active or there may be basic network
       problems.
      </p><p>
       Provided that the respective
       <code class="command">lpd</code> is active and the host accepts queries, run the following command as <code class="systemitem">root</code> to query a status report for
       <em class="replaceable ">QUEUE</em> on remote
       <em class="replaceable ">HOST</em>:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>echo -e "\004queue" \
| netcat -w 2 -p 722 <em class="replaceable ">HOST</em> 515</pre></div><p>
       If <code class="command">lpd</code> does not respond, it may not be active or
       there may be basic network problems. If <code class="command">lpd</code> responds,
       the response should show why printing is not possible on the
       <code class="literal">queue</code> on <code class="literal">host</code>. If you receive a
       response like that shown in <a class="xref" href="cha.print.html#aus.d.lpd" title="Error Message from lpd">Example 18.1, “Error Message from <code class="command">lpd</code>”</a>, the problem is
       caused by the remote <code class="command">lpd</code>.
      </p><div class="example" id="aus.d.lpd"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 18.1: </span><span class="name">Error Message from <code class="command">lpd</code> </span><a title="Permalink" class="permalink" href="cha.print.html#aus.d.lpd">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">lpd: your host does not have line printer access
lpd: queue does not exist
printer: spooling disabled
printer: printing disabled</pre></div></div></div></dd><dt id="idm139795921018080"><span class="term ">Checking a Remote <code class="command">cupsd</code>
     </span></dt><dd><p>
       A CUPS network server can broadcast its queues by default every 30
       seconds on UDP port <code class="literal">631</code>. Accordingly, the following
       command can be used to test whether there is a broadcasting CUPS network
       server in the network. Make sure to stop your local CUPS daemon before
       executing the command.
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>netcat -u -l -p 631 &amp; PID=$! ; sleep 40 ; kill $PID</pre></div><p>
       If a broadcasting CUPS network server exists, the output appears as
       shown in <a class="xref" href="cha.print.html#aus.d.bcast" title="Broadcast from the CUPS Network Server">Example 18.2, “Broadcast from the CUPS Network Server”</a>.
      </p><div class="example" id="aus.d.bcast"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 18.2: </span><span class="name">Broadcast from the CUPS Network Server </span><a title="Permalink" class="permalink" href="cha.print.html#aus.d.bcast">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">ipp://192.168.2.202:631/printers/queue</pre></div></div></div><p><strong class="arch-arrow-start">System z</strong>
       Take into account that IBM z Systems Ethernet devices do not receive
       broadcasts by default.
      <strong class="arch-arrow-end"></strong></p><p>
       The following command can be used to test if a TCP connection can be
       established to <code class="command">cupsd</code> (port <code class="literal">631</code>) on
       <em class="replaceable ">HOST</em>:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>netcat -z <em class="replaceable ">HOST</em> 631 &amp;&amp; echo ok || echo failed</pre></div><p>
       If the connection to <code class="command">cupsd</code> cannot be established,
       <code class="command">cupsd</code> may not be active or there may be basic network
       problems. <code class="command">lpstat -h</code> <em class="replaceable ">HOST</em>
       -l -t returns a (possibly very long) status report for all queues on
       <em class="replaceable ">HOST</em>, provided the respective
       <code class="command">cupsd</code> is active and the host accepts queries.
      </p><p>
       The next command can be used to test if the
       <em class="replaceable ">QUEUE</em> on <em class="replaceable ">HOST</em>
       accepts a print job consisting of a single carriage-return character.
       Nothing should be printed. Possibly, a blank page may be ejected.
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>echo -en "\r" \
| lp -d queue -h <em class="replaceable ">HOST</em></pre></div></dd><dt id="idm139795921001376"><span class="term ">
      Troubleshooting a Network Printer or Print Server Machine
     </span></dt><dd><p>
       Spoolers running in a print server machine sometimes cause problems when
       they need to deal with multiple print jobs. Since this is caused by the
       spooler in the print server machine, there no way to resolve this issue. As
       a work-around, circumvent the spooler in the print server machine by
       addressing the printer connected to the print server machine directly with
       the TCP socket. See <a class="xref" href="cha.print.html#sec.print.net" title="18.4. Network Printers">Section 18.4, “Network Printers”</a>.
      </p><p>
       In this way, the print server machine is reduced to a converter between the
       various forms of data transfer (TCP/IP network and local printer
       connection). To use this method, you need to know the TCP port on the
       print server machine. If the printer is connected to the print server machine
       and turned on, this TCP port can usually be determined with the
       <code class="command">nmap</code> utility from the <code class="systemitem">nmap</code>
       package some time after the print server machine is powered up. For example,
       <code class="command">nmap </code> <em class="replaceable ">IP-address</em> may
       deliver the following output for a print server machine:
      </p><div class="verbatim-wrap"><pre class="screen">Port       State       Service
23/tcp     open        telnet
80/tcp     open        http
515/tcp    open        printer
631/tcp    open        cups
9100/tcp   open        jetdirect</pre></div><p>
       This output indicates that the printer connected to the print server machine
       can be addressed via TCP socket on port <code class="literal">9100</code>. By
       default, <code class="command">nmap</code> only checks several commonly known
       ports listed in <code class="filename">/usr/share/nmap/nmap-services</code>. To
       check all possible ports, use the command <code class="command">nmap
       -p </code>
       <em class="replaceable ">FROM_PORT</em>-<em class="replaceable ">TO_PORT</em> <em class="replaceable ">IP_ADDRESS</em>.
       This may take some time. For further information, refer to the man page
       of <code class="command">nmap</code>.
      </p><p>
       Enter a command like
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>echo -en "\rHello\r\f" | netcat -w 1 IP-address port
cat file | netcat -w 1 IP-address port</pre></div><p>
       to send character strings or files directly to the respective port to
       test if the printer can be addressed on this port.
      </p></dd></dl></div></div><div class="sect2 " id="sec.print.prob.defective_printouts"><div class="titlepage"><div><div><h3 class="title" id="sec.print.prob.defective_printouts"><span class="number">18.8.4 </span><span class="name">Defective Printouts without Error Message</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.prob.defective_printouts">#</a></h3></div></div></div><p>
    For the print system, the print job is completed when the CUPS back-end
    completes the data transfer to the recipient (printer). If further
    processing on the recipient fails (for example, if the printer is not able
    to print the printer-specific data) the print system does not notice this.
    If the printer cannot print the printer-specific data, select a PPD file
    that is more suitable for the printer.
   </p></div><div class="sect2 " id="sec.print.prob.disabled_queues"><div class="titlepage"><div><div><h3 class="title" id="sec.print.prob.disabled_queues"><span class="number">18.8.5 </span><span class="name">Disabled Queues</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.prob.disabled_queues">#</a></h3></div></div></div><p>
    If the data transfer to the recipient fails entirely after several
    attempts, the CUPS back-end, such as <code class="literal">USB</code> or
    <code class="literal">socket</code>, reports an error to the print system (to
    <code class="command">cupsd</code>). The back-end determines how many unsuccessful
    attempts are appropriate until the data transfer is reported as impossible.
    As further attempts would be in vain, <code class="command">cupsd</code> disables
    printing for the respective queue. After eliminating the cause of the
    problem, the system administrator must re-enable printing with the command
    <code class="command">cupsenable</code>.
   </p></div><div class="sect2 " id="sec.print.prob.deleting_jobs"><div class="titlepage"><div><div><h3 class="title" id="sec.print.prob.deleting_jobs"><span class="number">18.8.6 </span><span class="name">CUPS Browsing: Deleting Print Jobs</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.prob.deleting_jobs">#</a></h3></div></div></div><p>
    If a CUPS network server broadcasts its queues to the client hosts via
    browsing and a suitable local <code class="command">cupsd</code> is active on the
    client hosts, the client <code class="command">cupsd</code> accepts print jobs from
    applications and forwards them to the <code class="command">cupsd</code> on the
    server. When <code class="command">cupsd</code> on the server accepts a print job, it
    is assigned a new job number. Therefore, the job number on the client host
    is different from the job number on the server. As a print job is usually
    forwarded immediately, it cannot be deleted with the job number on the
    client host This is because the client <code class="command">cupsd</code> regards the
    print job as completed when it has been forwarded to the server
    <code class="command">cupsd</code>.
   </p><p>
    To delete the print job on the server, use a
    command such as <code class="command">lpstat -h cups.example.com -o</code> to determine the
    job number on the server. This assumes that the server has not already
    completed the print job (that is, sent it completely to the printer). Use
    the obtained job
    number to delete the print job on the server as follows:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>cancel -h cups.example.com <em class="replaceable ">QUEUE-JOBNUMBER</em></pre></div></div><div class="sect2 " id="sec.print.prob.brokenjobs"><div class="titlepage"><div><div><h3 class="title" id="sec.print.prob.brokenjobs"><span class="number">18.8.7 </span><span class="name">Defective Print Jobs and Data Transfer Errors</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.prob.brokenjobs">#</a></h3></div></div></div><p>
    If you switch the printer off or shut down the computer during the printing
    process, print jobs remain in the queue. Printing resumes when the computer
    (or the printer) is switched back on. Defective print jobs must be removed
    from the queue with <code class="command">cancel</code>.
   </p><p>
    If a print job is corrupted or an error occurs in the communication between
    the host and the printer, the printer cannot process the data correctly and
    prints numerous sheets of paper with
    unintelligible characters. To
    fix the problem, follow these steps:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      To stop printing, remove all paper from ink jet printers or open the
      paper trays of laser printers. High-quality printers have a button for
      canceling the current printout.
     </p></li><li class="step "><p>
      The print job may still be in the queue, because jobs are only removed
      after they are sent completely to the printer. Use <code class="command">lpstat
      -o</code> or <code class="command">lpstat -h cups.example.com -o</code> to check which
      queue is currently printing. Delete the print job with
      <code class="command">cancel</code>
      <em class="replaceable ">QUEUE</em>-<em class="replaceable ">JOBNUMBER</em> or
      <code class="command">cancel -h cups.example.com</code>
      <em class="replaceable ">QUEUE</em>-<em class="replaceable ">JOBNUMBER</em>.
     </p></li><li class="step "><p>
      Some data may still be transferred to the printer even though the print
      job has been deleted from the queue. Check if a CUPS back-end process is
      still running for the respective queue and terminate it.
     </p></li><li class="step "><p>
      Reset the printer completely by switching it off for some time. Then
      insert the paper and turn on the printer.
     </p></li></ol></div></div></div><div class="sect2 " id="sec.print.prob.debugging"><div class="titlepage"><div><div><h3 class="title" id="sec.print.prob.debugging"><span class="number">18.8.8 </span><span class="name">Debugging CUPS</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.prob.debugging">#</a></h3></div></div></div><p>
    Use the following generic procedure to locate problems in CUPS:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Set <code class="command">LogLevel debug</code> in
      <code class="filename">/etc/cups/cupsd.conf</code>.
     </p></li><li class="step "><p>
      Stop <code class="command">cupsd</code>.
     </p></li><li class="step "><p>
      Remove <code class="filename">/var/log/cups/error_log*</code> to avoid having to
      search through very large log files.
     </p></li><li class="step "><p>
      Start <code class="command">cupsd</code>.
     </p></li><li class="step "><p>
      Repeat the action that led to the problem.
     </p></li><li class="step "><p>
      Check the messages in <code class="filename">/var/log/cups/error_log*</code> to
      identify the cause of the problem.
     </p></li></ol></div></div></div><div class="sect2 " id="sec.print.prob.more_information"><div class="titlepage"><div><div><h3 class="title" id="sec.print.prob.more_information"><span class="number">18.8.9 </span><span class="name">For More Information</span> <a title="Permalink" class="permalink" href="cha.print.html#sec.print.prob.more_information">#</a></h3></div></div></div><p>
    In-depth information about printing on SUSE Linux is presented in the
    openSUSE Support Database at <a class="link" href="http://en.opensuse.org/Portal:Printing" target="_blank">http://en.opensuse.org/Portal:Printing</a>. <span class="phrase">Solutions to many specific problems are presented in the
    SUSE Knowledgebase (<a class="link" href="http://www.suse.com/support/" target="_blank">http://www.suse.com/support/</a>). Locate the relevant articles
    with a text search for <code class="literal">CUPS</code>.</span>
   </p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.x11.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 19 </span>The X Window System</span></a><a class="nav-link" href="cha.network.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 17 </span>Basic Networking</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>