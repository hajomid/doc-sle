<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Setting Up a Network Installation Source | Deployment Guide | SUSE Linux Enterprise Desktop 15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><meta name="product-name" content="SUSE Linux Enterprise Desktop" /><meta name="product-number" content="15" /><meta name="book-title" content="Deployment Guide" /><meta name="chapter-title" content="Chapter 8. Setting Up a Network Installation Source" /><meta name="description" content="This chapter describes how to create a server that provides the data required for installing SUSE Linux Enterprise Desktop over the network." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Desktop 15" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Desktop Documentation" /><link rel="up" href="part.installserver.html" title="Part III. Setting Up an Installation Server" /><link rel="prev" href="part.installserver.html" title="Part III. Setting Up an Installation Server" /><link rel="next" href="cha.deployment.prep_pxe.html" title="Chapter 9. Preparing Network Boot Environment" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.sle.deployment.html">Deployment Guide</a><span> › </span><a class="crumb" href="part.installserver.html">Setting Up an Installation Server</a><span> › </span><a class="crumb" href="cha.deployment.instserver.html">Setting Up a Network Installation Source</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Deployment Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface.deployment.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="part.prep.html"><span class="number">I </span><span class="name">Installation Preparation</span></a><ol><li class="inactive"><a href="cha.sled_plan.html"><span class="number">1 </span><span class="name">Planning for SUSE Linux Enterprise Desktop</span></a></li><li class="inactive"><a href="cha.x86.html"><span class="number">2 </span><span class="name">Installation on AMD64 and Intel 64</span></a></li></ol></li><li class="inactive"><a href="part.deployment.html"><span class="number">II </span><span class="name">The Installation Workflow</span></a><ol><li class="inactive"><a href="cha.boot_parameters.html"><span class="number">3 </span><span class="name">Boot Parameters</span></a></li><li class="inactive"><a href="cha.install.html"><span class="number">4 </span><span class="name">Installation with YaST</span></a></li><li class="inactive"><a href="cha.remote_installation.html"><span class="number">5 </span><span class="name">Remote Installation</span></a></li><li class="inactive"><a href="cha.deployment.clone_image.html"><span class="number">6 </span><span class="name">Cloning Disk Images</span></a></li><li class="inactive"><a href="cha.installation_troubleshooting.html"><span class="number">7 </span><span class="name">Troubleshooting</span></a></li></ol></li><li class="inactive"><a href="part.installserver.html"><span class="number">III </span><span class="name">Setting Up an Installation Server</span></a><ol><li class="inactive"><a href="cha.deployment.instserver.html"><span class="number">8 </span><span class="name">Setting Up a Network Installation Source</span></a></li><li class="inactive"><a href="cha.deployment.prep_pxe.html"><span class="number">9 </span><span class="name">Preparing Network Boot Environment</span></a></li></ol></li><li class="inactive"><a href="part.sysconfig.html"><span class="number">IV </span><span class="name">Initial System Configuration</span></a><ol><li class="inactive"><a href="cha.yast.hw.html"><span class="number">10 </span><span class="name">Setting Up Hardware Components with YaST</span></a></li><li class="inactive"><a href="cha.advdisk.html"><span class="number">11 </span><span class="name">Advanced Disk Setup</span></a></li><li class="inactive"><a href="cha.yast.sw.html"><span class="number">12 </span><span class="name">Installing or Removing Software</span></a></li><li class="inactive"><a href="cha.add-ons.html"><span class="number">13 </span><span class="name">Installing Modules, Extensions, and Third Party Add-On Products</span></a></li><li class="inactive"><a href="cha.tuning.multikernel.html"><span class="number">14 </span><span class="name">Installing Multiple Kernel Versions</span></a></li><li class="inactive"><a href="cha.yast.userman.html"><span class="number">15 </span><span class="name">Managing Users with YaST</span></a></li><li class="inactive"><a href="cha.yast.lang.html"><span class="number">16 </span><span class="name">Changing Language and Country Settings with YaST</span></a></li></ol></li><li class="inactive"><a href="app.create-os-image.html"><span class="number">A </span><span class="name">Imaging and Creating Products</span></a></li><li class="inactive"><a href="bk02apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Part III. Setting Up an Installation Server" href="part.installserver.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 9. Preparing Network Boot Environment" href="cha.deployment.prep_pxe.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.sle.deployment.html">Deployment Guide</a><span> › </span><a class="crumb" href="part.installserver.html">Setting Up an Installation Server</a><span> › </span><a class="crumb" href="cha.deployment.instserver.html">Setting Up a Network Installation Source</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Part III. Setting Up an Installation Server" href="part.installserver.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 9. Preparing Network Boot Environment" href="cha.deployment.prep_pxe.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.deployment.instserver"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15</span></span></span></div><div><h2 class="title"><span class="number">8 </span><span class="name">Setting Up a Network Installation Source</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>deployment_installserver.xml</li><li><span class="ds-label">ID: </span>cha.deployment.instserver</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha.deployment.instserver.html#idm140331484378048">#</a></h6></div><p>
    This chapter describes how to create a server that provides the data
    required for installing <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span> over the network.
   </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.deployment.instserver.html#sec.deployment.instserver.sles9"><span class="number">8.1 </span><span class="name">Setting Up an Installation Server Using YaST</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.instserver.html#sec.deployment.instserver.nfs"><span class="number">8.2 </span><span class="name">Setting Up an NFS Repository Manually</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.instserver.html#sec.deployment.instserver.ftp"><span class="number">8.3 </span><span class="name">Setting Up an FTP Repository Manually</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.instserver.html#sec.deployment.instserver.http"><span class="number">8.4 </span><span class="name">Setting Up an HTTP Repository Manually</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.instserver.html#sec.deployment.instserver.smb"><span class="number">8.5 </span><span class="name">Managing an SMB Repository</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.instserver.html#sec.remote_installation.iso"><span class="number">8.6 </span><span class="name">Using ISO Images of the Installation Media on the Server</span></a></span></dt></dl></div></div><p>
  Depending on the operating system of the machine used as the
  network installation source for <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span>, there are several options for
  the server configuration. The easiest way to set up an installation server is
  to use YaST.
 </p><div id="idm140331484372720" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Installation Server Operating System</h6><p>
   You can even use a Microsoft Windows machine as the installation server for
   your Linux deployment. See <a class="xref" href="cha.deployment.instserver.html#sec.deployment.instserver.smb" title="8.5. Managing an SMB Repository">Section 8.5, “Managing an SMB Repository”</a>
   for details.
  </p></div><div class="sect1 " id="sec.deployment.instserver.sles9"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.instserver.sles9"><span class="number">8.1 </span><span class="name">Setting Up an Installation Server Using YaST</span> <a title="Permalink" class="permalink" href="cha.deployment.instserver.html#sec.deployment.instserver.sles9">#</a></h2></div></div></div><p>
   YaST offers a graphical tool for creating network repositories. It
   supports HTTP, FTP, and NFS network installation servers.
  </p><div class="procedure " id="proc.deployment.instserver.sles9"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Log in as <code class="systemitem">root</code> to the machine that should act as installation
     server.
    </p></li><li class="step "><p>
     Start <span class="guimenu">YaST</span> › <span class="guimenu">Miscellaneous</span> › <span class="guimenu">Installation
     Server</span>.
    </p></li><li class="step "><p>
     Select the repository type (HTTP, FTP, or NFS). The selected service is
     started automatically every time the system starts. If a service of the
     selected type is already running on your system and you want to configure
     it manually for the server, deactivate the automatic configuration of the
     server service with <span class="guimenu">Do Not Configure Any Network
     Services</span>. In both cases, define the directory in which the
     installation data should be made available on the server.
    </p></li><li class="step "><p>
     Configure the required repository type. This step relates to the automatic
     configuration of server services. It is skipped when automatic
     configuration is deactivated.
    </p><p>

     Define an alias for the root directory of the FTP or HTTP server on which
     the installation data should be found. The repository will later be
     located under
     <code class="literal">ftp://<em class="replaceable ">Server-IP</em>/<em class="replaceable ">Alias</em>/<em class="replaceable ">Name</em></code>
     (FTP) or under
     <code class="literal">http://<em class="replaceable ">Server-IP</em>/<em class="replaceable ">Alias</em>/<em class="replaceable ">Name</em></code>
     (HTTP). <em class="replaceable ">Name</em> stands for the name of the
     repository, which is defined in the following step. If you selected NFS in
     the previous step, define wild cards and export options. The NFS server
     will be accessible under
     <code class="literal">nfs://<em class="replaceable ">Server-IP</em>/<em class="replaceable ">Name</em></code>.
     Details of NFS and exports can be found in <a class="xref" href="cha.nfs.html" title="Chapter 29. Sharing File Systems with NFS">Chapter 29, <em>Sharing File Systems with NFS</em></a>.
    </p><div id="idm140331484354912" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Firewall Settings</h6><p>
      Make sure that the firewall settings of your server system allow traffic
      on the ports for HTTP, NFS, and FTP. If they currently do not, enable
      <span class="guimenu">Open Port in Firewall</span> or check <span class="guimenu">Firewall
      Details</span> first.
     </p></div></li><li class="step "><p>
     Configure the repository. Before the installation media are copied to
     their destination, define the name of the repository (ideally, an easily
     remembered abbreviation of the product and version). YaST allows
     providing ISO images of the media instead of copies of the installation
     DVDs. If you want this, activate the relevant check box and specify the
     directory path under which the ISO files can be found locally. Depending
     on the product to distribute using this installation server, it might be
     necessary to add additional media, such as service pack DVDs as extra
     repositories. To announce your installation server in the network via
     OpenSLP, activate the appropriate option.
    </p><div id="idm140331484350912" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Announcing the Repository</h6><p>
      Consider announcing your repository via OpenSLP if your network setup
      supports this option. This saves you from entering the network
      installation path on every target machine. The target systems are booted
      using the SLP boot option and find the network repository without any
      further configuration. For details on this option, refer to
      <a class="xref" href="cha.boot_parameters.html" title="Chapter 3. Boot Parameters">Chapter 3, <em>Boot Parameters</em></a>.
     </p></div></li><li class="step "><p>
     Configuring extra repositories. YaST follows a specific naming
     convention to configure add-on CDs or service pack CDs repositories.
     Configuration is accepted only if the repository name of the add-on CDs starts with the repository name of the installation media, In other
     words, if you chose <code class="literal">SLES12SP1</code> as repository name for
     DVD1 than you should chose <code class="literal">SLES12SP1addon</code> repository
     name for DVD2. Same applies to SDK CDs.
    </p></li><li class="step "><p>
     Upload the installation data. The most lengthy step in configuring an
     installation server is copying the actual installation media. Insert the
     media in the sequence requested by YaST and wait for the copying
     procedure to end. When the sources have been fully copied, return to the
     overview of existing repositories and close the configuration by selecting
     <span class="guimenu">Finish</span>.
    </p><p>
     Your installation server is now fully configured and ready for service. It
     is automatically started every time the system is started. No further
     intervention is required. You only need to configure and start this
     service correctly by hand if you have deactivated the automatic
     configuration of the selected network service with YaST as an initial
     step.
    </p></li></ol></div></div><p>
   To deactivate a repository, select the repository to remove then select
   <span class="guimenu">Delete</span>. The installation data are removed from the
   system. To deactivate the network service, use the respective YaST module.
  </p><p>
   If your installation server needs to provide the installation data for more
   than one product of the product version, start the YaST installation
   server module and select <span class="guimenu">Add</span> in the overview of existing
   repositories to configure the new repository.
  </p></div><div class="sect1 " id="sec.deployment.instserver.nfs"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.instserver.nfs"><span class="number">8.2 </span><span class="name">Setting Up an NFS Repository Manually</span> <a title="Permalink" class="permalink" href="cha.deployment.instserver.html#sec.deployment.instserver.nfs">#</a></h2></div></div></div><div id="idm140331484340032" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important</h6><p>
    This assumes that you are using some kind of SUSE Linux-based operating
    system on the machine that will serve as installation server. If this is
    not the case, turn to the other vendor's documentation on NFS instead of
    following these instructions.
   </p></div><p>
   Setting up an NFS source for installation is done in two main steps. In the
   first step, create the directory structure holding the installation data and
   copy the installation media over to this structure. Second, export the
   directory holding the installation data to the network.
  </p><div class="procedure " id="proc.deployment.instserver.nfs.cdir"><div class="procedure-contents"><p>
    To create a directory to hold the installation data, proceed as follows:
   </p><ol class="procedure" type="1"><li class="step "><p>
     Log in as <code class="systemitem">root</code>.
    </p></li><li class="step "><p>
     Create a directory that will later hold all installation data and change
     into this directory. For example:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>mkdir /srv/install/<em class="replaceable ">PRODUCT</em>/<em class="replaceable ">PRODUCTVERSION</em>
<code class="prompt root">root # </code>cd /srv/install/<em class="replaceable ">PRODUCT</em>/<em class="replaceable ">PRODUCTVERSION</em></pre></div><p>
     Replace <em class="replaceable ">PRODUCT</em> with an abbreviation of the
     product name and <em class="replaceable ">PRODUCTVERSION</em> with a string
     that contains the product name and version.
    </p></li><li class="step "><p>
     For each DVD contained in the media kit execute the following commands:
    </p><ol type="a" class="substeps "><li class="step "><p>
       Copy the entire content of the installation DVD into the installation
       server directory:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>cp -a /media/<em class="replaceable ">PATH_TO_YOUR_DVD_DRIVE</em> .</pre></div><p>
       Replace <em class="replaceable ">PATH_TO_YOUR_DVD_DRIVE</em> with the
       actual path under which your DVD drive is addressed. Depending on the
       type of drive used in your system, this can be
       <code class="filename">cdrom</code>, <code class="filename">cdrecorder</code>,
       <code class="filename">dvd</code>, or <code class="filename">dvdrecorder</code>.
      </p></li><li class="step "><p>
       Rename the directory to the DVD number:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>mv <em class="replaceable ">PATH_TO_YOUR_DVD_DRIVE</em> DVD<em class="replaceable ">X</em></pre></div><p>
       Replace <em class="replaceable ">X</em> with the actual number of your DVD.
      </p></li></ol></li></ol></div></div><div class="procedure " id="proc.deployment.instserver.nfs.export"><div class="procedure-contents"><p>
    On <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span>, you can export the repository with NFS using YaST.
    Proceed as follows:
   </p><ol class="procedure" type="1"><li class="step "><p>
     Log in as <code class="systemitem">root</code>.
    </p></li><li class="step "><p>
     Start <span class="guimenu">YaST</span> › <span class="guimenu">Network
     Services</span> › <span class="guimenu">NFS Server</span>.
    </p></li><li class="step "><p>
     Select <span class="guimenu">Start</span> and <span class="guimenu">Open Port in
     Firewall</span> and click <span class="guimenu">Next</span>.
    </p></li><li class="step "><p>
     Select <span class="guimenu">Add Directory</span> and browse for the directory
     containing the installation sources, in this case,
     <code class="filename"><em class="replaceable ">PRODUCTVERSION</em></code>.
    </p></li><li class="step "><p>
     Select <span class="guimenu">Add Host</span> and enter the host names of the
     machines to which to export the installation data. Instead of specifying
     host names here, you could also use wild cards, ranges of network
     addresses, or the domain name of your network. Enter the appropriate
     export options or leave the default, which works fine in most setups. For
     more information about the syntax used in exporting NFS shares, read the
     <code class="systemitem">exports</code> man page.
    </p></li><li class="step "><p>
     Click <span class="guimenu">Finish</span>. The NFS server holding the <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span>
     repository is automatically started and integrated into the boot process.
    </p></li></ol></div></div><div class="procedure " id="proc.deployment.instserver.nfs.exportman"><div class="procedure-contents"><p>
    If you prefer manually exporting the repository via NFS instead of using
    the YaST NFS Server module, proceed as follows:
   </p><ol class="procedure" type="1"><li class="step "><p>
     Log in as <code class="systemitem">root</code>.
    </p></li><li class="step "><p>
     Open the file <code class="filename">/etc/exports</code> and enter the following
     line:
    </p><div class="verbatim-wrap"><pre class="screen">/<em class="replaceable ">PRODUCTVERSION</em> *(ro,root_squash,sync)</pre></div><p>
     This exports the directory
     <code class="filename">/<em class="replaceable ">PRODUCTVERSION</em></code> to any
     host that is part of this network or to any host that can connect to this
     server. To limit the access to this server, use netmasks or domain names
     instead of the general wild card <code class="literal">*</code>. Refer to the
     <code class="systemitem">export</code> man page for details. Save and exit this
     configuration file.
    </p></li><li class="step "><p>
     To add the NFS service to the list of servers started during system boot,
     execute the following commands:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>systemctl enable nfsserver</pre></div></li><li class="step "><p>
     Start the NFS server with <code class="command">systemctl start nfsserver</code>. If
     you need to change the configuration of your NFS server later, modify the
     configuration file and restart the NFS daemon with <code class="command">systemctl
     restart nfsserver</code>.
    </p></li></ol></div></div><div class="procedure " id="proc.deployment.instserver.nfs.slpann"><div class="procedure-contents"><p>
    Announcing the NFS server via OpenSLP makes its address known to all
    clients in your network.
   </p><ol class="procedure" type="1"><li class="step "><p>
     Log in as <code class="systemitem">root</code>.
    </p></li><li class="step "><p>
     Create the <code class="filename">/etc/slp.reg.d/install.suse.nfs.reg</code>
     configuration file with the following lines:
    </p><div class="verbatim-wrap"><pre class="screen"># Register the NFS Installation Server
service:install.suse:nfs://$HOSTNAME/<em class="replaceable ">PATH_TO_REPOSITORY</em>/DVD1,en,65535
description=NFS Repository</pre></div><p>
     Replace <em class="replaceable ">PATH_TO_REPOSITORY</em> with the actual path
     to the installation source on your server.
    </p></li><li class="step "><p>
     Start the OpenSLP daemon with <code class="command">systemctl start slpd</code>.
    </p></li></ol></div></div></div><div class="sect1 " id="sec.deployment.instserver.ftp"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.instserver.ftp"><span class="number">8.3 </span><span class="name">Setting Up an FTP Repository Manually</span> <a title="Permalink" class="permalink" href="cha.deployment.instserver.html#sec.deployment.instserver.ftp">#</a></h2></div></div></div><p>
   Creating an FTP repository is very similar to creating an NFS repository. An
   FTP repository can be announced over the network using OpenSLP as well.
  </p><div class="procedure " id="proc.deployment.instserver.ftp"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Create a directory holding the installation sources as described in
     <a class="xref" href="cha.deployment.instserver.html#sec.deployment.instserver.nfs" title="8.2. Setting Up an NFS Repository Manually">Section 8.2, “Setting Up an NFS Repository Manually”</a>.
    </p></li><li class="step "><p>
     Configure the FTP server to distribute the contents of your installation
     directory:
    </p><ol type="a" class="substeps "><li class="step "><p>
       Log in as <code class="systemitem">root</code> and install the package
       <code class="systemitem">vsftpd</code> using the YaST software management.
      </p></li><li class="step "><p>
       Enter the FTP server root directory:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>cd <code class="option">/srv/ftp</code></pre></div></li><li class="step "><p>
       Create a subdirectory holding the installation sources in the FTP root
       directory:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>mkdir <em class="replaceable ">REPOSITORY</em></pre></div><p>
       Replace <em class="replaceable ">REPOSITORY</em> with the product name.
      </p></li><li class="step "><p>
       Mount the contents of the installation repository into the change root
       environment of the FTP server:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>mount --bind <em class="replaceable ">PATH_TO_REPOSITORY</em> /srv/ftp/<em class="replaceable ">REPOSITORY</em></pre></div><p>
       Replace <em class="replaceable ">PATH_TO_REPOSITORY</em> and
       <em class="replaceable ">REPOSITORY</em> with values matching your setup.
       If you need to make this permanent, add it to
       <code class="filename">/etc/fstab</code>.
      </p></li><li class="step "><p>
       Start vsftpd with <code class="command">vsftpd</code>.
      </p></li></ol></li><li class="step "><p>
     Announce the repository via OpenSLP, if this is supported by your network
     setup:
    </p><ol type="a" class="substeps "><li class="step "><p>
       Create the <code class="filename">/etc/slp.reg.d/install.suse.ftp.reg</code>
       configuration file with the following lines:
      </p><div class="verbatim-wrap"><pre class="screen"># Register the FTP Installation Server
service:install.suse:ftp://$HOSTNAME/<em class="replaceable ">REPOSITORY</em>/DVD1,en,65535
description=FTP Repository</pre></div><p>
       Replace <em class="replaceable ">REPOSITORY</em> with the actual name to
       the repository directory on your server. The <code class="literal">service:</code>
       line should be entered as one continuous line.
      </p></li><li class="step "><p>
       Start the OpenSLP daemon with <code class="command">systemctl start slpd</code>.
      </p></li></ol></li></ol></div></div></div><div class="sect1 " id="sec.deployment.instserver.http"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.instserver.http"><span class="number">8.4 </span><span class="name">Setting Up an HTTP Repository Manually</span> <a title="Permalink" class="permalink" href="cha.deployment.instserver.html#sec.deployment.instserver.http">#</a></h2></div></div></div><p>
   Creating an HTTP repository is very similar to creating an NFS repository.
   An HTTP repository can be announced over the network using OpenSLP as well.
  </p><div class="procedure " id="proc.deployment.instserver.http"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Create a directory holding the installation sources as described in
     <a class="xref" href="cha.deployment.instserver.html#sec.deployment.instserver.nfs" title="8.2. Setting Up an NFS Repository Manually">Section 8.2, “Setting Up an NFS Repository Manually”</a>.
    </p></li><li class="step "><p>
     Configure the HTTP server to distribute the contents of your installation
     directory:
    </p><ol type="a" class="substeps "><li class="step "><p>
       <span class="phrase">Install
       the Web server Apache</span>.
      </p></li><li class="step "><p>
       Enter the root directory of the HTTP server
       (<code class="filename">/srv/www/htdocs</code>) and create the subdirectory that
       will hold the installation sources:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>mkdir <em class="replaceable ">REPOSITORY</em></pre></div><p>
       Replace <em class="replaceable ">REPOSITORY</em> with the product name.
      </p></li><li class="step "><p>
       Create a symbolic link from the location of the installation sources to
       the root directory of the Web server
       (<code class="filename">/srv/www/htdocs</code>):
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>ln -s <em class="replaceable ">/PATH_TO_REPOSITORY</em>/srv/www/htdocs/<em class="replaceable ">REPOSITORY</em></pre></div></li><li class="step "><p>
       Modify the configuration file of the HTTP server
       (<code class="filename">/etc/apache2/default-server.conf</code>) to make it
       follow symbolic links. Replace the following line:
      </p><div class="verbatim-wrap"><pre class="screen">Options None</pre></div><p>
       with
      </p><div class="verbatim-wrap"><pre class="screen">Options Indexes FollowSymLinks</pre></div></li><li class="step "><p>
       Reload the HTTP server configuration using <code class="command">systemctl reload
       apache2</code>.
      </p></li></ol></li><li class="step "><p>
     Announce the repository via OpenSLP, if this is supported by your network
     setup:
    </p><ol type="a" class="substeps "><li class="step "><p>
       Create the <code class="filename">/etc/slp.reg.d/install.suse.http.reg</code>
       configuration file with the following lines:
      </p><div class="verbatim-wrap"><pre class="screen"># Register the HTTP Installation Server
service:install.suse:http://$HOSTNAME/<em class="replaceable ">REPOSITORY</em>/DVD1/,en,65535
description=HTTP Repository</pre></div><p>
       Replace <em class="replaceable ">REPOSITORY</em> with the actual path to
       the repository on your server. The <code class="literal">service:</code> line
       should be entered as one continuous line.
      </p></li><li class="step "><p>
       Start the OpenSLP daemon using <code class="command">systemctl start slpd</code>.
      </p></li></ol></li></ol></div></div></div><div class="sect1 " id="sec.deployment.instserver.smb"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.instserver.smb"><span class="number">8.5 </span><span class="name">Managing an SMB Repository</span> <a title="Permalink" class="permalink" href="cha.deployment.instserver.html#sec.deployment.instserver.smb">#</a></h2></div></div></div><p>
   Using SMB, you can import the installation sources from a Microsoft Windows
   server and start your Linux deployment even with no Linux machine around.
  </p><div class="procedure " id="proc.deployment.instserver.smb.export"><div class="procedure-contents"><p>
    To set up an exported Windows Share holding your <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span> repository,
    proceed as follows:
   </p><ol class="procedure" type="1"><li class="step "><p>
     Log in to your Windows machine.
    </p></li><li class="step "><p>
     Create a new directory that will hold the entire installation tree and
     name it <code class="filename">INSTALL</code>, for example.
    </p></li><li class="step "><p>
     Export this share according the procedure outlined in your Windows
     documentation.
    </p></li><li class="step "><p>
     Enter this share and create a subdirectory, called
     <code class="filename"><em class="replaceable ">PRODUCT</em></code>. Replace
     <em class="replaceable ">PRODUCT</em> with the actual product name.
    </p></li><li class="step "><p>
     Enter the <code class="filename">INSTALL/<em class="replaceable ">PRODUCT</em></code>
     directory and copy each DVD to a separate directory, such as
     <code class="literal">DVD1</code> and <code class="literal">DVD2</code>.
    </p></li></ol></div></div><p>
   To use an SMB mounted share as a repository, proceed as follows:
  </p><div class="procedure " id="proc.deployment.instserver.smb.use"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Boot the installation target.
    </p></li><li class="step "><p>
     Select <span class="guimenu">Installation</span>.
    </p></li><li class="step "><p>
     Press <span class="keycap">F4</span> for a selection of the repository.
    </p></li><li class="step "><p>
     Choose SMB and enter the Windows machine's name or IP address, the share
     name
     (<code class="filename">INSTALL/<em class="replaceable ">PRODUCT</em>/DVD1</code>, in
     this example), user name, and password. The syntax looks like this:
    </p><div class="verbatim-wrap"><pre class="screen">smb://workdomain;user:password@server/INSTALL/DVD1</pre></div><p>
     After you press <span class="keycap">Enter</span>, YaST starts and you can
     perform the installation.
    </p></li></ol></div></div></div><div class="sect1 " id="sec.remote_installation.iso"><div class="titlepage"><div><div><h2 class="title" id="sec.remote_installation.iso"><span class="number">8.6 </span><span class="name">Using ISO Images of the Installation Media on the Server</span> <a title="Permalink" class="permalink" href="cha.deployment.instserver.html#sec.remote_installation.iso">#</a></h2></div></div></div><p>
   Instead of copying physical media into your server directory manually, you
   can also mount the ISO images of the installation media into your
   installation server and use them as a repository. To set up an HTTP, NFS or
   FTP server that uses ISO images instead of media copies, proceed as follows:
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Download the ISO images and save them to the machine to use as the
     installation server.
    </p></li><li class="step "><p>
     Log in as <code class="systemitem">root</code>.
    </p></li><li class="step "><p>
     Choose and create an appropriate location for the installation data, as
     described in <a class="xref" href="cha.deployment.instserver.html#sec.deployment.instserver.nfs" title="8.2. Setting Up an NFS Repository Manually">Section 8.2, “Setting Up an NFS Repository Manually”</a>,
     <a class="xref" href="cha.deployment.instserver.html#sec.deployment.instserver.ftp" title="8.3. Setting Up an FTP Repository Manually">Section 8.3, “Setting Up an FTP Repository Manually”</a>, or
     <a class="xref" href="cha.deployment.instserver.html#sec.deployment.instserver.http" title="8.4. Setting Up an HTTP Repository Manually">Section 8.4, “Setting Up an HTTP Repository Manually”</a>.
    </p></li><li class="step "><p>
     Create subdirectories for each DVD.
    </p></li><li class="step "><p>
     To mount and unpack each ISO image to the final location, issue the
     following command:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code>mount -o loop <em class="replaceable ">PATH_TO_ISO</em> <em class="replaceable ">PATH_TO_REPOSITORY</em>/<em class="replaceable ">PRODUCT</em>/<em class="replaceable ">MEDIUMX</em></pre></div><p>
     Replace <em class="replaceable ">PATH_TO_ISO</em> with the path to your local
     copy of the ISO image, <em class="replaceable ">PATH_TO_REPOSITORY</em> with
     the source directory of your server, <em class="replaceable ">PRODUCT</em>
     with the product name, and <em class="replaceable ">MEDIUMX</em> with the
     type (CD or DVD) and number of media you are using.
    </p></li><li class="step "><p>
     Repeat the previous step to mount all ISO images needed for your product.
    </p></li><li class="step "><p>
     Start your installation server as usual, as described in
     <a class="xref" href="cha.deployment.instserver.html#sec.deployment.instserver.nfs" title="8.2. Setting Up an NFS Repository Manually">Section 8.2, “Setting Up an NFS Repository Manually”</a>,
     <a class="xref" href="cha.deployment.instserver.html#sec.deployment.instserver.ftp" title="8.3. Setting Up an FTP Repository Manually">Section 8.3, “Setting Up an FTP Repository Manually”</a>, or
     <a class="xref" href="cha.deployment.instserver.html#sec.deployment.instserver.http" title="8.4. Setting Up an HTTP Repository Manually">Section 8.4, “Setting Up an HTTP Repository Manually”</a>.
    </p></li></ol></div></div><p>
   To automatically mount the ISO images at boot time, add the respective mount
   entries to <code class="filename">/etc/fstab</code>. An entry according to the
   previous example would look like the following:
  </p><div class="verbatim-wrap"><pre class="screen"><em class="replaceable ">PATH_TO_ISO</em> <em class="replaceable ">PATH_TO_REPOSITORY</em>/<em class="replaceable ">PRODUCT</em><em class="replaceable ">MEDIUM</em> auto loop</pre></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.deployment.prep_pxe.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 9 </span>Preparing Network Boot Environment</span></a><a class="nav-link" href="part.installserver.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Part III </span>Setting Up an Installation Server</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>