<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configuration and Installation Options | AutoYaST | openSUSE Leap 42.3</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><link rel="stylesheet" type="text/css" href="static/css/brand.css" /><meta name="generator" content="DAPS 2.4.0 using openSUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="openSUSE Leap" /><meta name="product-number" content="42.3" /><meta name="book-title" content="AutoYaST" /><meta name="chapter-title" content="Chapter 4. Configuration and Installation Options" /><meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="openSUSE Distribution" /><meta name="tracker-bsc-version" content="Leap 42.2" /><link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="book.autoyast.html" title="AutoYaST" /><link rel="prev" href="CreateProfile.html" title="Chapter 3. Creating A Control File" /><link rel="next" href="rulesandclass.html" title="Chapter 5. Rules and Classes" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="openSUSE Leap Documentation"><span class="book-icon">openSUSE Leap Documentation</span></a><span> › </span><a class="crumb" href="book.autoyast.html">AutoYaST</a><span> › </span><a class="crumb" href="configuration.html">Configuration and Installation Options</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>AutoYaST</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="introduction.html"><span class="number">1 </span><span class="name">Introduction</span></a></li><li class="inactive"><a href="Profile.html"><span class="number">2 </span><span class="name">The Control File</span></a></li><li class="inactive"><a href="CreateProfile.html"><span class="number">3 </span><span class="name">Creating A Control File</span></a></li><li class="inactive"><a href="configuration.html"><span class="number">4 </span><span class="name">Configuration and Installation Options</span></a></li><li class="inactive"><a href="rulesandclass.html"><span class="number">5 </span><span class="name">Rules and Classes</span></a></li><li class="inactive"><a href="Invoking.html"><span class="number">6 </span><span class="name">The Auto-Installation Process</span></a></li><li class="inactive"><a href="InstalledSystem.html"><span class="number">7 </span><span class="name">Running AutoYaST in an Installed System</span></a></li><li class="inactive"><a href="handlingrules.html"><span class="number">A </span><span class="name">Handling Rules</span></a></li><li class="inactive"><a href="app.ay.faq.html"><span class="number">B </span><span class="name">AutoYaST FAQ - Frequently Asked Questions</span></a></li><li class="inactive"><a href="appendix.linuxrc.html"><span class="number">C </span><span class="name">Advanced Linuxrc Options</span></a></li><li class="inactive"><a href="bk07apd.html"><span class="number">D </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 3. Creating A Control File" href="CreateProfile.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 5. Rules and Classes" href="rulesandclass.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="openSUSE Leap Documentation"><span class="book-icon">openSUSE Leap Documentation</span></a><span> › </span><a class="crumb" href="book.autoyast.html">AutoYaST</a><span> › </span><a class="crumb" href="configuration.html">Configuration and Installation Options</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 3. Creating A Control File" href="CreateProfile.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 5. Rules and Classes" href="rulesandclass.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="configuration"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">42.3</span></span></span></div><div><h1 class="title"><span class="number">4 </span><span class="name">Configuration and Installation Options</span> </h1></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="configuration.html#CreateProfile.General"><span class="number">4.1 </span><span class="name">General Options</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Reporting"><span class="number">4.2 </span><span class="name">Reporting</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Bootloader"><span class="number">4.3 </span><span class="name">The Boot Loader</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Partitioning"><span class="number">4.4 </span><span class="name">Partitioning</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Iscsi_client"><span class="number">4.5 </span><span class="name">iSCSI Initiator Overview</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.fcoe_client"><span class="number">4.6 </span><span class="name">Fibre Channel over Ethernet Configuration (FCoE)</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Country"><span class="number">4.7 </span><span class="name">Country Settings</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Software"><span class="number">4.8 </span><span class="name">Software</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.upgrade"><span class="number">4.9 </span><span class="name">Upgrade</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Services"><span class="number">4.10 </span><span class="name">Services and Targets</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Network"><span class="number">4.11 </span><span class="name">Network Configuration</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.NIS"><span class="number">4.12 </span><span class="name">NIS Client</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.NIS_Server"><span class="number">4.13 </span><span class="name">NIS Server</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.Ldap"><span class="number">4.14 </span><span class="name">LDAP Server (Authentication Server)</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.Samba_client"><span class="number">4.15 </span><span class="name">Windows Domain Membership</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.Samba_server"><span class="number">4.16 </span><span class="name">Samba Server</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.Auth"><span class="number">4.17 </span><span class="name">Authentication Client</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#ay.nfs"><span class="number">4.18 </span><span class="name">NFS Client and Server</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.Ntp"><span class="number">4.19 </span><span class="name">NTP Client</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.Sendmail"><span class="number">4.20 </span><span class="name">Mail Configuration</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.apache"><span class="number">4.21 </span><span class="name">HTTP Server Configuration</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.Squid"><span class="number">4.22 </span><span class="name">Squid Server</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.Ftp"><span class="number">4.23 </span><span class="name">FTP Server</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Network.Tftp"><span class="number">4.24 </span><span class="name">TFTP Server</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Firstboot"><span class="number">4.25 </span><span class="name">Firstboot Workflow</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Security"><span class="number">4.26 </span><span class="name">Security Settings</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Security.laf"><span class="number">4.27 </span><span class="name">Linux Audit Framework (LAF)</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#Configuration.Security.users_and_groups"><span class="number">4.28 </span><span class="name">Users and Groups</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#createprofile.scripts"><span class="number">4.29 </span><span class="name">Custom User Scripts</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#createprofile.sysconfig"><span class="number">4.30 </span><span class="name">System Variables (Sysconfig)</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#createprofile.completeconf"><span class="number">4.31 </span><span class="name">Adding Complete Configurations</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Ask"><span class="number">4.32 </span><span class="name">Ask the User for Values during Installation</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.kdump"><span class="number">4.33 </span><span class="name">Kernel Dumps</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.dns-server"><span class="number">4.34 </span><span class="name">DNS Server</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.dhcp-server"><span class="number">4.35 </span><span class="name">DHCP Server</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.firewall"><span class="number">4.36 </span><span class="name">Firewall Configuration</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.Hardware"><span class="number">4.37 </span><span class="name">Miscellaneous Hardware and System Components</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.SSHKeysAndConfig"><span class="number">4.38 </span><span class="name">Importing SSH Keys and Configuration</span></a></span></dt><dt><span class="sect1"><a href="configuration.html#CreateProfile.ConfigurationManagement"><span class="number">4.39 </span><span class="name">Configuration Management</span></a></span></dt></dl></div></div><p>
   This chapter introduces important parts of a control file for standard
   purposes. To learn about other available options, use the configuration
   management system.
  </p><p>
   Note that for some configuration options to work, additional packages
   need to be installed, depending on the software selection you have
   configured. If you choose to install a minimal system then some packages
   might be missing and need to be added to the individual package
   selection.
  </p><p>
   YaST will install packages required in the second phase of the
   installation and before the post-installation phase of AutoYaST has
   started. However, if necessary YaST modules are not available in the
   system, important configuration steps will be skipped. For example, no
   security settings will be configured if
   <code class="systemitem">yast2-security</code> is not
   installed.
  </p><div class="sect1 " id="CreateProfile.General"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.General"><span class="number">4.1 </span><span class="name">General Options</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.General">#</a></h2></div></div></div><p>
    General options include all the settings related to the installation
    process and the environment of the installed system.
   </p><p>
    The mode section configures the behavior of AutoYaST with regard to
    confirmation and rebooting. The following needs to be in the
    &lt;general&gt;&lt;mode&gt; section.
   </p><p>
    By default, the user must confirm the auto-installation process. This
    option allows the user to view and change the settings for a target
    system before they are committed and can be used for debugging.
    <code class="literal">confirm</code> is set to <code class="literal">true</code> by default
    to avoid recursive installs when the system schedules a reboot after
    initial system setup. Only disable confirmation if you want to carry out
    a fully unattended installation.
   </p><p>
    With <code class="literal">halt</code> you cause AutoYaST to shut down the machine
    after all packages have been installed. Instead of a reboot into stage
    two, the machine is turned off. The boot loader is already installed and
    all your chroot scripts have run.
   </p><p>
    <code class="literal">final_halt</code> and <code class="literal">final_reboot</code> halts
    or reboots the machine after the installation and the configuration are
    finished at the end of stage 2.
   </p><p>
    <code class="literal">final_restart_services</code>: After installation and
    configuration are finished at the end of stage 2 all services will be
    restarted by default. With this flag set to <code class="literal">false</code> no
    restart will be done.
   </p><p>
    <code class="literal">activate_systemd_default_target</code>: After installation and
    configuration are finished at the end of stage 2 the default target system
    will be activated.
   </p><p>
    <code class="literal">ntp_sync_time_before_installation</code> specifies the NTP
    server with which the system time needs to be synchronized before starting
    the installation on the target system. It will not be synchronized if this
    flag has not been used. Keep in mind that you need a reachable NTP
    server and network connections while running the installation.
   </p><p>
    <code class="literal">max_systemd_wait</code> specifies how long AutoYaST waits at
    most for systemd to set up the default target. Normally you do not need
    to bother with this entry. If it is not preset, a reasonable default (30
    seconds) is used.
   </p><p>
    Some openSUSE versions use the kexec feature and do not reboot
    anymore between stage 1 and stage 2. With the <code class="literal">forceboot</code>
    option you can force the reboot in case you need it for some reason. The
    value <code class="literal">true</code> will reboot, <code class="literal">false</code> will
    not reboot and a missing <code class="literal">forceboot</code> option uses the
    product's default.
   </p><div id="idm139679521571824" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Drivers May Need a Reboot</h6><p>
     
     Some drivers, for example the proprietary drivers for Nvidia and ATI
     graphics cards, need a reboot and will not work properly when using
     kexec. Therefore the default on <span class="productname"><span class="phrase">openSUSE Leap</span></span> products is to always do a
     proper reboot.
    </p></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
        <p>
         Attribute
        </p>
       </th><th>
        <p>
         Values
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         <code class="literal">confirm</code>
        </p>
       </td><td>
        <p>
         If this boolean is set to <code class="literal">true</code>, the installation
         stops at the confirmation screen (also called proposal screen) and
         needs to be confirmed with the <span class="guimenu">Install</span> button.
        </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;confirm config:type="boolean"&gt;
  true
&lt;/confirm&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">true</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">halt</code>
        </p>
       </td><td>
        <p>
         Shuts down the machine after the first stage. So if you turn it on
         again, the machine boots and the second stage of the
         autoinstallation starts.
        </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;halt config:type="boolean"&gt;
  true
&lt;/halt&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">false</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">second_stage</code>
        </p>
       </td><td>
        <p>
         This boolean determines if AutoYaST will run in the second stage too
         (after the partitioning, software and boot loader installation of
         the first stage). If you set this to <code class="literal">false</code>, a
         normal manual installation happens in the second stage.
        </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;second_stage config:type="boolean"&gt;
  true
&lt;/second_stage&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">true</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">final_reboot</code>
        </p>
       </td><td>
        <p>
         If you set this to <code class="literal">true</code>, the machine will reboot
         at the very end of the installation (when everything is installed
         and configured at the end of the second stage).
        </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;final_reboot config:type="boolean"&gt;
  true
&lt;/final_reboot&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">false</code>. It makes no
         sense to set this and <code class="literal">final_halt</code> to
         <code class="literal">true</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">final_halt</code>
        </p>
       </td><td>
        <p>
         If you set this to <code class="literal">true</code>, the machine will shut
         down at the very end of the installation (when everything is
         installed and configured at the end of the second stage).
        </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;final_halt config:type="boolean"&gt;
  true
&lt;/final_halt&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">false</code>. It makes no
         sense to set this and <code class="literal">final_reboot</code> to
         <code class="literal">true</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">confirm_base_product_license</code>
        </p>
       </td><td>
        <p>
         If you set this to <code class="literal">true</code>, the EULA
         of the base product will be shown. The user needs to accept this
         license. Otherwise the installation will be canceled.
        </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;confirm_base_product_license config:type="boolean"&gt;
  true
&lt;/confirm_base_product_license&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">false</code>. This applies to
         the base product license only. Use the flag
         <code class="literal">confirm_license</code> in the <code class="literal">add-on</code>
         section to show additional licenses.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">final_restart_services</code>
        </p>
       </td><td>
        <p>
         If you set this entry to <code class="literal">false</code>, all services will
         <span class="emphasis"><em>not</em></span> be restarted at the very end of the
         installation (when everything is installed and configured at the end
         of the second stage).
        </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;final_restart_services config:type="boolean"&gt;
  false
&lt;/final_restart_services&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">true</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">activate_systemd_default_target</code>
        </p>
       </td><td>
        <p>
         If you set this entry to <code class="literal">false</code>, the default target
         will not be activated via the call <code class="command">systemctl
         isolate</code>.
        </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;activate_systemd_default_target config:type="boolean"&gt;
  false
&lt;/activate_systemd_default_target&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">true</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">forceboot</code>
        </p>
       </td><td>
        <p>
         Some openSUSE releases use kexec to avoid the reboot after the
         first stage. They immediately boot into the installed system. You
         can force a reboot with this:
        </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;forceboot config:type="boolean"&gt;
  true
&lt;/forceboot&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">false</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">self_update</code>
        </p>
       </td><td>
        <p>
         This option allows to enable (set to <code class="literal">true</code>)
         or disable (set to <code class="literal">false</code> the self-update.
         Check out <span class="intraxref">Book “<em class="citetitle ">Start-Up</em>”, Chapter 3 “Installation Steps”, Section 3.2 “Installer Self-Update”</span> to find further
         information about this feature.
         </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;self_update config:type="boolean"&gt;
  false
&lt;self_update/&gt;</pre></div>
        <p>
         Alternatively, you can specify the boot parameter
         <code class="literal">self_update</code> on the kernel command line.
        </p>
       </td><td>
        <p>Optional. The default is <code class="literal">true</code>.</p>
       </td></tr><tr><td>
        <p>
         <code class="literal">self_update_url</code>
        </p>
       </td><td>
        <p>
         Location of the update repository to use during YaST self-update.
         Check out the <em class="citetitle ">Deployment Guide</em> to find further information about this feature.
         </p>
         <div id="idm139679551188656" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Installer Self-Update Repository Only</h6><p>
           The <code class="option">self_update_url</code> parameter expects only the
           installer self-update repository URL.  Do not supply any other
           repository URL—for example the URL of the software update
           repository.
         </p></div>
        <div class="verbatim-wrap"><pre class="screen">&lt;self_update_url&gt;
  http://example.com/updates/$arch
&lt;/self_update_url&gt;</pre></div>
        <p>
         Alternatively, you can specify the boot parameter
         <code class="literal">self_update</code> on the kernel command line.
        </p>
        <p>
         The URL can contain a variable <code class="envar">$arch</code> that will be
         replaced by the system's architecture, such as
         <code class="literal">x86_64</code>, <code class="literal">s390x</code>, etc.
        </p>
        <p>
         Use the boot parameter <code class="literal">self_update=1</code> to
         enable the YaST self-update.
        </p>
       </td><td class="auto-generated"> </td></tr></tbody></table></div><p>
    AutoYaST allows you to configure the proposal screen with the
    &lt;proposals config:type="list"&gt; option in the control file.
    All proposals that are listed in that section are shown in the proposal
    screen if you set the <code class="literal">confirm</code> option to
    <code class="literal">true</code>. Proposals are also used during the regular
    installation and can be found in the file
    <code class="filename">control.xml</code> in the root directory of the
    installation media.
   </p><div class="example" id="idm139679520052064"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.1: </span><span class="name">General Options </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520052064">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;general&gt;
  &lt;signature-handling&gt;
    &lt;accept_unsigned_file config:type="boolean"&gt;true&lt;/accept_unsigned_file&gt;
    &lt;accept_file_without_checksum config:type="boolean"&gt;true&lt;/accept_file_without_checksum&gt;
    &lt;accept_verification_failed config:type="boolean"&gt;true&lt;/accept_verification_failed&gt;
    &lt;accept_unknown_gpg_key config:type="boolean"&gt;true&lt;/accept_unknown_gpg_key&gt;
    &lt;import_gpg_key config:type="boolean"&gt;true&lt;/import_gpg_key&gt;
    &lt;accept_non_trusted_gpg_key config:type="boolean"&gt;true&lt;/accept_non_trusted_gpg_key&gt;
    &lt;/signature-handling&gt;
    &lt;cio_ignore config:type="boolean"&gt;false&lt;/cio_ignore&gt;       &lt;! -- IBM Z only --&gt;
  &lt;mode&gt;
    &lt;halt config:type="boolean"&gt;false&lt;/halt&gt;
    &lt;forceboot config:type="boolean"&gt;false&lt;/forceboot&gt;
    &lt;final_reboot config:type="boolean"&gt;false&lt;/final_reboot&gt;
    &lt;final_halt config:type="boolean"&gt;false&lt;/final_halt&gt;
    &lt;confirm_base_product_license config:type="boolean"&gt;false&lt;/confirm_base_product_license&gt;
    &lt;confirm config:type="boolean"&gt;true&lt;/confirm&gt;
    &lt;second_stage config:type="boolean"&gt;true&lt;/second_stage&gt;
  &lt;/mode&gt;
  &lt;self_update_url&gt;http://example.com/updates/$arch&lt;self_update_url/&gt;
  &lt;proposals config:type="list"&gt;
    &lt;proposal&gt;partitions_proposal&lt;/proposal&gt;
  &lt;/proposals&gt;
  &lt;wait&gt;
    &lt;pre-modules config:type="list"&gt;
      &lt;module&gt;
        &lt;name&gt;networking&lt;/name&gt;
        &lt;sleep&gt;
          &lt;time config:type="integer"&gt;10&lt;/time&gt;
          &lt;feedback config:type="boolean"&gt;true&lt;/feedback&gt;
        &lt;/sleep&gt;
        &lt;script&gt;
          &lt;source&gt;sleep 5&lt;/source&gt;
          &lt;debug config:type="boolean"&gt;false&lt;/debug&gt;
        &lt;/script&gt;
      &lt;/module&gt;
    &lt;/pre-modules&gt;
    &lt;post-modules config:type="list"&gt;
      &lt;module&gt;
        &lt;name&gt;networking&lt;/name&gt;
        &lt;sleep&gt;
          &lt;time config:type="integer"&gt;3&lt;/time&gt;
          &lt;feedback config:type="boolean"&gt;true&lt;/feedback&gt;
        &lt;/sleep&gt;
        &lt;script&gt;
          &lt;source&gt;sleep 7&lt;/source&gt;
          &lt;debug config:type="boolean"&gt;false&lt;/debug&gt;
        &lt;/script&gt;
      &lt;/module&gt;
    &lt;/post-modules&gt;
  &lt;/wait&gt;
&lt;/general&gt;</pre></div></div></div><p>
    You can let AutoYaST <code class="command">sleep</code> before and after each
    module run during the second stage. You can run scripts and/or pass a
    value (in seconds) for AutoYaST to sleep. In the example above AutoYaST
    will sleep for 15 seconds (10+5) before the network configuration starts
    and 10 seconds (3+7) after the network configuration is done. The
    scripts in the example do not really make a lot of sense because you
    could pass that value as <span class="quote">“<span class="quote">time</span>”</span> value too. They are only
    used to show how scripts in the wait section work now.
   </p><p>
    To blacklist devices, use the flag <code class="literal">cio_ignore</code>.
    This option is available on IBM Z <span class="emphasis"><em>only</em></span>.
   </p><div id="idm139679520045456" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Enabling Multipath for the Installation</h6><p>
     When installing on a network storage that is accessed via multiple
     paths, you need to enable multipath for the installation with the
     <code class="literal">start_multipath</code> parameter. This parameter must be placed
     within the following XML structure:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;general&gt;
  &lt;storage&gt;
    &lt;start_multipath config:type="boolean"&gt;true&lt;/start_multipath&gt;
  &lt;/storage&gt;
&lt;/general&gt;</pre></div><p>
     Alternatively, you can pass the following parameter to linuxrc:
     <code class="literal">LIBSTORAGE_MULTIPATH_AUTOSTART=ON</code>
    </p></div><div id="idm139679520041936" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Handling Installer Self-Update Signatures</h6><p>
       Installer updates are delivered using a dedicated repository, so the same
       security checks that are applied to other repositories and packages are
       performed on these updates.
     </p><p>
       The section <code class="literal">/general/signature_handling</code> can be used to
       specify a different behavior.
     </p><div class="verbatim-wrap"><pre class="screen">&lt;general&gt;
  &lt;signature-handling&gt;
    &lt;accept_unknown_gpg_key config:type="boolean"&gt;true&lt;/accept_unknown_gpg_key&gt;
  &lt;/signature-handling&gt;
&lt;/general&gt;</pre></div></div></div><div class="sect1 " id="CreateProfile.Reporting"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Reporting"><span class="number">4.2 </span><span class="name">Reporting</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Reporting">#</a></h2></div></div></div><p>
    The <code class="literal">report</code> resource manages three types of pop-ups
    that may appear during installation:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      message pop-ups (usually non-critical, informative messages),
     </p></li><li class="listitem "><p>
      warning pop-ups (if something might go wrong),
     </p></li><li class="listitem "><p>
      error pop-ups (in case an error occurs).
     </p></li></ul></div><div class="example" id="idm139679542040656"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.2: </span><span class="name">Reporting Behavior </span><a title="Permalink" class="permalink" href="configuration.html#idm139679542040656">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;report&gt;
  &lt;errors&gt;
    &lt;show config:type="boolean"&gt;true&lt;/show&gt;
    &lt;timeout config:type="integer"&gt;0&lt;/timeout&gt;
    &lt;log config:type="boolean"&gt;true&lt;/log&gt;
  &lt;/errors&gt;
  &lt;warnings&gt;
    &lt;show config:type="boolean"&gt;true&lt;/show&gt;
    &lt;timeout config:type="integer"&gt;10&lt;/timeout&gt;
    &lt;log config:type="boolean"&gt;true&lt;/log&gt;
  &lt;/warnings&gt;
  &lt;messages&gt;
    &lt;show config:type="boolean"&gt;true&lt;/show&gt;
    &lt;timeout config:type="integer"&gt;10&lt;/timeout&gt;
    &lt;log config:type="boolean"&gt;true&lt;/log&gt;
  &lt;/messages&gt;
  &lt;yesno_messages&gt;
    &lt;show config:type="boolean"&gt;true&lt;/show&gt;
    &lt;timeout config:type="integer"&gt;10&lt;/timeout&gt;
    &lt;log config:type="boolean"&gt;true&lt;/log&gt;
  &lt;/yesno_messages&gt;
&lt;/report&gt;</pre></div></div></div><p>
    Depending on your experience, you can skip, log and show (with timeout)
    those messages. It is recommended to show all
    <code class="literal">messages</code> with timeout. Warnings can be skipped in
    some places but should not be ignored.
   </p><p>
    The default setting in auto-installation mode is to show errors
    without timeout and to show all warnings/messages with a timeout
    of 10 seconds.
   </p><div id="idm139679542036976" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Critical System Messages</h6><p>
     Note that not all messages during installation are controlled by the
     <code class="literal">report</code> resource. Some critical messages concerning
     package installation and partitioning will show up ignoring your
     settings in the <code class="literal">report</code> section. Usually those
     messages will need to be answered with <span class="guimenu">Yes</span> or
     <span class="guimenu">No</span>.
    </p></div></div><div class="sect1 " id="CreateProfile.Bootloader"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Bootloader"><span class="number">4.3 </span><span class="name">The Boot Loader</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Bootloader">#</a></h2></div></div></div><p>
    This documentation is for <code class="command">yast2-bootloader</code> and applies
    to GRUB 2. For older product versions shipping with legacy GRUB, refer to
    the documentation that comes with your distribution in
    <code class="filename">/usr/share/doc/packages/autoyast2/</code>
   </p><p>
    The general structure of the AutoYaST boot loader part looks like the
    following:
   </p><div class="verbatim-wrap"><pre class="screen">&lt;bootloader&gt;
  &lt;loader_type&gt;
    &lt;!-- boot loader type (grub2 or grub2-efi) --&gt;
  &lt;/loader_type&gt;
  &lt;global&gt;
    &lt;!--
      entries defining the installation settings for GRUB 2 and
      the generic boot code
    --&gt;
  &lt;/global&gt;
  &lt;device_map config:type="list"&gt;
    &lt;!-- entries defining the order of devices --&gt;
  &lt;/device_map&gt;
 &lt;/bootloader&gt;</pre></div><div class="sect2 " id="CreateProfile.Bootloader.type"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Bootloader.type"><span class="number">4.3.1 </span><span class="name">Loader Type</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Bootloader.type">#</a></h3></div></div></div><p>
     Define which boot loader to use: <code class="literal">grub2</code> or
     <code class="literal">grub2-efi</code>.
    </p><div class="verbatim-wrap"><pre class="screen">&lt;loader_type&gt;grub2&lt;/loader_type&gt;</pre></div></div><div class="sect2 " id="CreateProfile.Bootloader.globals"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Bootloader.globals"><span class="number">4.3.2 </span><span class="name">Globals</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Bootloader.globals">#</a></h3></div></div></div><p>
     This is an important if optional part. Define here where to install
     GRUB 2 and how the boot process will work. Again,
     <code class="command">yast2-bootloader</code> proposes a configuration if you
     do not define one. Usually the AutoYaST control file includes only this
     part and all other parts are added automatically during installation by
     <code class="command">yast2-bootloader</code>. Unless you have some special
     requirements, do not specify the boot loader configuration in the XML
     file.
    </p><div class="verbatim-wrap"><pre class="screen">&lt;global&gt;
  &lt;activate config:type="boolean"&gt;true&lt;/activate&gt;
  &lt;timeout config:type="integer"&gt;10&lt;/timeout&gt;
  &lt;suse_btrfs config:type="boolean"&gt;true&lt;/suse_btrfs&gt;
  &lt;terminal&gt;gfxterm&lt;/terminal&gt;
  &lt;gfxmode&gt;1280x1024x24&lt;/gfxmode&gt;
&lt;/global&gt;</pre></div><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">activate</code>
         </p>
        </td><td>
         <p>
          Set the boot flag on the boot partition. The boot partition can be
          <code class="filename">/</code> if there is no separate /boot partition. If
          the boot partition is on a logical partition, the boot flag is set
          to the extended partition.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;activate config:type="boolean"&gt;true&lt;/activate&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">append</code>
         </p>
        </td><td>
         <p>
          Kernel parameters added at the end of boot entries for normal and
          recovery mode.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;append&gt;nomodeset vga=0x317&lt;/append&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">boot_boot</code>
         </p>
        </td><td>
         <p>
          Write GRUB 2 to a separate /boot partition. If no separate
          /boot partition exists, GRUB 2 will be written to
          <code class="filename">/</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;boot_boot&gt;false&lt;/boot_boot&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">boot_custom</code>
         </p>
        </td><td>
         <p>
          Write GRUB 2 to a custom device.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;boot_custom&gt;/dev/sda3&lt;/boot_custom&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">boot_extended</code>
         </p>
        </td><td>
         <p>
          Write GRUB 2 to the extended partition (important if you want
          to use a generic boot code and the <code class="filename">/boot</code>
          partition is logical). NOTE: if the boot partition is logical, you
          should use <code class="literal">boot_mbr</code> (write GRUB 2 to MBR)
          rather than <code class="literal">generic_mbr</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;boot_extended&gt;false&lt;/boot_extended&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">boot_mbr</code>
         </p>
        </td><td>
         <p>
          Write GRUB 2 to MBR of the first disk in the order (device.map
          includes order of disks).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;boot_mbr&gt;false&lt;/boot_mbr&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">boot_root</code>
         </p>
        </td><td>
         <p>
          Write GRUB 2 to <code class="filename">/</code> partition.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;boot_root&gt;false&lt;/boot_root&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">generic_mbr</code>
         </p>
        </td><td>
         <p>
          Write generic boot code to MBR, will be ignored if boot_mbr is set
          to <code class="literal">true</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;generic_mbr config:type="boolean"&gt;false&lt;/generic_mbr&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">gfxmode</code>
         </p>
        </td><td>
         <p>
          Graphical resolution of the GRUB 2 screen (requires
          &lt;terminal&gt; to be set to <code class="literal">gfxterm</code>.
          Valid entries are <code class="literal">auto</code>,
          <code class="literal"><em class="replaceable ">HORIZONTAL</em>x<em class="replaceable ">VERTICAL</em></code>,
          or
          <code class="literal"><em class="replaceable ">HORIZONTAL</em>x<em class="replaceable ">VERTICAL</em>x<em class="replaceable ">COLOR
          DEPTH</em></code>. You can see the screen
          resolutions supported by GRUB 2 on a particular system by
          using the <code class="command">vbeinfo</code> command at the GRUB 2 command line in
          the running system.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;gfxmode&gt;1280x1024x24&lt;/gfxmode&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">os_prober</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">true</code>, automatically searches for
          operating systems already installed and generates boot entries for
          them during the installation
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;os_prober config:type="boolean"&gt;false&lt;/os_prober&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">suse_btrfs</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">true</code>, booting from Btrfs snapshots
          will be enabled.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;suse_btrfs config:type="boolean"&gt;false&lt;/suse_btrfs&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">serial</code>
         </p>
        </td><td>
         <p>
          Command to execute if the GRUB 2 terminal mode is set to
          <code class="literal">serial</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;serial&gt;
  serial --speed=115200 --unit=0 --word=8 --parity=no --stop=1
&lt;/serials&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">terminal</code>
         </p>
        </td><td>
         <p>
          Specify the GRUB 2 terminal mode to use, Valid entries are
          <code class="literal">console</code>, <code class="literal">gfxterm</code>, and
          <code class="literal">serial</code>. If set to <code class="literal">serial</code>,
          the serial command needs to be specified with
          &lt;serial&gt;, too.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;terminal&gt;serial&lt;/terminal&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">timeout</code>
         </p>
        </td><td>
         <p>
          The timeout in seconds until the default boot entry is booted
          automatically.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;timeout config:type="integer"&gt;10&lt;/timeout&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">vgamode</code>
         </p>
        </td><td>
         <p>
          Adds the kernel parameter
          <code class="literal">vga=<em class="replaceable ">VALUE</em></code> to the
          boot entries.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;vgamode&gt;0x317&lt;/vgamode&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">xen-append</code>
         </p>
        </td><td>
         <p>
          Kernel parameters added at the end of boot entries for Xen
          guests.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;append&gt;nomodeset vga=0x317&lt;/append&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">xen-kernel-append</code>
         </p>
        </td><td>
         <p>
          Kernel parameters added at the end of boot entries for Xen
          kernels on the VM Host Server.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;xen-append&gt;dom0_mem=768M&lt;/xen-append&gt;</pre></div>
        </td></tr></tbody></table></div></div><div class="sect2 " id="CreateProfile.Bootloader.dev_map"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Bootloader.dev_map"><span class="number">4.3.3 </span><span class="name">Device map</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Bootloader.dev_map">#</a></h3></div></div></div><p>
     GRUB 2 avoids mapping problems between BIOS drives and Linux devices
     by using device ID strings (UUIDs) or file system labels when
     generating its configuration files. GRUB 2 utilities create a
     temporary device map on the fly, which is usually sufficient,
     particularly on single-disk systems. However, if you need to override
     the automatic device mapping mechanism, create your custom mapping in
     this section.
    </p><div class="verbatim-wrap"><pre class="screen">&lt;device_map config:type="list"&gt;
  &lt;device_map_entry&gt;
    &lt;firmware&gt;hd0&lt;/firmware&gt; &lt;!-- order of devices in target map  --&gt;
    &lt;linux&gt;/dev/disk/by-id/ata-ST3500418AS_6VM23FX0&lt;/linux&gt; &lt;!-- name of device (disk)  --&gt;
  &lt;/device_map_entry&gt;
&lt;/device_map&gt;</pre></div></div></div><div class="sect1 " id="CreateProfile.Partitioning"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Partitioning"><span class="number">4.4 </span><span class="name">Partitioning</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Partitioning">#</a></h2></div></div></div><p>
    
   </p><div class="sect2 " id="CreateProfile.Partitioning.config"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Partitioning.config"><span class="number">4.4.1 </span><span class="name">Drive Configuration</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Partitioning.config">#</a></h3></div></div></div><p>
     The elements listed below must be placed within the following XML
     structure:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;profile&gt;
  &lt;partitioning config:type="list"&gt;
    &lt;drive&gt;
     ...
    &lt;/drive&gt;
  &lt;/partitioning&gt;
&lt;/profile&gt;</pre></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Values
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">device</code>
         </p>
        </td><td>
         <p>
          The device you want to configure in this &lt;drive&gt;
          section. You can use persistent device names via id, like
          <code class="filename">/dev/disk/by-id/ata-WDC_WD3200AAKS-75L9A0_WD-WMAV27368122</code>
          or <span class="emphasis"><em>by-path</em></span>,like
          <code class="filename">/dev/disk/by-path/pci-0001:00:03.0-scsi-0:0:0:0</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;device&gt;/dev/sda&lt;/device&gt;</pre></div>
        </td><td>
         <p>
          Optional. If left out, AutoYaST tries to guess the device. See
          <a class="xref" href="configuration.html#ay.partitioning.skip_devices" title="Tip: Skipping Devices">Tip: Skipping Devices</a> on how to influence
          guessing.
         </p>
         <p>
          A RAID must always have <code class="literal">/dev/md</code> as device.
         </p>
         <p>
          If set to <code class="literal">ask</code>, AutoYaST will ask the user which device to use
          during installation.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">initialize</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">true</code>, the partition table gets wiped
          out before AutoYaST starts the partition calculation.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;initialize config:type="boolean"&gt;true&lt;/initialize&gt;</pre></div>
        </td><td>
         <p>
          Optional. The default is <code class="literal">false</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">partitions</code>
         </p>
        </td><td>
         <p>
          A list of &lt;partition&gt; entries (see
          <a class="xref" href="configuration.html#ay.partition_configuration" title="4.4.2. Partition Configuration">Section 4.4.2, “Partition Configuration”</a>).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;partitions config:type="list"&gt;
  &lt;partition&gt;...&lt;/partition&gt;
  ...
&lt;/partitions&gt;</pre></div>
        </td><td>
         <p>
          Optional. If no partitions are specified, AutoYaST will create a
          reasonable partitioning (see
          <a class="xref" href="configuration.html#ay.auto_partitioning" title="4.4.5. Automated Partitioning">Section 4.4.5, “Automated Partitioning”</a>).
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">pesize</code>
         </p>
        </td><td>
         <p>
          This value only makes sense with LVM.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;pesize&gt;8M&lt;/pesize&gt;</pre></div>
        </td><td>
         <p>
          Optional. Default is 4M for LVM volume groups.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">use</code>
         </p>
        </td><td>
         <p>
          Specifies the strategy AutoYaST will use to partition the hard
          disk.
         </p>
         <p>
          Choose between:
         </p>
         <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
            <code class="literal">all</code> (uses the whole device while calculating
            the new partitioning),
           </p></li><li class="listitem "><p>
            <code class="literal">linux</code> (only existing Linux partitions are
            used),
           </p></li><li class="listitem "><p>
            <code class="literal">free</code> (only unused space on the device is
            used, no other partitions are touched),
           </p></li><li class="listitem "><p>
            1,2,3 (a list of comma separated partition numbers to use).
           </p></li></ul></div>
        </td><td>
         <p>
          This parameter should be provided.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">type</code>
         </p>
        </td><td>
         <p>
          Specify the type of the <code class="literal">drive</code>,
         </p>
         <p>
          Choose between:
         </p>
         <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
            <code class="literal">CT_DISK</code> for physical hard disks (default),
           </p></li><li class="listitem "><p>
            <code class="literal">CT_LVM</code> for LVM volume groups,
           </p></li></ul></div>
<div class="verbatim-wrap"><pre class="screen">&lt;type config:type="symbol"&gt;CT_LVM&lt;/type&gt;</pre></div>
        </td><td>
         <p>
          Optional. Default is <code class="literal">CT_DISK</code> for a normal
          physical hard disk.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">disklabel</code>
         </p>
        </td><td>
         <p>
          Describes the type of the partition table.
         </p>
         <p>
          Choose between:
         </p>
         <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
            <code class="literal">msdos</code>
           </p></li><li class="listitem "><p>
            <code class="literal">gpt</code>
           </p></li></ul></div>
<div class="verbatim-wrap"><pre class="screen">&lt;disklabel&gt;gpt&lt;/disklabel&gt;</pre></div>
        </td><td>
         <p>
          Optional. By default YaST decides what makes sense. If a partition table
          of a different type already exists, it will be recreated with the given type
          only if does not include any partition that should be kept or reused.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">keep_unknown_lv</code>
         </p>
        </td><td>
         <p>
          This value only makes sense for type=CT_LVM drives. If you are
          reusing a logical volume group and you set this to
          <code class="literal">true</code>, all existing logical volumes in that
          group will not be touched unless they are specified in the
          &lt;partitioning&gt; section. So you can keep existing
          logical volumes without specifying them.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;keep_unknown_lv config:type="boolean"
&gt;false&lt;/keep_unknown_lv&gt;</pre></div>
        </td><td>
         <p>
          Optional. The default is <code class="literal">false</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">enable_snapshots</code>
         </p>
        </td><td>
         <p>
          Enables snapshots for Btrfs file systems. It does not apply to other
          kinds of file systems.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;enable_snapshots config:type="boolean"
&gt;false&lt;/enable_snapshots&gt;</pre></div>
        </td><td>
         <p>
          Optional. The default is <code class="literal">true</code>.
         </p>
        </td></tr></tbody></table></div><div id="ay.partitioning.skip_devices" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Skipping Devices</h6><p>
      You can influence AutoYaST's device-guessing for cases where you do not
      specify a &lt;device&gt; entry on your own. Usually AutoYaST
      would use the first device it can find that looks reasonable but you
      can configure it to skip some devices like this:
     </p><div class="verbatim-wrap"><pre class="screen">&lt;partitioning config:type="list"&gt;
  &lt;drive&gt;
    &lt;initialize config:type="boolean"&gt;true&lt;/initialize&gt;
    &lt;skip_list config:type="list"&gt;
      &lt;listentry&gt;
        &lt;!-- skip devices that use the usb-storage driver --&gt;
        &lt;skip_key&gt;driver&lt;/skip_key&gt;
        &lt;skip_value&gt;usb-storage&lt;/skip_value&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;!-- skip devices that are smaller than 1GB --&gt;
        &lt;skip_key&gt;size_k&lt;/skip_key&gt;
        &lt;skip_value&gt;1048576&lt;/skip_value&gt;
        &lt;skip_if_less_than config:type="boolean"&gt;true&lt;/skip_if_less_than&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;!-- skip devices that are larger than 100GB --&gt;
        &lt;skip_key&gt;size_k&lt;/skip_key&gt;
        &lt;skip_value&gt;104857600&lt;/skip_value&gt;
        &lt;skip_if_more_than config:type="boolean"&gt;true&lt;/skip_if_more_than&gt;
      &lt;/listentry&gt;
    &lt;/skip_list&gt;
  &lt;/drive&gt;
&lt;/partitioning&gt;</pre></div><p>
      For a list of all possible &lt;skip_key&gt;, run <code class="command">yast2
      ayast_probe</code> on an already installed system.
     </p></div></div><div class="sect2 " id="ay.partition_configuration"><div class="titlepage"><div><div><h3 class="title" id="ay.partition_configuration"><span class="number">4.4.2 </span><span class="name">Partition Configuration</span> <a title="Permalink" class="permalink" href="configuration.html#ay.partition_configuration">#</a></h3></div></div></div><p>
     The elements listed below must be placed within the following XML
     structure:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;drive&gt;
  &lt;partitions config:type="list"&gt;
    &lt;partition&gt;
      ...
    &lt;/partition&gt;
  &lt;/partitions&gt;
&lt;/drive&gt;</pre></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Values
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">create</code>
         </p>
        </td><td>
         <p>
          Specify if this partition or logical volume must be created or if it already exists.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;create config:type="boolean" &gt;false&lt;/create&gt;</pre></div>
        </td><td>
         <p>
          If set to <code class="literal">false</code>, you also need to set
          <code class="literal">partition_nr</code>, <code class="literal">lv_name</code> or <code class="literal">uuid</code>
          to tell AutoYaST which device to use.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">crypt_fs</code>
         </p>
        </td><td>
         <p>
          Partition will be encrypted.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;crypt_fs config:type="boolean"&gt;false&lt;/crypt_fs&gt;</pre></div>
        </td><td>
         <p>
          Default is <code class="literal">false</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">crypt_key</code>
         </p>
        </td><td>
         <p>
          Encryption key
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;crypt_key&gt;xxxxxxxx&lt;/crypt_key&gt;</pre></div>
        </td><td>
         <p>
          Only needed if <code class="literal">crypt_fs</code> has been set to <code class="literal">true</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">mount</code>
         </p>
        </td><td>
         <p>
          The mount point of this partition.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;mount&gt;/&lt;/mount&gt;
&lt;mount&gt;swap&lt;/mount&gt;</pre></div>
        </td><td>
         <p>
          You should have at least a root partition (/) and a swap
          partition.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">fstopt</code>
         </p>
        </td><td>
         <p>
          Mount options for this partition.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;fstopt&gt;
  ro,noatime,user,data=ordered,acl,user_xattr
&lt;/fstopt&gt;</pre></div>
        </td><td>
         <p>
          See <code class="command">man mount</code> for available mount options.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">label</code>
         </p>
        </td><td>
         <p>
          The label of the partition (useful for the
          <code class="literal">mountby</code> parameter; see below).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;label&gt;mydata&lt;/label&gt;</pre></div>
        </td><td>
         <p>
          See <code class="command">man e2label</code> for an example.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">uuid</code>
         </p>
        </td><td>
         <p>
          The uuid of the partition (only useful for the
          <code class="literal">mountby</code> parameter; see below).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;uuid
&gt;1b4e28ba-2fa1-11d2-883f-b9a761bde3fb&lt;/uuid&gt;</pre></div>
        </td><td>
         <p>
          See <code class="command">man uuidgen</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">size</code>
         </p>
        </td><td>
         <p>
          The size of the partition, for example 4G, 4500M, etc. The /boot
          partition and the swap partition can have <code class="literal">auto</code>
          as size. Then AutoYaST calculates a reasonable size. One partition
          can have the value <code class="literal">max</code> to use all remaining
          space.
         </p>
         <p>
          You can also specify the size in percentage. So 10% will use 10%
          of the size of the hard disk or volume group. You can mix auto,
          max, size, and percentage as you like.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;size&gt;10G&lt;/size&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">format</code>
         </p>
        </td><td>
         <p>
          Specify if AutoYaST should format the partition.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;format config:type="boolean"&gt;false&lt;/format&gt;</pre></div>
        </td><td>
         <p>
          If you set <code class="literal">create</code> to <code class="literal">true</code>,
          then you likely want this option set to <code class="literal">true</code> as
          well.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">file system</code>
         </p>
        </td><td>
         <p>
          Specify the file system to use on this partition:
         </p>
         <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
            <code class="literal">btrfs</code>
           </p></li><li class="listitem "><p>
            <code class="literal">ext2</code>
           </p></li><li class="listitem "><p>
            <code class="literal">ext3</code>
           </p></li><li class="listitem "><p>
            <code class="literal">ext4</code>
           </p></li><li class="listitem "><p>
            <code class="literal">fat</code>
           </p></li><li class="listitem "><p>
            <code class="literal">xfs</code>
           </p></li><li class="listitem "><p>
            <code class="literal">swap</code>
           </p></li></ul></div>
<div class="verbatim-wrap"><pre class="screen">&lt;filesystem config:type="symbol"
&gt;ext3&lt;/filesystem&gt;</pre></div>
        </td><td>
         <p>
          Optional. The default is <code class="literal">btrfs</code> for the root
          partition (<code class="filename">/</code>) and <code class="literal">xfs</code> for
          data partitions.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">mkfs_options</code>
         </p>
        </td><td>
         <p>
          Specify an option string that is added to the mkfs command.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;mkfs_options&gt;-I 128&lt;/mkfs_options&gt;</pre></div>
        </td><td>
         <p>
          Optional. Only use this when you know what you are doing.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">partition_nr</code>
         </p>
        </td><td>
         <p>
          The partition number of this partition. If you have set
          <code class="literal">create=false</code> or if you use LVM, then you can
          specify the partition via <code class="literal">partition_nr</code>. You can
          force AutoYaST to only create primary partitions by assigning
          numbers below 5.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;partition_nr config:type="integer"
&gt;2&lt;/partition_nr&gt;</pre></div>
        </td><td>
         <p>
          Usually, numbers 1 to 4 are primary partitions while 5 and higher
          are logical partitions.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">partition_id</code>
         </p>
        </td><td>
         <p>
          The <code class="literal">partition_id</code> sets the id of the partition.
          If you want different identifiers than 131 for Linux partition or
          130 for swap, configure them with partition_id.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;partition_id config:type="integer"
&gt;131&lt;/partition_id&gt;</pre></div>
        </td><td>
         <p>
          The default is <code class="literal">131</code> for Linux partition and
          <code class="literal">130</code> for swap.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">mountby</code>
         </p>
        </td><td>
         <p>
          Instead of a partition number, you can tell AutoYaST to mount a
          partition by <code class="literal">device</code>, <code class="literal">label</code>,
          <code class="literal">uuid</code>, <code class="literal">path</code> or
          <code class="literal">id</code>, which are the udev path and udev id (see
          <code class="filename">/dev/disk/...</code>).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;mountby config:type="symbol"
&gt;label&lt;/mountby&gt;</pre></div>
        </td><td>
         <p>
          See <code class="literal">label</code> and <code class="literal">uuid</code>
          documentation above. The default depends on YaST and usually
          is <code class="literal">id</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">subvolumes</code>
         </p>
        </td><td>
         <p>
          List of subvolumes to create for a file system of type Btrfs. This
          key only makes sense for file systems of type Btrfs. See
          <a class="xref" href="configuration.html#ay.btrfs_subvolumes" title="4.4.3. Btrfs subvolumes">Section 4.4.3, “Btrfs subvolumes”</a> for more information.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;subvolumes config:type="list"&gt;
  &lt;path&gt;tmp&lt;/path&gt;
  &lt;path&gt;opt&lt;/path&gt;
  &lt;path&gt;srv&lt;/path&gt;
  &lt;path&gt;var/crash&lt;/path&gt;
  &lt;path&gt;var/lock&lt;/path&gt;
  &lt;path&gt;var/run&lt;/path&gt;
  &lt;path&gt;var/tmp&lt;/path&gt;
  &lt;path&gt;var/spool&lt;/path&gt;
  ...
&lt;/subvolumes&gt;</pre></div>
        </td><td>
         <p>
          If no <code class="sgmltag-element">subvolumes</code> section has been defined for a partition
          description, AutoYaST will not create any subvolumes for that partition.
          In other words, there is no default selection of subvolumes.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">lv_name</code>
         </p>
        </td><td>
         <p>
          If this partition is on a logical volume in a volume group, specify
          the logical volume name here (see the <code class="literal">is_lvm_vg</code>
          parameter in the drive configuration).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;lv_name&gt;opt_lv&lt;/lv_name&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">stripes</code>
         </p>
        </td><td>
         <p>
          An integer that configures LVM striping. Specify across how many
          devices you want to stripe (spread data).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;stripes config:type="integer"&gt;2&lt;/stripes&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">stripesize</code>
         </p>
        </td><td>
         <p>
          Specify the size of each block in KB.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;stripesize config:type="integer"
&gt;4&lt;/stripesize&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">lvm_group</code>
         </p>
        </td><td>
         <p>
          If this is a physical partition used by (part of) a volume group
          (LVM), you need to specify the name of the volume group here.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;lvm_group&gt;system&lt;/lvm_group&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">pool</code>
         </p>
        </td><td>
         <p>
          <code class="literal">pool</code> must be set to <code class="literal">true</code> if
          the LVM logical volume should be an LVM thin pool.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;pool config:type="boolean"&gt;false&lt;/pool&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">used_pool</code>
         </p>
        </td><td>
         <p>
          The name of the LVM thin pool that is used as a data store for
          this thin logical volume. If this is set to something non-empty,
          it implies that the volume is a so-called thin logical volume.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;used_pool&gt;my_thin_pool&lt;/used_pool&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">raid_name</code>
         </p>
        </td><td>
         <p>
          If this physical volume is part of a RAID, specify the name of the
          RAID.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;raid_name&gt;/dev/md0&lt;/raid_name&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">raid_type</code>
         </p>
        </td><td>
         <p>
          Specify the type of the RAID.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;raid_type&gt;raid1&lt;/raid_type&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">raid_options</code>
         </p>
        </td><td>
         <p>
          Specify RAID options, see below.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;raid_options&gt;...&lt;/raid_options&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">resize</code>
         </p>
        </td><td>
         <p>
          This boolean must be <code class="literal">true</code> if an existing
          partition should be resized. In this case, you need to tell AutoYaST
          to reuse the device (see the <code class="literal">create</code>) and specify
          a <code class="literal">size</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;resize config:type="boolean"
&gt;false&lt;/resize&gt;</pre></div>
        </td><td>
         <p>
          Resizing only works with physical disks, not with LVM volumes.
         </p>
        </td></tr></tbody></table></div><div id="idm139679519743264" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Creating Boot Partitions Automatically</h6><p>
      When AutoYaST determines that a boot partition might be required in order
      to boot properly, it will automatically add one even if it is not specified
      in the profile.
     </p><p>
      However, if for any reason the boot partition does not fit in the current
      partitioning layout, AutoYaST will just display a warning, allowing the
      installation to proceed.
     </p></div></div><div class="sect2 " id="ay.btrfs_subvolumes"><div class="titlepage"><div><div><h3 class="title" id="ay.btrfs_subvolumes"><span class="number">4.4.3 </span><span class="name">Btrfs subvolumes</span> <a title="Permalink" class="permalink" href="configuration.html#ay.btrfs_subvolumes">#</a></h3></div></div></div><p>
      As mentioned in <a class="xref" href="configuration.html#ay.partition_configuration" title="4.4.2. Partition Configuration">Section 4.4.2, “Partition Configuration”</a>, it is
      possible to define a set of subvolumes for each Btrfs file system. In
      its simplest form, is just a list of entries:
     </p><div class="verbatim-wrap"><pre class="screen">&lt;subvolumes config:type="list"&gt;
  &lt;path&gt;tmp&lt;/path&gt;
  &lt;path&gt;opt&lt;/path&gt;
  &lt;path&gt;srv&lt;/path&gt;
  &lt;path&gt;var/crash&lt;/path&gt;
  &lt;path&gt;var/lock&lt;/path&gt;
  &lt;path&gt;var/run&lt;/path&gt;
  &lt;path&gt;var/tmp&lt;/path&gt;
  &lt;path&gt;var/spool&lt;/path&gt;
&lt;/subvolumes&gt;</pre></div><p>
      AutoYaST supports disabling copy-on-write for a given subvolume. In that
      case, a slightly more complex syntax should be used:
     </p><div class="verbatim-wrap"><pre class="screen">&lt;subvolumes config:type="list"&gt;
&lt;listentry&gt;tmp&lt;/listentry&gt;
&lt;listentry&gt;opt&lt;/listentry&gt;
&lt;listentry&gt;srv&lt;/listentry&gt;
&lt;listentry&gt;
  &lt;path&gt;var/lib/pgsql&lt;/path&gt;
  &lt;copy_on_write config:type="boolean"&gt;false&lt;copy_on_write&gt;
&lt;/listentry&gt;
&lt;/subvolumes&gt;</pre></div></div><div class="sect2 " id="ay.raid_configuration"><div class="titlepage"><div><div><h3 class="title" id="ay.raid_configuration"><span class="number">4.4.4 </span><span class="name">RAID Options</span> <a title="Permalink" class="permalink" href="configuration.html#ay.raid_configuration">#</a></h3></div></div></div><p>
     The following elements must be placed within the following XML
     structure:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;partition&gt;
  &lt;raid_options&gt;
    ...
  &lt;/raid_options&gt;
&lt;/partition&gt;</pre></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Values
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">chunk_size</code>
         </p>
        </td><td>
         
<div class="verbatim-wrap"><pre class="screen">&lt;chunk_size&gt;4&lt;/chunk_size&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">parity_algorithm</code>
         </p>
        </td><td>
         <p>
          Possible values are:
         </p>
         <p>
          <code class="literal">left_asymmetric</code>, <code class="literal">left_symmetric,
          right_asymmetric</code>, <code class="literal">right_symmetric</code>.
         </p>
         <p>
          For RAID6 and RAID10 the following values can be used:
         </p>
         <p>
          <code class="literal">parity_first</code>, <code class="literal">parity_last</code>,
          <code class="literal">left_asymmetric_6, left_symmetric_6</code>,
          <code class="literal">right_asymmetric_6</code>,
          <code class="literal">right_symmetric_6</code>,
          <code class="literal">parity_first_6</code>, <code class="literal">n2</code>,
          <code class="literal">o2</code>, <code class="literal">f2</code>,
          <code class="literal">n3</code>, <code class="literal">o3</code>,
          <code class="literal">f3</code> for RAID6 and RAID10.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;parity_algorithm
&gt;left_asymmetric&lt;/parity_algorithm&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          <code class="literal">raid_type</code>
         </p>
        </td><td>
         <p>
          Possible values are: <code class="literal">raid0</code>,
          <code class="literal">raid1</code>, <code class="literal">raid5</code>,
          <code class="literal">raid6</code> and <code class="literal">raid10</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;raid_type&gt;raid1&lt;/raid_type&gt;</pre></div>
        </td><td>
         <p>
          The default is <code class="literal">raid1</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">device_order</code>
         </p>
        </td><td>
         <p>
          This list contains the optional order of the physical devices:
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;device_order config:type="list"&gt;
   &lt;device&gt;/dev/sdb2&lt;/device&gt;
   &lt;device&gt;/dev/sda1&lt;/device&gt;
   ...
&lt;/device_order&gt;</pre></div>
        </td><td>
         <p>
          This is optional and the default is alphabetical order.
         </p>
        </td></tr></tbody></table></div></div><div class="sect2 " id="ay.auto_partitioning"><div class="titlepage"><div><div><h3 class="title" id="ay.auto_partitioning"><span class="number">4.4.5 </span><span class="name">Automated Partitioning</span> <a title="Permalink" class="permalink" href="configuration.html#ay.auto_partitioning">#</a></h3></div></div></div><p>
     For automated partitioning, you only need to provide the sizes and
     mount points of partitions. All other data needed for successful
     partitioning is calculated during installation—unless provided in the
     control file.
    </p><p>
     If no partitions are defined and the specified drive is also the drive
     where the root partition should be created, the following partitions
     are created automatically:
    </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       <code class="filename">/boot</code>
      </p><p>
       The size of the <code class="filename">/boot</code> partition is determined by
       the architecture of the target system.
      </p></li><li class="listitem "><p>
       <code class="filename">swap</code>
      </p><p>
       The size of the swap partition is determined by the amount of memory
       available in the system.
      </p></li><li class="listitem "><p>
       <code class="filename">/</code> (root partition)
      </p><p>
       The size of the root partition is determined by the space left after
       creating <code class="filename">swap</code> and <code class="filename">/boot</code>.
      </p></li></ul></div><p>
     Depending on the initial status of the drive and how it was previously
     partitioned, it is possible to create the default partitioning in the
     following ways:
    </p><div class="variablelist "><dl class="variablelist"><dt id="idm139679555522944"><span class="term ">Use Free Space</span></dt><dd><p>
        If the drive is already partitioned, it is possible to create the
        new partitions using the free space on the hard disk. This requires
        the availability of sufficient space for all selected packages in
        addition to swap.
       </p></dd><dt id="idm139679555520912"><span class="term ">Reuse all available space</span></dt><dd><p>
        Use this option to delete all existing partitions (Linux and
        non-Linux).
       </p></dd><dt id="idm139679555519024"><span class="term ">Reuse all available Linux partitions</span></dt><dd><p>
        This option deletes all existing Linux partitions. Other partitions
        (for example Windows partitions) remain untouched. Note that this
        works only if the Linux partitions are at the end of the device.
       </p></dd><dt id="idm139679555517008"><span class="term ">Reuse only specified partitions</span></dt><dd><p>
        This option allows you to select specific partitions to delete.
        Start the selection with the last available partition.
       </p></dd></dl></div><p>
     Repartitioning only works if the selected partitions are neighbors and
     located at the end of the device.
    </p><div id="idm139679555514352" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Beware of Data Loss</h6><p>
      The value provided in the <code class="literal">use</code> property determines
      how existing data and partitions are treated. The value
      <code class="literal">all</code> means that the entire disk will be erased. Make
      backups and use the <code class="literal">confirm</code> property if you need to
      keep some partitions with important data. Otherwise, no pop-ups will
      notify you about partitions being deleted.
     </p></div><p>
     If multiple drives are in the target system, identify all drives with
     their device names and specify how the partitioning should be
     performed.
    </p><p>
     Partition sizes can be given in gigabytes, megabytes or can be set to a
     flexible value using the keywords <code class="literal">auto</code> and
     <code class="literal">max</code>. <code class="literal">max</code> uses all available space
     on a drive, therefore should only be set for the last partition on the
     drive. With <code class="literal">auto</code> the size of a
     <code class="literal">swap</code> or <code class="literal">boot</code> partition is
     determined automatically, depending on the memory available and the
     type of the system.
    </p><p>
     A fixed size can be given as shown below:
    </p><p>
     <code class="literal">1GB</code>, <code class="literal">1G</code>,
     <code class="literal">1000MB</code>, or <code class="literal">1000M</code> will all create a
     partition of the size 1 Gigabyte.
    </p><div class="complex-example"><div class="example" id="idm139679521542064"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.3: </span><span class="name">Automated Partitioning </span><a title="Permalink" class="permalink" href="configuration.html#idm139679521542064">#</a></h6></div><div class="example-contents"><p>
      The following is an example of a single drive system, which is not
      pre-partitioned and should be automatically partitioned according to
      the described pre-defined partition plan. If you do not specify the
      device, it will be automatically detected.
     </p><div class="verbatim-wrap"><pre class="screen">&lt;partitioning  config:type="list"&gt;
  &lt;drive&gt;
    &lt;device&gt;/dev/sda&lt;/device&gt;
    &lt;use&gt;all&lt;/use&gt;
  &lt;/drive&gt;
&lt;/partitioning&gt;</pre></div></div></div></div><p>
     A more detailed example shows how existing partitions and multiple
     drives are handled.
    </p><div class="example" id="idm139679521539376"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.4: </span><span class="name">Detailed Automated Partitioning </span><a title="Permalink" class="permalink" href="configuration.html#idm139679521539376">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;partitioning  config:type="list"&gt;
  &lt;drive&gt;
    &lt;device&gt;/dev/sda&lt;/device&gt;
    &lt;partitions config:type="list"&gt;
      &lt;partition&gt;
        &lt;mount&gt;/&lt;/mount&gt;
        &lt;size&gt;10G&lt;/size&gt;
      &lt;/partition&gt;
      &lt;partition&gt;
        &lt;mount&gt;swap&lt;/mount&gt;
        &lt;size&gt;1G&lt;/size&gt;
      &lt;/partition&gt;
    &lt;/partitions&gt;
  &lt;/drive&gt;
  &lt;drive&gt;
    &lt;device&gt;/dev/sdb&lt;/device&gt;
    &lt;use&gt;all&lt;/use&gt;
    &lt;partitions config:type="list"&gt;
      &lt;partition&gt;
        &lt;filesystem  config:type="symbol"&gt;ext4&lt;/filesystem&gt;
        &lt;mount&gt;/data1&lt;/mount&gt;
        &lt;size&gt;15G&lt;/size&gt;
      &lt;/partition&gt;
      &lt;partition&gt;
        &lt;filesystem  config:type="symbol"&gt;jfs&lt;/filesystem&gt;
        &lt;mount&gt;/data2&lt;/mount&gt;
        &lt;size&gt;auto&lt;/size&gt;
      &lt;/partition&gt;
    &lt;/partitions&gt;
    &lt;use&gt;free&lt;/use&gt;
  &lt;/drive&gt;
&lt;/partitioning&gt;</pre></div></div></div></div><div class="sect2 " id="ay.partition_advanced"><div class="titlepage"><div><div><h3 class="title" id="ay.partition_advanced"><span class="number">4.4.6 </span><span class="name">Advanced Partitioning Features</span> <a title="Permalink" class="permalink" href="configuration.html#ay.partition_advanced">#</a></h3></div></div></div><p>
     
    </p><div class="sect3 " id="ay.partition_advanced.wipe"><div class="titlepage"><div><div><h4 class="title" id="ay.partition_advanced.wipe"><span class="number">4.4.6.1 </span><span class="name">Wipe out Partition Table</span> <a title="Permalink" class="permalink" href="configuration.html#ay.partition_advanced.wipe">#</a></h4></div></div></div><p>
      Usually this is not needed because AutoYaST can delete partitions one
      by one automatically. But you need the option to let AutoYaST clear the
      partition table instead of deleting partitions individually.
     </p><p>
      Go to the <code class="literal">drive</code> section and add:
     </p><div class="verbatim-wrap"><pre class="screen">&lt;initialize config:type="boolean"&gt;true&lt;/initialize&gt;</pre></div><p>
      With this setting AutoYaST will delete the partition table before it
      starts to analyze the actual partitioning and calculates its partition
      plan. Of course this means, that you cannot keep any of your existing
      partitions.
     </p></div><div class="sect3 " id="ay.partition_advanced.mount"><div class="titlepage"><div><div><h4 class="title" id="ay.partition_advanced.mount"><span class="number">4.4.6.2 </span><span class="name">Mount Options</span> <a title="Permalink" class="permalink" href="configuration.html#ay.partition_advanced.mount">#</a></h4></div></div></div><p>
      By default a file system to be mounted is identified in
      <code class="filename">/etc/fstab</code> by the device name. This
      identification can be changed so the file system is found by searching
      for a UUID or a volume label. Note that not all file systems can be
      mounted by UUID or a volume label. To specify how a partition is to be
      mounted, use the <code class="literal">mountby</code> property which has the
      <code class="literal">symbol</code> type. Possible options are:
     </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        <code class="literal">device</code> (default)
       </p></li><li class="listitem "><p>
        <code class="literal">label</code>
       </p></li><li class="listitem "><p>
        <code class="literal">UUID</code>
       </p></li></ul></div><p>
      If you choose to mount the partition using a label, the name entered
      for the <code class="literal">label</code> property is used as the volume label.
     </p><p>
      Add any valid mount option in the fourth field of
      <code class="filename">/etc/fstab</code>. Multiple options are separated by
      commas. Possible fstab options:
     </p><div class="variablelist "><dl class="variablelist"><dt id="idm139679555466960"><span class="term ">Mount read-only (<code class="literal">ro</code>)</span></dt><dd><p>
         No write access to the file system. Default is
         <code class="literal">false</code>.
        </p></dd><dt id="idm139679555464224"><span class="term ">No access time (<code class="literal">noatime</code>)</span></dt><dd><p>
         Access times are not updated when a file is read. Default is
         <code class="literal">false</code>.
        </p></dd><dt id="idm139679555461568"><span class="term ">Mountable by User (<code class="literal">user</code>)</span></dt><dd><p>
         The file system can be mounted by a normal user. Default is
         <code class="literal">false</code>.
        </p></dd><dt id="idm139679555458816"><span class="term ">
        Data Journaling Mode (<code class="literal">ordered</code>,
        <code class="literal">journal</code>, <code class="literal">writeback</code>)
       </span></dt><dd><div class="variablelist "><dl class="variablelist"><dt id="idm139679555456144"><span class="term "><code class="literal">journal</code>
          </span></dt><dd><p>
            All data is committed to the journal prior to being written to
            the main file system.
           </p></dd><dt id="idm139679555453952"><span class="term "><code class="literal">ordered</code>
          </span></dt><dd><p>
            All data is directly written to the main file system before its
            metadata is committed to the journal.
           </p></dd><dt id="idm139679555451744"><span class="term "><code class="literal">writeback</code>
          </span></dt><dd><p>
            Data ordering is not preserved.
           </p></dd></dl></div></dd><dt id="idm139679555449136"><span class="term ">Access Control List (<code class="literal">acl</code>)</span></dt><dd><p>
         Enable access control lists on the file system.
        </p></dd><dt id="idm139679555446848"><span class="term ">Extended User Attributes (<code class="literal">user_xattr</code>)</span></dt><dd><p>
         Allow extended user attributes on the file system.
        </p></dd></dl></div><div class="example" id="idm139679555444384"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.5: </span><span class="name">Mount Options </span><a title="Permalink" class="permalink" href="configuration.html#idm139679555444384">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;partitions config:type="list"&gt;
  &lt;partition&gt;
    &lt;filesystem config:type="symbol"&gt;ext4&lt;/filesystem&gt;
    &lt;format config:type="boolean"&gt;true&lt;/format&gt;
    &lt;fstopt&gt;ro,noatime,user,data=ordered,acl,user_xattr&lt;/fstopt&gt;
    &lt;mount&gt;/local&lt;/mount&gt;
    &lt;mountby config:type="symbol"&gt;uuid&lt;/mountby&gt;
    &lt;partition_id config:type="integer"&gt;131&lt;/partition_id&gt;
    &lt;size&gt;10G&lt;/size&gt;
  &lt;/partition&gt;
&lt;/partitions&gt;</pre></div></div></div><div id="idm139679542944144" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: 
      Check Supported File System Options
     </h6><p>
      Different file system types support different options.
      Check the documentation carefully before setting them.
     </p></div></div><div class="sect3 " id="ay.partition_advanced.keep"><div class="titlepage"><div><div><h4 class="title" id="ay.partition_advanced.keep"><span class="number">4.4.6.3 </span><span class="name">Keeping Specific Partitions</span> <a title="Permalink" class="permalink" href="configuration.html#ay.partition_advanced.keep">#</a></h4></div></div></div><p>
      In some cases you should leave partitions untouched and only format
      specific target partitions, rather than creating them from scratch.
      For example, if different Linux installations coexist, or you have
      another operating system installed, likely you do not want to wipe
      these out. You may also want to leave data partitions untouched.
     </p><p>
      Such scenarios require certain knowledge about the target systems and
      hard disks. Depending on the scenario, you might need to know the
      exact partition table of the target hard disk with partition ids,
      sizes and numbers. With this data you can tell AutoYaST to keep certain
      partitions, format others and create new partitions if needed.
     </p><p>
      The following example will keep partitions 1, 2 and 5 and delete
      partition 6 to create two new partitions. All remaining partitions
      will only be formatted.
      
     </p><div class="example" id="idm139679542938608"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.6: </span><span class="name">Keeping partitions </span><a title="Permalink" class="permalink" href="configuration.html#idm139679542938608">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;partitioning config:type="list"&gt;
  &lt;drive&gt;
    &lt;device&gt;/dev/sdc&lt;/device&gt;
      &lt;partitions config:type="list"&gt;
        &lt;partition&gt;
          &lt;create config:type="boolean"&gt;false&lt;/create&gt;
          &lt;format config:type="boolean"&gt;true&lt;/format&gt;
          &lt;mount&gt;/&lt;/mount&gt;
          &lt;partition_nr config:type="integer"&gt;1&lt;/partition_nr&gt;
        &lt;/partition&gt;
        &lt;partition&gt;
          &lt;create config:type="boolean"&gt;false&lt;/create&gt;
          &lt;format config:type="boolean"&gt;false&lt;/format&gt;
          &lt;partition_nr config:type="integer"&gt;2&lt;/partition_nr&gt;
          &lt;mount&gt;/space&lt;/mount&gt;
        &lt;/partition&gt;
        &lt;partition&gt;
          &lt;create config:type="boolean"&gt;false&lt;/create&gt;
          &lt;format config:type="boolean"&gt;true&lt;/format&gt;
          &lt;filesystem config:type="symbol"&gt;swap&lt;/filesystem&gt;
          &lt;partition_nr config:type="integer"&gt;5&lt;/partition_nr&gt;
          &lt;mount&gt;swap&lt;/mount&gt;
        &lt;/partition&gt;
        &lt;partition&gt;
          &lt;format config:type="boolean"&gt;true&lt;/format&gt;
          &lt;mount&gt;/space2&lt;/mount&gt;
          &lt;size&gt;5G&lt;/size&gt;
        &lt;/partition&gt;
        &lt;partition&gt;
          &lt;format config:type="boolean"&gt;true&lt;/format&gt;
          &lt;mount&gt;/space3&lt;/mount&gt;
          &lt;size&gt;max&lt;/size&gt;
        &lt;/partition&gt;
      &lt;/partitions&gt;
    &lt;use&gt;6&lt;/use&gt;
  &lt;/drive&gt;
&lt;/partitioning&gt;</pre></div></div></div><p>
      The last example requires exact knowledge of the existing partition
      table and the partition numbers of those partitions that should be
      kept. In some cases however, such data may not be available,
      especially in a mixed hardware environment with different hard disk
      types and configurations. The following scenario is for a system with
      a non-Linux OS with a designated area for a Linux installation.
     </p><div class="figure" id="partitioning-keep1"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/partitioning-keep1.png"><img src="images/partitioning-keep1.png" width="" alt="Keeping partitions" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 4.1: </span><span class="name">Keeping partitions </span><a title="Permalink" class="permalink" href="configuration.html#partitioning-keep1">#</a></h6></div></div><p>
      In this scenario, shown in figure
      <a class="xref" href="configuration.html#partitioning-keep1" title="Keeping partitions">Figure 4.1, “Keeping partitions”</a>, AutoYaST will not create new
      partitions. Instead it searches for certain partition types on the
      system and uses them according to the partitioning plan in the control
      file. No partition numbers are given in this case, only the mount
      points and the partition types (additional configuration data can be
      provided, for example file system options, encryption and file system
      type).
     </p><div class="example" id="idm139679542929072"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.7: </span><span class="name">Auto-detection of partitions to be kept. </span><a title="Permalink" class="permalink" href="configuration.html#idm139679542929072">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;partitioning config:type="list"&gt;
  &lt;drive&gt;
    &lt;partitions config:type="list"&gt;
      &lt;partition&gt;
        &lt;create config:type="boolean"&gt;false&lt;/create&gt;
        &lt;format config:type="boolean"&gt;true&lt;/format&gt;
        &lt;mount&gt;/&lt;/mount&gt;
        &lt;partition_id config:type="integer"&gt;131&lt;/partition_id&gt;
      &lt;/partition&gt;
      &lt;partition&gt;
        &lt;create config:type="boolean"&gt;false&lt;/create&gt;
        &lt;format config:type="boolean"&gt;true&lt;/format&gt;
        &lt;filesystem config:type="symbol"&gt;swap&lt;/filesystem&gt;
        &lt;partition_id config:type="integer"&gt;130&lt;/partition_id&gt;
        &lt;mount&gt;swap&lt;/mount&gt;
      &lt;/partition&gt;
    &lt;/partitions&gt;
  &lt;/drive&gt;
&lt;/partitioning&gt;</pre></div></div></div><div id="idm139679542927072" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Keeping Encrypted Devices</h6><p>
       When AutoYaST is probing the storage devices, the partitioning
       section from the profile is not yet analyzed. In some scenarios,
       it is not clear which key should be used to unlock a device. For
       example, this can happen when more than one encryption key is
       defined. To solve this problem, AutoYaST will try all defined keys
       on all encrypted devices until a working key is found.
      </p></div></div></div><div class="sect2 " id="ay.partition_lvm"><div class="titlepage"><div><div><h3 class="title" id="ay.partition_lvm"><span class="number">4.4.7 </span><span class="name">Logical Volume Manager (LVM)</span> <a title="Permalink" class="permalink" href="configuration.html#ay.partition_lvm">#</a></h3></div></div></div><p>
     To configure LVM, first create a physical volume using the normal
     partitioning method described above.
    </p><div class="complex-example"><div class="example" id="idm139679542923248"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.8: </span><span class="name">Create LVM Physical Volume </span><a title="Permalink" class="permalink" href="configuration.html#idm139679542923248">#</a></h6></div><div class="example-contents"><p>
      The following example shows how to prepare for LVM in the
      <code class="literal">partitioning</code> resource. A non-formatted partition is
      created on device <code class="filename">/dev/sda1</code> of the type
      <code class="literal">LVM</code> and with the volume group
      <code class="literal">system</code>. This partition will use all space available
      on the drive.
     </p><div class="verbatim-wrap"><pre class="screen">&lt;partitioning config:type="list"&gt;
  &lt;drive&gt;
    &lt;device&gt;/dev/sda&lt;/device&gt;
    &lt;partitions config:type="list"&gt;
      &lt;partition&gt;
        &lt;create config:type="boolean"&gt;true&lt;/create&gt;
        &lt;lvm_group&gt;system&lt;/lvm_group&gt;
        &lt;partition_type&gt;primary&lt;/partition_type&gt;
        &lt;partition_id config:type="integer"&gt;142&lt;/partition_id&gt;
        &lt;partition_nr config:type="integer"&gt;1&lt;/partition_nr&gt;
        &lt;size&gt;max&lt;/size&gt;
      &lt;/partition&gt;
    &lt;/partitions&gt;
    &lt;use&gt;all&lt;/use&gt;
  &lt;/drive&gt;
&lt;/partitioning&gt;</pre></div></div></div></div><div class="example" id="idm139679542080528"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.9: </span><span class="name">LVM Logical Volumes </span><a title="Permalink" class="permalink" href="configuration.html#idm139679542080528">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;partitioning config:type="list"&gt;
  &lt;drive&gt;
    &lt;device&gt;/dev/sda&lt;/device&gt;
    &lt;partitions config:type="list"&gt;
      &lt;partition&gt;
        &lt;lvm_group&gt;system&lt;/lvm_group&gt;
        &lt;partition_type&gt;primary&lt;/partition_type&gt;
        &lt;size&gt;max&lt;/size&gt;
      &lt;/partition&gt;
    &lt;/partitions&gt;
    &lt;use&gt;all&lt;/use&gt;
  &lt;/drive&gt;
  &lt;drive&gt;
    &lt;device&gt;/dev/system&lt;/device&gt;
      &lt;is_lvm_vg config:type="boolean"&gt;true&lt;/is_lvm_vg&gt;
      &lt;partitions config:type="list"&gt;
        &lt;partition&gt;
          &lt;filesystem config:type="symbol"&gt;ext4&lt;/filesystem&gt;
          &lt;lv_name&gt;user_lv&lt;/lv_name&gt;
          &lt;mount&gt;/usr&lt;/mount&gt;
          &lt;size&gt;15G&lt;/size&gt;
        &lt;/partition&gt;
        &lt;partition&gt;
          &lt;filesystem config:type="symbol"&gt;ext4&lt;/filesystem&gt;
          &lt;lv_name&gt;opt_lv&lt;/lv_name&gt;
          &lt;mount&gt;/opt&lt;/mount&gt;
          &lt;size&gt;10G&lt;/size&gt;
        &lt;/partition&gt;
        &lt;partition&gt;
          &lt;filesystem config:type="symbol"&gt;ext4&lt;/filesystem&gt;
          &lt;lv_name&gt;var_lv&lt;/lv_name&gt;
          &lt;mount&gt;/var&lt;/mount&gt;
          &lt;size&gt;1G&lt;/size&gt;
        &lt;/partition&gt;
      &lt;/partitions&gt;
      &lt;pesize&gt;4M&lt;/pesize&gt;
    &lt;use&gt;all&lt;/use&gt;
  &lt;/drive&gt;
&lt;/partitioning&gt;</pre></div></div></div><p>
     It is possible to set the <code class="literal">size</code> to
     <code class="literal">max</code> for the logical volumes. Of course, you can only
     use <code class="literal">max</code> for one(!) logical volume. You cannot set
     two logical volumes in one volume group to <code class="literal">max</code>.
    </p></div><div class="sect2 " id="ay.partition_sw_raid"><div class="titlepage"><div><div><h3 class="title" id="ay.partition_sw_raid"><span class="number">4.4.8 </span><span class="name">Software RAID</span> <a title="Permalink" class="permalink" href="configuration.html#ay.partition_sw_raid">#</a></h3></div></div></div><p>
     Using AutoYaST, you can create and assemble software RAID devices. The
     supported RAID levels are the following:
    </p><div class="variablelist "><dl class="variablelist"><dt id="idm139679542073632"><span class="term ">RAID 0</span></dt><dd><p>
        This level increases your disk performance. There is
        <span class="emphasis"><em>no</em></span> redundancy in this mode. If one of the
        drives crashes, data recovery will not be possible.
       </p></dd><dt id="idm139679542071248"><span class="term ">RAID 1</span></dt><dd><p>
        This mode offers the best redundancy. It can be used with two or
        more disks. An exact copy of all data is maintained on all disks. As
        long as at least one disk is still working, no data is lost. The
        partitions used for this type of RAID should have approximately the
        same size.
       </p></dd><dt id="idm139679542069152"><span class="term ">RAID 5</span></dt><dd><p>
        This mode combines management of a larger number of disks and still
        maintains some redundancy. This mode can be used on three disks or
        more. If one disk fails, all data is still intact. If two disks fail
        simultaneously, all data is lost.
       </p></dd><dt id="idm139679542067104"><span class="term ">Multipath</span></dt><dd><p>
        This mode allows access to the same physical device via multiple
        controllers for redundancy against a fault in a controller card.
        This mode can be used with at least two devices.
       </p></dd></dl></div><p>
     As with LVM, you need to create all RAID partitions first and assign
     them to the RAID device you want to create afterward. Additionally you
     need to specify whether a partition or a device should be part of the
     RAID or if it should be a Spare device.
    </p><p>
     The following example shows a simple RAID1 configuration:
    </p><div class="example" id="idm139679542063760"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.10: </span><span class="name">RAID1 configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679542063760">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;partitioning config:type="list"&gt;
  &lt;drive&gt;
    &lt;device&gt;/dev/sda&lt;/device&gt;
    &lt;partitions config:type="list"&gt;
      &lt;partition&gt;
        &lt;partition_id config:type="integer"&gt;253&lt;/partition_id&gt;
        &lt;format config:type="boolean"&gt;false&lt;/format&gt;
        &lt;raid_name&gt;/dev/md0&lt;/raid_name&gt;
        &lt;raid_type&gt;raid&lt;/raid_type&gt;
        &lt;size&gt;4G&lt;/size&gt;
      &lt;/partition&gt;

        &lt;!-- Insert a configuration for the regular partitions located on
                /dev/sda here (for example / and swap) --&gt;

    &lt;/partitions&gt;
    &lt;use&gt;all&lt;/use&gt;
  &lt;/drive&gt;
  &lt;drive&gt;
    &lt;device&gt;/dev/sdb&lt;/device&gt;
    &lt;partitions config:type="list"&gt;
      &lt;partition&gt;
        &lt;format config:type="boolean"&gt;false&lt;/format&gt;
        &lt;partition_id config:type="integer"&gt;253&lt;/partition_id&gt;
        &lt;raid_name&gt;/dev/md0&lt;/raid_name&gt;
        &lt;raid_type&gt;raid&lt;/raid_type&gt;
        &lt;size&gt;4gb&lt;/size&gt;
      &lt;/partition&gt;
    &lt;/partitions&gt;
    &lt;use&gt;all&lt;/use&gt;
  &lt;/drive&gt;
  &lt;drive&gt;
    &lt;device&gt;/dev/md&lt;/device&gt;
    &lt;partitions config:type="list"&gt;
      &lt;partition&gt;
        &lt;filesystem config:type="symbol"&gt;ext4&lt;/filesystem&gt;
        &lt;format config:type="boolean"&gt;true&lt;/format&gt;
        &lt;mount&gt;/space&lt;/mount&gt;
        &lt;partition_id config:type="integer"&gt;131&lt;/partition_id&gt;
        &lt;partition_nr config:type="integer"&gt;0&lt;/partition_nr&gt;
        &lt;raid_options&gt;
          &lt;chunk_size&gt;4&lt;/chunk_size&gt;
          &lt;parity_algorithm&gt;left-asymmetric&lt;/parity_algorithm&gt;
          &lt;raid_type&gt;raid1&lt;/raid_type&gt;
        &lt;/raid_options&gt;
      &lt;/partition&gt;
    &lt;/partitions&gt;
    &lt;use&gt;all&lt;/use&gt;
  &lt;/drive&gt;
&lt;/partitioning&gt;</pre></div></div></div><p>
     Keep the following in mind when configuring a RAID:
    </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       The device for raid is always <code class="literal">/dev/md</code>
      </p></li><li class="listitem "><p>
       The property <code class="literal">partition_nr</code> is used to determine the
       MD device number. If <code class="literal">partition_nr</code> is equal to 0,
       then <code class="literal">/dev/md0</code> is configured.
      </p></li><li class="listitem "><p>
       All RAID-specific options are contained in the
       <code class="literal">raid_options</code> resource.
      </p></li></ul></div></div><div class="sect2 " id="ay.partition_s390"><div class="titlepage"><div><div><h3 class="title" id="ay.partition_s390"><span class="number">4.4.9 </span><span class="name">IBM Z Specific Configuration</span> <a title="Permalink" class="permalink" href="configuration.html#ay.partition_s390">#</a></h3></div></div></div><div class="sect3 " id="ay.partition_s390.dasd"><div class="titlepage"><div><div><h4 class="title" id="ay.partition_s390.dasd"><span class="number">4.4.9.1 </span><span class="name">Configuring DASD Disks</span> <a title="Permalink" class="permalink" href="configuration.html#ay.partition_s390.dasd">#</a></h4></div></div></div><p>
      The elements listed below must be placed within the following XML
      structure:
     </p><div class="verbatim-wrap"><pre class="screen">&lt;dasd&gt;
 &lt;devices config:type="list"&gt;
  &lt;listentry&gt;
   ...
  &lt;/listentry&gt;
 &lt;/devices&gt;
&lt;/dasd&gt;</pre></div><p>
      tags in the &lt;profile&gt; section. Each disk needs to be
      configured in a separate &lt;listentry&gt; ...
      &lt;/listentry&gt; section.
     </p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
          <p>
           Attribute
          </p>
         </th><th>
          <p>
           Description
          </p>
         </th><th>
          <p>
           Values
          </p>
         </th></tr></thead><tbody><tr><td>
          <p>
           <code class="literal">device</code>
          </p>
         </td><td>
          <p>
           <code class="literal">DASD</code> is the only value allowed
          </p>
<div class="verbatim-wrap"><pre class="screen">&lt;device
&gt;DASD&lt;/dev_name&gt;</pre></div>
         </td><td>
          
         </td></tr><tr><td>
          <p>
           <code class="literal">dev_name</code>
          </p>
         </td><td>
          <p>
           The device (<code class="literal">dasd<em class="replaceable ">N</em></code>)
           you want to configure in this section.
          </p>
<div class="verbatim-wrap"><pre class="screen">&lt;dev_name
&gt;/dev/dasda&lt;/dev_name&gt;</pre></div>
         </td><td>
          <p>
           Optional but recommended. If left out, AutoYaST tries to guess the
           device.
          </p>
         </td></tr><tr><td>
          <p>
           <code class="literal">channel</code>
          </p>
         </td><td>
          <p>
           Channel by which the disk is accessed.
          </p>
<div class="verbatim-wrap"><pre class="screen">&lt;channel&gt;0.0.0150&lt;/channel&gt;</pre></div>
         </td><td>
          <p>
           Mandatory.
          </p>
         </td></tr><tr><td>
          <p>
           <code class="literal">diag</code>
          </p>
         </td><td>
          <p>
           Enable or disable the use of <code class="literal">DIAG</code>. Possible
           values are <code class="literal">true</code> (enable) or
           <code class="literal">false</code> (disable).
          </p>
<div class="verbatim-wrap"><pre class="screen">&lt;diag
config:type="boolean"&gt;true&lt;/diag&gt;</pre></div>
         </td><td>
          <p>
           Optional.
          </p>
         </td></tr></tbody></table></div></div><div class="sect3 " id="ay.partition_s390.zfcp"><div class="titlepage"><div><div><h4 class="title" id="ay.partition_s390.zfcp"><span class="number">4.4.9.2 </span><span class="name">Configuring zFCP Disks</span> <a title="Permalink" class="permalink" href="configuration.html#ay.partition_s390.zfcp">#</a></h4></div></div></div><p>
      The following elements must be placed within the following XML
      structure:
     </p><div class="verbatim-wrap"><pre class="screen">&lt;profile&gt;
  &lt;zfcp&gt;
    &lt;devices config:type="list"&gt;
      &lt;listentry&gt;
        ...
      &lt;/listentry&gt;
    &lt;/devices&gt;
  &lt;/zfcp&gt;
&lt;profile&gt;</pre></div><p>
      Each disk needs to be configured in a separate
      <code class="literal">listentry</code> section.
     </p><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>
          <p>
           Attribute
          </p>
         </th><th>
          <p>
           Values
          </p>
         </th></tr></thead><tbody><tr><td>
          <p>
           <code class="literal">controller_id</code>
          </p>
         </td><td>
          <p>
           Channel number
          </p>
<div class="verbatim-wrap"><pre class="screen">&lt;controller_id
&gt;0.0.fc00&lt;/controller_id&gt;</pre></div>
         </td></tr></tbody></table></div></div></div></div><div class="sect1 " id="CreateProfile.Iscsi_client"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Iscsi_client"><span class="number">4.5 </span><span class="name">iSCSI Initiator Overview</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Iscsi_client">#</a></h2></div></div></div><p>
    Using the <code class="literal">iscsi-client</code> resource, you can configure
    the target machine as an iSCSI client.
   </p><div class="example" id="idm139679530127856"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.11: </span><span class="name">iSCSI client </span><a title="Permalink" class="permalink" href="configuration.html#idm139679530127856">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;iscsi-client&gt;
    &lt;initiatorname&gt;iqn.2013-02.de.suse:01:e229358d2dea&lt;/initiatorname&gt;
    &lt;targets config:type="list"&gt;
      &lt;listentry&gt;
         &lt;authmethod&gt;None&lt;/authmethod&gt;
         &lt;portal&gt;192.168.1.1:3260&lt;/portal&gt;
         &lt;startup&gt;onboot&lt;/startup&gt;
         &lt;target&gt;iqn.2001-05.com.doe:test&lt;/target&gt;
         &lt;iface&gt;default&lt;/iface&gt;
      &lt;/listentry&gt;
    &lt;/targets&gt;
    &lt;version&gt;1.0&lt;/version&gt;
  &lt;/iscsi-client&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
          <p>
           Attribute
          </p>
         </th><th>
          <p>
           Description
          </p>
         </th><td class="auto-generated"> </td></tr></thead><tbody><tr><td>
          <p>
           initiatorname
          </p>
         </td><td>
          <p>
           <code class="literal">InitiatorName</code> is a value from
           <code class="literal">/etc/iscsi/initiatorname.iscsi</code>. In case you have iBFT,
           this value will be added from there and you are only able to change it in the BIOS setup.
          </p>
         </td><td class="auto-generated"> </td></tr><tr><td>
          <p>
           version
          </p>
         </td><td>
          <p>
           Version of the YaST module. Default: 1.0
          </p>
         </td><td class="auto-generated"> </td></tr><tr><td>
          <p>
           targets
          </p>
         </td><td>
          <p>
           List of targets. Each entry contains:
          </p>
          <p>
           <code class="literal">authmethod</code> Authentication method: None/CHAP
          </p>
          <p>
           <code class="literal">portal</code> Portal address
          </p>
          <p>
           <code class="literal">startup</code> Value: manual/onboot
          </p>
          <p>
           <code class="literal">target</code> Target name
          </p>
          <p>
           <code class="literal">iface</code> Interface name
          </p>
         </td><td class="auto-generated"> </td></tr></tbody></table></div></div><div class="sect1 " id="CreateProfile.fcoe_client"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.fcoe_client"><span class="number">4.6 </span><span class="name">Fibre Channel over Ethernet Configuration (FCoE)</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.fcoe_client">#</a></h2></div></div></div><p>
    Using the <code class="literal">fcoe_cfg</code> resource, you can configure
    a Fibre Channel over Ethernet (FCoE).
   </p><div class="example" id="idm139679522004880"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.12: </span><span class="name">FCoE configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679522004880">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;fcoe-client&gt;
    &lt;fcoe_cfg&gt;
      &lt;DEBUG&gt;no&lt;/DEBUG&gt;
      &lt;USE_SYSLOG&gt;yes&lt;/USE_SYSLOG&gt;
    &lt;/fcoe_cfg&gt;
    &lt;interfaces config:type="list"&gt;
      &lt;listentry&gt;
        &lt;dev_name&gt;eth3&lt;/dev_name&gt;
        &lt;mac_addr&gt;01:000:000:000:42:42&lt;/mac_addr&gt;
        &lt;device&gt;Gigabit 1313&lt;/device&gt;
        &lt;vlan_interface&gt;200&lt;/vlan_interface&gt;
        &lt;fcoe_vlan&gt;eth3.200&lt;/fcoe_vlan&gt;
        &lt;fcoe_enable&gt;yes&lt;/fcoe_enable&gt;
        &lt;dcb_required&gt;yes&lt;/dcb_required&gt;
        &lt;auto_vlan&gt;no&lt;/auto_vlan&gt;
        &lt;dcb_capable&gt;no&lt;/dcb_capable&gt;
        &lt;cfg_device&gt;eth3.200&lt;/cfg_device&gt;
      &lt;/listentry&gt;
    &lt;/interfaces&gt;
    &lt;service_start&gt;
      &lt;fcoe config:type="boolean"&gt;true&lt;/fcoe&gt;
      &lt;lldpad config:type="boolean"&gt;true&lt;/lldpad&gt;
    &lt;/service_start&gt;
  &lt;/fcoe-client&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
          <p>
           Attribute
          </p>
         </th><th>
          <p>
           Description
          </p>
         </th><th>
          <p>
           Values
          </p>
         </th></tr></thead><tbody><tr><td>
          <p>
           fcoe_cfg
          </p>
         </td><td>
          <p>
           <code class="literal">DEBUG</code> is used to enable or disable debugging
           messages from the fcoe service script and fcoemon.
          </p>
          <p>
           <code class="literal">USE_SYSLOG</code> messages are sent to the system log
           if set to yes (data are logged to /var/log/messages).
          </p>
         </td><td>
          <p>
           yes/no
          </p>
         </td></tr><tr><td>
          <p>
           interfaces
          </p>
         </td><td>
          <p>
           List of network cards including the status of VLAN and FCoE
           configuration.
          </p>
         </td><td>
          
         </td></tr><tr><td>
          <p>
           service_start
          </p>
         </td><td>
          <p>
           Enable or disable the start of the services fcoe and lldpad at
           boot time.
          </p>
          <p>
           Starting the service fcoe means starting the Fibre Channel over
           Ethernet service daemon fcoemon which controls the FCoE interfaces
           and establishes a connection with the daemon lldpad.
          </p>
          <p>
           The lldpad service provides the Link Layer Discovery Protocol agent
           daemon lldpad that informs fcoemon about DCB
           (Data Center Bridging) features and configuration of the interfaces.
          </p>
         </td><td>
          <p>
           yes/no
          </p>
         </td></tr></tbody></table></div></div><div class="sect1 " id="CreateProfile.Country"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Country"><span class="number">4.7 </span><span class="name">Country Settings</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Country">#</a></h2></div></div></div><p>
    Language, timezone, and keyboard settings.
   </p><div class="example" id="idm139679551836416"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.13: </span><span class="name">Language </span><a title="Permalink" class="permalink" href="configuration.html#idm139679551836416">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">       &lt;language&gt;
         &lt;language&gt;en_GB&lt;/language&gt;
         &lt;languages&gt;de_DE,en_US&lt;/languages&gt;
       &lt;/language&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
          <p>
           Attribute
          </p>
         </th><th>
          <p>
           Description
          </p>
         </th><th>
          <p>
           Values
          </p>
         </th></tr></thead><tbody><tr><td>
          <p>
           <code class="literal">language</code>
          </p>
         </td><td>
          <p>
           Primary language
          </p>
         </td><td>
          <p>
           A list of available languages can be found under
           <code class="literal">/usr/share/YaST2/data/languages</code>
          </p>
         </td></tr><tr><td>
          <p>
           <code class="literal">languages</code>
          </p>
         </td><td>
          <p>
           Secondary languages separated by commas
          </p>
         </td><td>
          <p>
           A list of available languages can be found under
           <code class="literal">/usr/share/YaST2/data/languages</code>
          </p>
         </td></tr></tbody></table></div><p>
    If the configured value for the primary language is unknown, it will be reset
    to the default, <code class="literal">en_US</code>.
   </p><div class="example" id="idm139679543177312"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.14: </span><span class="name">Timezone </span><a title="Permalink" class="permalink" href="configuration.html#idm139679543177312">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">       &lt;timezone&gt;
         &lt;hwclock&gt;UTC&lt;/hwclock&gt;
         &lt;timezone&gt;Europe/Berlin&lt;/timezone&gt;
       &lt;/timezone&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
          <p>
           Attribute
          </p>
         </th><th>
          <p>
           Description
          </p>
         </th><th>
          <p>
           Values
          </p>
         </th></tr></thead><tbody><tr><td>
          <p>
           hwclock
          </p>
         </td><td>
          <p>
           Whether the hardware clock uses local time or UTC
          </p>
         </td><td>
          <p>
           localtime/UTC
          </p>
         </td></tr><tr><td>
          <p>
           timezone
          </p>
         </td><td>
          <p>
           Timezone
          </p>
         </td><td>
          <p>
           A list of available timezones can be found under
           <code class="literal">/usr/share/YaST2/data/timezone_raw.ycp</code>
          </p>
         </td></tr></tbody></table></div><div class="example" id="idm139679543163696"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.15: </span><span class="name">Keyboard </span><a title="Permalink" class="permalink" href="configuration.html#idm139679543163696">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">       &lt;keyboard&gt;
         &lt;keymap&gt;german&lt;/keymap&gt;
       &lt;/keyboard&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
        <p>
         Attribute
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th><th>
        <p>
         Values
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         keymap
        </p>
       </td><td>
        <p>
         Keyboard layout
        </p>
       </td><td>
        <p>
         A list of available keymaps can be found in
         <code class="literal">/usr/share/YaST2/data/keyboard_raw.ycp</code>
        </p>
       </td></tr></tbody></table></div></div><div class="sect1 " id="CreateProfile.Software"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Software"><span class="number">4.8 </span><span class="name">Software</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Software">#</a></h2></div></div></div><p>
    
   </p><div class="sect2 " id="Software.Selections.base_product"><div class="titlepage"><div><div><h3 class="title" id="Software.Selections.base_product"><span class="number">4.8.1 </span><span class="name">Product Selection</span> <a title="Permalink" class="permalink" href="configuration.html#Software.Selections.base_product">#</a></h3></div></div></div><p>
     Starting with SLE 15, all products are distributed using one medium.
     You need to choose which product to install. To do so explicitly, use
     the <code class="sgmltag-element">product</code> option.
    </p><div class="example" id="idm139679541857200"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.16: </span><span class="name">Explicit Product Selection </span><a title="Permalink" class="permalink" href="configuration.html#idm139679541857200">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;software&gt;
  &lt;products config:type="list"&gt;
    &lt;product&gt;SLED&lt;/product&gt;
  &lt;/products&gt;
&lt;/software&gt;</pre></div></div></div><p>
     In special cases, the medium might contain only one product. If so, you
     do not need to select a product explicitly as described above.
     AutoYaST will select the only available product automatically.
    </p><p>
     For backward compatibility with profiles created for pre-SLE 15
     products, AutoYaST implements a heuristic that selects products
     automatically. This heuristic will be used when the profile does not
     contain a <code class="sgmltag-element">product</code> element.
     This heuristic is based on the package and pattern selection in the
     profile. However, whenever possible avoid using this mechanism and adapt
     old profiles to use explicit product selection.
    </p></div><div class="sect2 " id="Software.Selections.sles10"><div class="titlepage"><div><div><h3 class="title" id="Software.Selections.sles10"><span class="number">4.8.2 </span><span class="name">Package Selection with Patterns and Packages Sections</span> <a title="Permalink" class="permalink" href="configuration.html#Software.Selections.sles10">#</a></h3></div></div></div><p>
     Patterns or packages are configured like this:
    </p><div class="example" id="idm139679541851904"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.17: </span><span class="name">Package Selection in the Control File with Patterns and Packages Sections </span><a title="Permalink" class="permalink" href="configuration.html#idm139679541851904">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;software&gt;
  &lt;patterns config:type="list"&gt;
    &lt;pattern&gt;directory_server&lt;/pattern&gt;
  &lt;/patterns&gt;
  &lt;packages  config:type="list"&gt;
    &lt;package&gt;apache&lt;/package&gt;
    &lt;package&gt;postfix&lt;/package&gt;
  &lt;/packages&gt;
  &lt;do_online_update config:type="boolean"&gt;true&lt;/do_online_update&gt;
&lt;/software&gt;</pre></div></div></div><div id="idm139679541850224" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Package and Pattern Names</h6><p>
      The values are real package or pattern names. If the package name
      has been changed due an upgrade, you will have to adapt these
      settings too.
     </p></div></div><div class="sect2 " id="Software.Selections.images"><div class="titlepage"><div><div><h3 class="title" id="Software.Selections.images"><span class="number">4.8.3 </span><span class="name">Deploying Images</span> <a title="Permalink" class="permalink" href="configuration.html#Software.Selections.images">#</a></h3></div></div></div><p>
     You can use images during installation to speed up the installation.
    </p><div class="example" id="idm139679541846640"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.18: </span><span class="name">Activating Image Deployment </span><a title="Permalink" class="permalink" href="configuration.html#idm139679541846640">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;!-- note! this is not in the software section! --&gt;
&lt;deploy_image&gt;
  &lt;image_installation config:type="boolean"&gt;false&lt;/image_installation&gt;
&lt;/deploy_image&gt;</pre></div></div></div></div><div class="sect2 " id="Software.Selections.additional"><div class="titlepage"><div><div><h3 class="title" id="Software.Selections.additional"><span class="number">4.8.4 </span><span class="name">Installing Additional/Customized Packages or Products</span> <a title="Permalink" class="permalink" href="configuration.html#Software.Selections.additional">#</a></h3></div></div></div><p>
     In addition to the packages available for installation on the DVD-ROMs,
     you can add external packages including customized kernels. Customized
     kernel packages must be compatible to the SUSE packages and must
     install the kernel files to the same locations.
    </p><p>
     Unlike in earlier in versions, you do not need a special resource in
     the control file to install custom and external packages. Instead you
     need to re-create the package database and update it with any new
     packages or new package versions in the source repository.
    </p><p>
     A script is provided for this task which will query packages available
     in the repository and create the package database. Use the command
     <code class="command">/usr/bin/create_package_descr</code>. It can be found in
     the <code class="literal">inst-source-utils</code> package in the openSUSE Build Service.
     When creating the database, all languages will be reset to English.
    </p><div class="complex-example"><div class="example" id="idm139679541840736"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.19: </span><span class="name">Creating a Package Database With the Additional Package inst-source-utils.rpm </span><a title="Permalink" class="permalink" href="configuration.html#idm139679541840736">#</a></h6></div><div class="example-contents"><p>
     The unpacked DVD is located in <code class="literal">/usr/local/DVDs/LATEST</code>.
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>cp /tmp/inst-source-utils-2016.7.26-1.2.noarch.rpm /usr/local/DVDs/LATEST/suse/noarch
<code class="prompt user">tux &gt; </code>cd /usr/local/DVDs/LATEST/suse
<code class="prompt user">tux &gt; </code>create_package_descr -d /usr/local/CDs/LATEST/suse</pre></div></div></div></div><p>
     In the above example, the directory
     <code class="filename">/usr/local/CDs/LATEST/suse</code> contains the
     architecture dependent (for example <code class="literal">x86_64</code>) and
     architecture independent packages (<code class="literal">noarch</code>). This
     might look different on other architectures.
    </p><p>
     The advantage of this method is that you can keep an up-to-date
     repository with fixed and updated package. Additionally this method
     makes the creation of custom CD-ROMs easier.
    </p><p>
     To add your own module such as the SDK (SUSE Software Development Kit),
     add a file <code class="filename">add_on_products.xml</code> to the installation source
     in the root directory.
    </p><p>
     The following example shows how the SDK module can be added to the base product
     repository. The complete SDK repository will be stored in the directory
     <code class="filename">/sdk</code>.
    </p><div class="complex-example"><div class="example" id="idm139679553018544"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.20: </span><span class="name"><code class="filename">add_on_products.xml</code>
      </span><a title="Permalink" class="permalink" href="configuration.html#idm139679553018544">#</a></h6></div><div class="example-contents"><p>This file describes an SDK module included in the base product.</p><div class="verbatim-wrap"><pre class="screen">&lt;?xml version="1.0"?&gt;
&lt;add_on_products xmlns="http://www.suse.com/1.0/yast2ns"
   xmlns:config="http://www.suse.com/1.0/configns"&gt;
   &lt;product_items config:type="list"&gt;
      &lt;product_item&gt;
         &lt;name&gt;SUSE Linux Enterprise Software Development Kit&lt;/name&gt;
         &lt;url&gt;relurl:////sdk?alias=SLE_SDK&lt;/url&gt;
         &lt;path&gt;/&lt;/path&gt;
         &lt;-- Users are asked whether to add such a product --&gt;
         &lt;ask_user config:type="boolean"&gt;false&lt;/ask_user&gt;
         &lt;-- Defines the default state of pre-selected state in case of ask_user used. --&gt;
         &lt;selected config:type="boolean"&gt;true&lt;/selected&gt;
      &lt;/product_item&gt;
   &lt;/product_items&gt;
&lt;/add_on_products&gt;</pre></div></div></div></div><p>
     While a normal installation now the SDK module will be installed automatically.
     This will be not done via an AutoYaST installation. An additional entry would be needed for
     in the AutoYaST control file <code class="literal">add-on</code> section.
    </p><p>
     Besides this special case all other modules, extensions and add-on products can be
     added from almost every other locations while an AutoYaST installation.
    </p><div class="example" id="idm139679553014064"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.21: </span><span class="name">Adding SDK product auto AutoYaST configuration file </span><a title="Permalink" class="permalink" href="configuration.html#idm139679553014064">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;add-on&gt;
  &lt;add_on_products config:type="list"&gt;
    &lt;listentry&gt;
      &lt;media_url&gt;cd:///sdk&lt;/media_url&gt;
      &lt;product&gt;sle-sdk&lt;/product&gt;
      &lt;alias&gt;SLES SDK&lt;/alias&gt;
      &lt;product_dir&gt;/&lt;/product_dir&gt;
      &lt;priority config:type="integer"&gt;20&lt;/priority&gt;
      &lt;ask_on_error config:type="boolean"&gt;false&lt;/ask_on_error&gt;
      &lt;confirm_license config:type="boolean"&gt;false&lt;/confirm_license&gt;
      &lt;name&gt;SUSE Linux Enterprise Software Development Kit&lt;/name&gt;
    &lt;/listentry&gt;
  &lt;/add_on_products&gt;
&lt;/add-on&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Values
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">media_url</code>
         </p>
        </td><td>
         <p>
          Product URL. Can have the prefix <code class="literal">cd:///</code>,
          <code class="literal">http://</code>, <code class="literal">ftp://</code>,...
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">product</code>
         </p>
        </td><td>
         <p>
          Internal product name if the add-on is a product.
          The command <code class="command">zypper products</code> shows these names
          of installed products.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">alias</code>
         </p>
        </td><td>
         <p>
          Repository alias name. Defined by the user.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">product_dir</code>
         </p>
        </td><td>
         <p>
          Additional subpath. Optional.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">priority</code>
         </p>
        </td><td>
         <p>
          Sets the repository libzypp priority. Priority of 1 is the highest.
          The higher the number the lower the priority. Default is 99.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">ask_on_error</code>
         </p>
        </td><td>
         <p>
          AutoYaST can ask the user to make add-on products, modules or extensions available
          instead of reporting a time-out error when no repository can be found at
          the given location. Set ask_on_error to <code class="literal">true</code> (the
          default is <code class="literal">false</code>).
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">confirm_license</code>
         </p>
        </td><td>
         <p>
          The user has to confirm the license. Default is <code class="literal">false</code>
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">name</code>
         </p>
        </td><td>
         <p>
          Repository name.
          The command <code class="command">zypper lr</code> shows these names of added
          repositories.
         </p>
        </td></tr></tbody></table></div><p>
     To use unsigned installation sources with AutoYaST, turn off
     the checks with the following configuration in your AutoYaST control
     file.
    </p><p>
     The elements listed below must be placed within the following XML
     structure:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;general&gt;
  &lt;signature-handling&gt;
    ...
  &lt;/signature-handling&gt;
&lt;/general&gt;</pre></div><p>
     Default values for all options are <code class="literal">false</code>. If an
     option is set to <code class="literal">false</code> and a package or repository
     fails the respective test, it is silently ignored and will not be
     installed. Note that setting any of these options to
     <code class="literal">true</code> is a potential security risk. Never do it when
     using packages or repositories from third party sources.
    </p><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Values
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">accept_unsigned_file</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">true</code>, AutoYaST will accept unsigned
          files like the content file.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;accept_unsigned_file config:type="boolean"
&gt;true&lt;/accept_unsigned_file&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">accept_file_without_checksum</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">true</code>, AutoYaST will accept files
          without a checksum in the content file.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;accept_file_without_checksum config:type="boolean"
&gt;true&lt;/accept_file_without_checksum&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">accept_verification_failed</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">true</code>, AutoYaST will accept signed
          files even when the verification of the signature failed.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;accept_verification_failed config:type="boolean"
&gt;true&lt;/accept_verification_failed&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">accept_unknown_gpg_key</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">true</code>, AutoYaST will accept new gpg
          keys of the installation sources, for example the key used to sign
          the content file.
         </p>
         <div class="verbatim-wrap"><pre class="screen">&lt;accept_unknown_gpg_key config:type="boolean"
&gt;true&lt;/accept_unknown_gpg_key&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">accept_non_trusted_gpg_key</code>
         </p>
        </td><td>
         <p>
          Set this option to <code class="literal">true</code> to accept known keys you
          have not yet trusted.
         </p>
         <div class="verbatim-wrap"><pre class="screen">&lt;accept_non_trusted_gpg_key config:type="boolean"
&gt;true&lt;/accept_non_trusted_gpg_key&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">import_gpg_key</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">true</code>, AutoYaST will accept and import
          new gpg keys on the installation source in its database.
         </p>
         <div class="verbatim-wrap"><pre class="screen">&lt;import_gpg_key config:type="boolean"
&gt;true&lt;/import_gpg_key&gt;</pre></div>
        </td></tr></tbody></table></div><p>
     It is possible to configure the signature handling for each add-on
     product, module, or extension individually. The following elements must
     be between the <code class="literal">signature-handling</code> section of the
     individual add-on product, module, or extension. All settings are
     optional. If not configured, the global signature-handling from the
     <code class="literal">general</code> section is used.
    </p><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Values
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">accept_unsigned_file</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">true</code>, AutoYaST will accept unsigned
          files like the content file for this add-on product.
         </p>
         <div class="verbatim-wrap"><pre class="screen">&lt;accept_unsigned_file config:type="boolean"
&gt;true&lt;/accept_unsigned_file&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">accept_file_without_checksum</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">true</code>, AutoYaST will accept files
          without a checksum in the content file for this add-on.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;accept_file_without_checksum config:type="boolean"
&gt;true&lt;/accept_file_without_checksum&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">accept_verification_failed</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">true</code>, AutoYaST will accept signed
          files even when the verification of the signature fails.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;accept_verification_failed config:type="boolean"
&gt;true&lt;/accept_verification_failed&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">accept_unknown_gpg_key</code>
         </p>
        </td><td>
         <p>
          If <code class="literal">all</code> is set to <code class="literal">true</code>, AutoYaST will accept new gpg
          keys on the installation source.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;accept_unknown_gpg_key&gt;
  &lt;all config:type="boolean"&gt;true&lt;/all&gt;
&lt;/accept_unknown_gpg_key&gt;</pre></div>
         <p>
          Otherwise you can define single keys too.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;accept_unknown_gpg_key&gt;
  &lt;all config:type="boolean"&gt;false&lt;/all&gt;
  &lt;keys config:type="list"&gt;
    &lt;keyid&gt;3B3011B76B9D6523&lt;/keyid&gt;
  &lt;/keys&gt;
&lt;/accept_unknown_gpg_key&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">accept_non_trusted_gpg_key</code>
         </p>
        </td><td>
         <p>
          This means, the key is known, but it is not trusted by you.
         </p>
         <p>
          You can trust all keys by adding:
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;accept_non_trusted_gpg_key&gt;
  &lt;all config:type="boolean"&gt;true&lt;/all&gt;
&lt;/accept_non_trusted_gpg_key&gt;</pre></div>
         <p>
          Or you can trust specific keys:
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;accept_non_trusted_gpg_key&gt;
  &lt;all config:type="boolean"&gt;false&lt;/all&gt;
  &lt;keys config:type="list"&gt;
    &lt;keyid&gt;3B3011B76B9D6523&lt;/keyid&gt;
  &lt;/keys&gt;
&lt;/accept_non_trusted_gpg_key&gt;</pre></div>
        </td></tr><tr><td>
         <p>
          <code class="literal">import_gpg_key</code>
         </p>
        </td><td>
         <p>
          If <code class="literal">all</code> is set to <code class="literal">true</code>, AutoYaST will accept and import
          all new gpg keys on the installation source into its database.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;import_gpg_key&gt;
  &lt;all config:type="boolean"&gt;true&lt;/all&gt;
&lt;/import_gpg_key&gt;</pre></div>
         <p>
          This can be done for specific keys only:
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;import_gpg_key&gt;
  &lt;all config:type="boolean"&gt;false&lt;/all&gt;
  &lt;keys config:type="list"&gt;
    &lt;keyid&gt;3B3011B76B9D6523&lt;/keyid&gt;
  &lt;/keys&gt;
&lt;/import_gpg_key&gt;</pre></div>
        </td></tr></tbody></table></div></div><div class="sect2 " id="Software.Selections.kernel"><div class="titlepage"><div><div><h3 class="title" id="Software.Selections.kernel"><span class="number">4.8.5 </span><span class="name">Kernel Packages</span> <a title="Permalink" class="permalink" href="configuration.html#Software.Selections.kernel">#</a></h3></div></div></div><p>
     Kernel packages are not part of any selection. The required kernel is
     determined during installation. If the kernel package is added to any
     selection or to the individual package selection, installation will
     mostly fail because of conflicts.
    </p><p>
     To force the installation of a specific kernel, use the
     <code class="literal">kernel</code> property. The following is an example of
     forcing the installation of the default kernel. This kernel will be
     installed even if an SMP or other kernel is required.
    </p><div class="example" id="idm139679522074928"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.22: </span><span class="name">Kernel Selection in the Control File </span><a title="Permalink" class="permalink" href="configuration.html#idm139679522074928">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;software&gt;
  &lt;kernel&gt;kernel-default&lt;/kernel&gt;
  ...
&lt;/software&gt;</pre></div></div></div></div><div class="sect2 " id="Software.Selections.remove_packs"><div class="titlepage"><div><div><h3 class="title" id="Software.Selections.remove_packs"><span class="number">4.8.6 </span><span class="name">Removing Automatically Selected Packages</span> <a title="Permalink" class="permalink" href="configuration.html#Software.Selections.remove_packs">#</a></h3></div></div></div><p>
     Some packages are selected automatically either because of a dependency
     or because it is available in a selection.
    </p><p>
     Removing these packages might break the system consistency, and it is not
     recommended to remove basic packages unless a replacement which
     provides the same services is provided. The best example for this case
     are mail transfer agent (MTA) packages. By default,
     <code class="systemitem">postfix</code> will be selected and installed. To use another MTA like <code class="systemitem">sendmail</code>, then
     postfix can be removed from the list of selected package using a list
     in the software resource. However, note that sendmail is not shipped
     with <span class="productname"><span class="phrase">openSUSE Leap</span></span>. The following example shows how this can be
     done:
    </p><div class="example" id="idm139679522068592"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.23: </span><span class="name">Package Selection in Control File </span><a title="Permalink" class="permalink" href="configuration.html#idm139679522068592">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;software&gt;
  &lt;packages  config:type="list"&gt;
    &lt;package&gt;sendmail&lt;/package&gt;
  &lt;/packages&gt;
  &lt;remove-packages  config:type="list"&gt;
    &lt;package&gt;postfix&lt;/package&gt;
  &lt;/remove-packages&gt;
&lt;/software&gt;</pre></div></div></div><div id="idm139679522067104" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Package Removal Failure</h6><p>
      Note that it is not possible to remove a package, that is part of a
      pattern (see <a class="xref" href="configuration.html#Software.Selections.sles10" title="4.8.2. Package Selection with Patterns and Packages Sections">Section 4.8.2, “Package Selection with Patterns and Packages Sections”</a>).  When
      specifying such a package for removal, the installation will fail with
      the following error message:
     </p><div class="verbatim-wrap"><pre class="screen">The package resolver run failed. Check
      your software section in the AutoYaST profile.</pre></div></div></div><div class="sect2 " id="Software.Selections.recommend_packs"><div class="titlepage"><div><div><h3 class="title" id="Software.Selections.recommend_packs"><span class="number">4.8.7 </span><span class="name">Installing Recommended Packages/Patterns</span> <a title="Permalink" class="permalink" href="configuration.html#Software.Selections.recommend_packs">#</a></h3></div></div></div><p>
     By default all recommended packages/patterns will be installed.
     To have a minimal installation which includes required
     packages only, you can switch off this behavior with the flag
     <code class="literal">install_recommended</code>. Note that this flag only affects
     a fresh installation and will be ignored during an upgrade.
    </p><div class="verbatim-wrap"><pre class="screen">&lt;software&gt;
  &lt;install_recommended config:type="boolean"&gt;false
  &lt;/install_recommended&gt;
&lt;/software&gt;</pre></div><p>
     <span class="emphasis"><em>Default</em></span>: If this flag has not been set in the configuration file <span class="emphasis"><em>all</em></span>
     recommended <code class="literal">packages</code> and <span class="emphasis"><em>no</em></span>
     recommended <code class="literal">pattern</code> will be installed.
    </p></div><div class="sect2 " id="Software.Selections.stage2_packs"><div class="titlepage"><div><div><h3 class="title" id="Software.Selections.stage2_packs"><span class="number">4.8.8 </span><span class="name">Installing Packages in Stage 2</span> <a title="Permalink" class="permalink" href="configuration.html#Software.Selections.stage2_packs">#</a></h3></div></div></div><p>
     To install packages after the reboot during stage two, you can
     use the <code class="literal">post-packages</code> element for that:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;software&gt;
  &lt;post-packages config:type="list"&gt;
    &lt;package&gt;yast2-cim&lt;/package&gt;
  &lt;/post-packages&gt;
&lt;/software&gt;</pre></div></div><div class="sect2 " id="Software.Selections.stage2_patterns"><div class="titlepage"><div><div><h3 class="title" id="Software.Selections.stage2_patterns"><span class="number">4.8.9 </span><span class="name">Installing Patterns in Stage 2</span> <a title="Permalink" class="permalink" href="configuration.html#Software.Selections.stage2_patterns">#</a></h3></div></div></div><p>
     You can also install patterns in stage 2. Use the
     <code class="literal">post-patterns</code> element for that:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;software&gt;
  &lt;post-patterns config:type="list"&gt;
    &lt;pattern&gt;apparmor&lt;/pattern&gt;
  &lt;/post-patterns&gt;
&lt;/software&gt;</pre></div></div><div class="sect2 " id="Software.Selections.stage2_update"><div class="titlepage"><div><div><h3 class="title" id="Software.Selections.stage2_update"><span class="number">4.8.10 </span><span class="name">Online Update in Stage 2</span> <a title="Permalink" class="permalink" href="configuration.html#Software.Selections.stage2_update">#</a></h3></div></div></div><p>
     You can perform an online update at the end of the installation. Set
     the boolean <code class="literal">do_online_update</code> to
     <code class="literal">true</code>. Of course this only makes sense if you add an
     online update repository in the suse-register/customer-center section,
     for example, or in a post-script. If the online update repository was
     already available in stage one via the add-on section, then AutoYaST has
     already installed the latest packages available. If a kernel update is
     done via online-update, a reboot at the end of stage two is triggered.
    </p><div class="verbatim-wrap"><pre class="screen">&lt;software&gt;
  &lt;do_online_update config:type="boolean"&gt;true&lt;/do_online_update&gt;
&lt;/software&gt;</pre></div></div></div><div class="sect1 " id="CreateProfile.upgrade"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.upgrade"><span class="number">4.9 </span><span class="name">Upgrade</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.upgrade">#</a></h2></div></div></div><p>
    AutoYaST can also be used for doing a system upgrade. Besides upgrade
    packages, the following sections are supported too:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      <code class="literal">scripts/pre-scripts</code> Running user scripts very early, before anything else
      really happens.
     </p></li><li class="listitem "><p>
      <code class="literal">add-on</code> Defining an additional add-on product.
     </p></li><li class="listitem "><p>
      <code class="literal">language</code> Setting language.
     </p></li><li class="listitem "><p>
      <code class="literal">timezone</code> Setting timezone.
     </p></li><li class="listitem "><p>
      <code class="literal">keyboard</code> Setting keyboard.
     </p></li><li class="listitem "><p>
      <code class="literal">software</code> Installing additional software/patterns.
       Removing installed packages.
     </p></li><li class="listitem "><p>
      <code class="literal">suse_register</code> Running registration process.
     </p></li></ul></div><p>
    To control the upgrade process the following sections can be defined:
   </p><div class="example" id="idm139679542091024"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.24: </span><span class="name">Upgrade and Backup </span><a title="Permalink" class="permalink" href="configuration.html#idm139679542091024">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;upgrade&gt;
    &lt;stop_on_solver_conflict config:type="boolean"&gt;true&lt;/stop_on_solver_conflict&gt;
  &lt;/upgrade&gt;
  &lt;backup&gt;
    &lt;sysconfig config:type="boolean"&gt;true&lt;/sysconfig&gt;
    &lt;modified config:type="boolean"&gt;true&lt;/modified&gt;
    &lt;remove_old config:type="boolean"&gt;true&lt;/remove_old&gt;
  &lt;/backup&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          stop_on_solver_conflict
         </p>
        </td><td>
         <p>
          Halt installation if there are package dependency issues.
         </p>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          modified
         </p>
        </td><td>
         <p>
          Create backup of modified files.
         </p>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          sysconfig
         </p>
        </td><td>
         <p>
          Create backup of <code class="filename">/etc/sysconfig</code> directory.
         </p>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          remove_old
         </p>
        </td><td>
         <p>
          Remove backups from previous updates.
         </p>
        </td><td>
         
        </td></tr></tbody></table></div><div id="idm139679519634544" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Starting AutoYaST in upgrade mode</h6><p>
     To start the AutoYaST upgrade mode while booting the system, you
     need to select the <code class="literal">Installation</code> menu item and use the
     following boot parameters:
    </p><div class="verbatim-wrap"><pre class="screen">autoupgrade=1 autoyast=http://..</pre></div></div></div><div class="sect1 " id="CreateProfile.Services"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Services"><span class="number">4.10 </span><span class="name">Services and Targets</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Services">#</a></h2></div></div></div><p>
    With the <code class="literal">services-manager</code> resource you can set the
    default systemd target and specify in detail which system services you
    want to start or deactivate.
   </p><p>
    The <code class="literal">default-target</code> property specifies the default
    systemd target into which the system boots. Valid options are
    <code class="literal">graphical</code> for a graphical login, or
    <code class="literal">multi-user</code> for a console login.
   </p><p>
    The &lt;enable config:type="list"&gt; and &lt;disable
    config:type="list"&gt; let you explicitly enable or disable services.
   </p><div class="example" id="idm139679519626576"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.25: </span><span class="name">Configuring Services and Targets </span><a title="Permalink" class="permalink" href="configuration.html#idm139679519626576">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;services-manager&gt;
  &lt;default_target&gt;multi-user&lt;/default_target&gt;
  &lt;services&gt;
    &lt;disable config:type="list"&gt;
      &lt;service&gt;cups&lt;/service&gt;
    &lt;/disable&gt;
    &lt;enable config:type="list"&gt;
      &lt;service&gt;sshd&lt;/service&gt;
    &lt;/enable&gt;
  &lt;/services&gt;
&lt;/services-manager&gt;</pre></div></div></div></div><div class="sect1 " id="CreateProfile.Network"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Network"><span class="number">4.11 </span><span class="name">Network Configuration</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Network">#</a></h2></div></div></div><p>
    Network configuration is used to connect a single workstation to an
    Ethernet-based LAN or to configure a dial-up connection. More complex
    configurations (multiple network cards, routing, etc.) are also
    provided.
   </p><p>
    If the following setting is set to <code class="literal">true</code>, YaST
    will keep network settings created during the installation (via Linuxrc)
    and/or merge it with network settings from the AutoYaST control file (if
    defined). AutoYaST settings have higher priority than already present
    configuration files. YaST will write ifcfg-* files based on the
    entries in the control file without removing old ones. If there is an
    empty or no dns and routing section, YaST will keep already
    existing values. Otherwise settings from the control file will be
    applied.
   </p><div class="verbatim-wrap"><pre class="screen">&lt;keep_install_network
config:type="boolean"&gt;true&lt;/keep_install_network&gt;</pre></div><p>
    During the second stage, installation of additional packages will take
    place before the network, as described in the profile, is configured.
    <code class="literal">keep_install_network</code> is set by default to
    <code class="literal">true</code> to ensure that a network is available
    in case it is needed to install those packages. If all packages
    are installed during the first stage and the network is not needed early
    during the second one, setting <code class="literal">keep_install_network</code>
    to <code class="literal">false</code> will avoid copying the configuration.
   </p><p>
    To configure network settings and activate networking automatically, one
    global resource is used to store the whole network configuration.
   </p><div class="example" id="ex.ay.network_config.general"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.26: </span><span class="name">Network configuration </span><a title="Permalink" class="permalink" href="configuration.html#ex.ay.network_config.general">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;networking&gt;
  &lt;dns&gt;
    &lt;dhcp_hostname config:type="boolean"&gt;true&lt;/dhcp_hostname&gt;
    &lt;domain&gt;site&lt;/domain&gt;
    &lt;hostname&gt;linux-bqua&lt;/hostname&gt;
    &lt;nameservers config:type="list"&gt;
      &lt;nameserver&gt;192.168.1.116&lt;/nameserver&gt;
      &lt;nameserver&gt;192.168.1.117&lt;/nameserver&gt;
      &lt;nameserver&gt;192.168.1.118&lt;/nameserver&gt;
    &lt;/nameservers&gt;
    &lt;resolv_conf_policy&gt;auto&lt;/resolv_conf_policy&gt;
    &lt;searchlist config:type="list"&gt;
      &lt;search&gt;example.com&lt;/search&gt;
      &lt;search&gt;example.net&lt;/search&gt;
    &lt;/searchlist&gt;
    &lt;write_hostname config:type="boolean"&gt;false&lt;/write_hostname&gt;
  &lt;/dns&gt;
  &lt;interfaces config:type="list"&gt;
    &lt;interface&gt;
      &lt;bootproto&gt;dhcp&lt;/bootproto&gt;
      &lt;device&gt;eth0&lt;/device&gt;
      &lt;startmode&gt;auto&lt;/startmode&gt;
    &lt;/interface&gt;
    &lt;interface&gt;
      &lt;bootproto&gt;static&lt;/bootproto&gt;
      &lt;broadcast&gt;127.255.255.255&lt;/broadcast&gt;
      &lt;device&gt;lo&lt;/device&gt;
      &lt;firewall&gt;no&lt;/firewall&gt;
      &lt;ipaddr&gt;127.0.0.1&lt;/ipaddr&gt;
      &lt;netmask&gt;255.0.0.0&lt;/netmask&gt;
      &lt;network&gt;127.0.0.0&lt;/network&gt;
      &lt;prefixlen&gt;8&lt;/prefixlen&gt;
      &lt;startmode&gt;nfsroot&lt;/startmode&gt;
      &lt;usercontrol&gt;no&lt;/usercontrol&gt;
    &lt;/interface&gt;
  &lt;/interfaces&gt;
  &lt;ipv6 config:type="boolean"&gt;true&lt;/ipv6&gt;
  &lt;keep_install_network config:type="boolean"&gt;false&lt;/keep_install_network&gt;
  &lt;managed config:type="boolean"&gt;false&lt;/managed&gt;       ###### NetworkManager?
  &lt;net-udev config:type="list"&gt;
    &lt;rule&gt;
      &lt;name&gt;eth0&lt;/name&gt;
      &lt;rule&gt;ATTR{address}&lt;/rule&gt;
      &lt;value&gt;00:30:6E:08:EC:80&lt;/value&gt;
    &lt;/rule&gt;
  &lt;/net-udev&gt;
  &lt;s390-devices config:type="list"&gt;
    &lt;listentry&gt;
      &lt;chanids&gt;0.0.0800 0.0.0801 0.0.0802&lt;/chanids&gt;
      &lt;type&gt;qeth&lt;/type&gt;
    &lt;/listentry&gt;
  &lt;/s390-devices&gt;
  &lt;routing&gt;
    &lt;ipv4_forward config:type="boolean"&gt;false&lt;/ipv4_forward&gt;
    &lt;ipv6_forward config:type="boolean"&gt;false&lt;/ipv6_forward&gt;
    &lt;routes config:type="list"&gt;
      &lt;route&gt;
        &lt;destination&gt;192.168.2.1&lt;/destination&gt;
        &lt;device&gt;eth0&lt;/device&gt;
        &lt;extrapara&gt;foo&lt;/extrapara&gt;
        &lt;gateway&gt;-&lt;/gateway&gt;
        &lt;netmask&gt;-&lt;/netmask&gt;
      &lt;/route&gt;
      &lt;route&gt;
        &lt;destination&gt;default&lt;/destination&gt;
        &lt;device&gt;eth0&lt;/device&gt;
        &lt;gateway&gt;192.168.1.1&lt;/gateway&gt;
        &lt;netmask&gt;-&lt;/netmask&gt;
      &lt;/route&gt;
      &lt;route&gt;
        &lt;destination&gt;default&lt;/destination&gt;
        &lt;device&gt;lo&lt;/device&gt;
        &lt;gateway&gt;192.168.5.1&lt;/gateway&gt;
        &lt;netmask&gt;-&lt;/netmask&gt;
      &lt;/route&gt;
    &lt;/routes&gt;
  &lt;/routing&gt;
&lt;/networking&gt;</pre></div></div></div><div class="example" id="ex.ay.network_config.bridge"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.27: </span><span class="name">Bridge Interface Configuration </span><a title="Permalink" class="permalink" href="configuration.html#ex.ay.network_config.bridge">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;interfaces config:type="list"&gt;
  &lt;interface&gt;
    &lt;device&gt;br0&lt;/device&gt;
    &lt;bootproto&gt;static&lt;/bootproto&gt;
    &lt;bridge&gt;yes&lt;/bridge&gt;
    &lt;bridge_forwarddelay&gt;0&lt;/bridge_forwarddelay&gt;
    &lt;bridge_ports&gt;eth0 eth1&lt;/bridge_ports&gt;
    &lt;bridge_stp&gt;off&lt;/bridge_stp&gt;
    &lt;ipaddr&gt;192.168.122.100&lt;/ipaddr&gt;
    &lt;netmask&gt;255.255.255.0&lt;/netmask&gt;
    &lt;network&gt;192.168.122.0&lt;/network&gt;
    &lt;prefixlen&gt;24&lt;/prefixlen&gt;
    &lt;startmode&gt;auto&lt;/startmode&gt;
  &lt;/interface&gt;
  &lt;interface&gt;
    &lt;device&gt;eth0&lt;/device&gt;
    &lt;bootproto&gt;none&lt;/bootproto&gt;
    &lt;startmode&gt;hotplug&lt;/startmode&gt;
  &lt;/interface&gt;
  &lt;interface&gt;
    &lt;device&gt;eth1&lt;/device&gt;
    &lt;bootproto&gt;none&lt;/bootproto&gt;
    &lt;startmode&gt;hotplug&lt;/startmode&gt;
  &lt;/interface&gt;
&lt;/interfaces&gt;</pre></div></div></div><div id="idm139679554130160" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: IPv6 Address Support</h6><p>
     Using IPv6 addresses in AutoYaST is fully supported. To disable IPv6
     Address Support, set &lt;ipv6
     config:type="boolean"&gt;false&lt;/ipv6&gt;
    </p></div><div class="sect2 " id="CreateProfile.Network.names"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Network.names"><span class="number">4.11.1 </span><span class="name">Persistent Names of Network Interfaces</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Network.names">#</a></h3></div></div></div><p>
     The following elements must be between the
     &lt;net-udev&gt;...&lt;/net-udev&gt; tags.
    </p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          name
         </p>
        </td><td>
         <p>
          Network interface name, for example <code class="literal">eth3</code>
         </p>
        </td><td>
         <p>
          required
         </p>
        </td></tr><tr><td>
         <p>
          rule
         </p>
        </td><td>
         <p>
          <code class="literal">ATTR{address}</code> for a MAC based rule,
          <code class="literal">KERNELS</code> for a bus ID based rule
         </p>
        </td><td>
         <p>
          required
         </p>
        </td></tr><tr><td>
         <p>
          value
         </p>
        </td><td>
         <p>
          for example <code class="literal">f0:de:f1:6b:da:69</code> for a MAC rule,
          <code class="literal">0000:00:1c.1 or 0.0.0700</code> for a bus ID rule
         </p>
        </td><td>
         <p>
          required
         </p>
        </td></tr></tbody></table></div><div id="idm139679554109840" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Handling Collisions in Device Names</h6><p>
       When creating an incomplete <span class="emphasis"><em>udev</em></span> rule set, the
       chosen device name can collide with existing device names. For
       example, when renaming a network interface to <code class="literal">eth0</code>,
       a collision with a device automatically generated by the kernel can
       occur. AutoYaST tries to handle such cases in best effort manner and
       renames colliding devices.
      </p></div></div><div class="sect2 " id="CreateProfile.Network.s390"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Network.s390"><span class="number">4.11.2 </span><span class="name">s390 Devices</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Network.s390">#</a></h3></div></div></div><p>
     The following elements must be between the
     &lt;s390-devices&gt;...&lt;/s390-devices&gt; tags.
    </p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          type
         </p>
        </td><td>
         <p>
          qeth, ctc or iucv
         </p>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          chanids
         </p>
        </td><td>
         <p>
          channel ids separated by spaces
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;chanids&gt;0.0.0700 0.0.0701 0.0.0702&lt;/chanids&gt;</pre></div>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          layer2
         </p>
        </td><td>
         
<div class="verbatim-wrap"><pre class="screen">&lt;layer2 config:type="boolean"&gt;true&lt;/layer2&gt;</pre></div>
        </td><td>
         <p>
          boolean; default: false
         </p>
        </td></tr><tr><td>
         <p>
          portname
         </p>
        </td><td>
         <p>
          QETH port name (deprecated since <span class="phrase">openSUSE 42.2</span>)
         </p>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          protocol
         </p>
        </td><td>
         <p>
          CTC / LCS protocol, a small number (as a string)
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;protocol&gt;1&lt;/protocol&gt;</pre></div>
        </td><td>
         <p>
          optional
         </p>
        </td></tr><tr><td>
         <p>
          router
         </p>
        </td><td>
         <p>
          IUCV router/user
         </p>
        </td><td>
         
        </td></tr></tbody></table></div></div><div class="sect2 " id="Configuration.Network.Proxy"><div class="titlepage"><div><div><h3 class="title" id="Configuration.Network.Proxy"><span class="number">4.11.3 </span><span class="name">Proxy</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.Proxy">#</a></h3></div></div></div><p>
     Configure your Internet proxy (caching) settings.
    </p><p>
     Configure proxies for HTTP, HTTPS, and FTP with
     <code class="literal">http_proxy</code>, <code class="literal">https_proxy</code>
     and <code class="literal">ftp_proxy</code>, respectively. Addresses or names that
     should be directly accessible need to be specified with
     <code class="literal">no_proxy</code> (space separated values). If you are using
     a proxy server with authorization, fill in
     <code class="literal">proxy_user</code> and <code class="literal">proxy_password</code>,
    </p><div class="example" id="idm139679544996432"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.28: </span><span class="name">Network configuration: Proxy </span><a title="Permalink" class="permalink" href="configuration.html#idm139679544996432">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;proxy&gt;
  &lt;enabled config:type="boolean"&gt;true&lt;/enabled&gt;
  &lt;ftp_proxy&gt;http://192.168.1.240:3128&lt;/ftp_proxy&gt;
  &lt;http_proxy&gt;http://192.168.1.240:3128&lt;/http_proxy&gt;
  &lt;no_proxy&gt;www.example.com .example.org localhost&lt;/no_proxy&gt;
  &lt;proxy_password&gt;testpw&lt;/proxy_password&gt;
  &lt;proxy_user&gt;testuser&lt;/proxy_user&gt;
&lt;/proxy&gt;</pre></div></div></div></div></div><div class="sect1 " id="Configuration.Network.NIS"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.NIS"><span class="number">4.12 </span><span class="name">NIS Client</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.NIS">#</a></h2></div></div></div><p>
    Using the <code class="literal">nis</code> resource, you can configure the target
    machine as a NIS client. The following example shows a detailed
    configuration using multiple domains.
   </p><div class="example" id="idm139679522520496"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.29: </span><span class="name">Network configuration: NIS </span><a title="Permalink" class="permalink" href="configuration.html#idm139679522520496">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen"> &lt;nis&gt;
  &lt;nis_broadcast config:type="boolean"&gt;true&lt;/nis_broadcast&gt;
  &lt;nis_broken_server config:type="boolean"&gt;true&lt;/nis_broken_server&gt;
  &lt;nis_by_dhcp config:type="boolean"&gt;false&lt;/nis_by_dhcp&gt;
  &lt;nis_domain&gt;test.com&lt;/nis_domain&gt;
  &lt;nis_local_only config:type="boolean"&gt;true&lt;/nis_local_only&gt;
  &lt;nis_options&gt;&lt;/nis_options&gt;
  &lt;nis_other_domains config:type="list"&gt;
    &lt;nis_other_domain&gt;
      &lt;nis_broadcast config:type="boolean"&gt;false&lt;/nis_broadcast&gt;
      &lt;nis_domain&gt;domain.com&lt;/nis_domain&gt;
      &lt;nis_servers config:type="list"&gt;
        &lt;nis_server&gt;10.10.0.1&lt;/nis_server&gt;
      &lt;/nis_servers&gt;
    &lt;/nis_other_domain&gt;
  &lt;/nis_other_domains&gt;
  &lt;nis_servers config:type="list"&gt;
    &lt;nis_server&gt;192.168.1.1&lt;/nis_server&gt;
  &lt;/nis_servers&gt;
  &lt;start_autofs config:type="boolean"&gt;true&lt;/start_autofs&gt;
  &lt;start_nis config:type="boolean"&gt;true&lt;/start_nis&gt;
&lt;/nis&gt;</pre></div></div></div></div><div class="sect1 " id="Configuration.Network.NIS_Server"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.NIS_Server"><span class="number">4.13 </span><span class="name">NIS Server</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.NIS_Server">#</a></h2></div></div></div><p>
    You can configure the target machine as a NIS server.
    NIS Master Server and NIS Slave Server and a combination of both are available.
   </p><div class="example" id="idm139679522516368"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.30: </span><span class="name">NIS Server Configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679522516368">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;nis_server&gt;
    &lt;domain&gt;mydomain.de&lt;/domain&gt;
    &lt;maps_to_serve config:type="list"&gt;
      &lt;nis_map&gt;auto.master&lt;/nis_map&gt;
      &lt;nis_map&gt;ethers&lt;/nis_map&gt;
    &lt;/maps_to_serve&gt;
    &lt;merge_passwd config:type="boolean"&gt;false&lt;/merge_passwd&gt;
    &lt;mingid config:type="integer"&gt;0&lt;/mingid&gt;
    &lt;minuid config:type="integer"&gt;0&lt;/minuid&gt;
    &lt;nopush config:type="boolean"&gt;false&lt;/nopush&gt;
    &lt;pwd_chfn config:type="boolean"&gt;false&lt;/pwd_chfn&gt;
    &lt;pwd_chsh config:type="boolean"&gt;false&lt;/pwd_chsh&gt;
    &lt;pwd_srcdir&gt;/etc&lt;/pwd_srcdir&gt;
    &lt;securenets config:type="list"&gt;
      &lt;securenet&gt;
        &lt;netmask&gt;255.0.0.0&lt;/netmask&gt;
        &lt;network&gt;127.0.0.0&lt;/network&gt;
      &lt;/securenet&gt;
    &lt;/securenets&gt;
    &lt;server_type&gt;master&lt;/server_type&gt;
    &lt;slaves config:type="list"/&gt;
    &lt;start_ypbind config:type="boolean"&gt;false&lt;/start_ypbind&gt;
    &lt;start_yppasswdd config:type="boolean"&gt;false&lt;/start_yppasswdd&gt;
    &lt;start_ypxfrd config:type="boolean"&gt;false&lt;/start_ypxfrd&gt;
  &lt;/nis_server&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
        <p>
         Attribute
        </p>
       </th><th>
        <p>
         Values
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         <code class="literal">domain</code>
        </p>
       </td><td>
        <p>
         NIS domain name.
        </p>
       </td><td>
        
       </td></tr><tr><td>
        <p>
         <code class="literal">maps_to_serve</code>
        </p>
       </td><td>
        <p>
         List of maps which are available for the server.
        </p>
       </td><td>
        <p>
        Values: auto.master, ethers, group, hosts, netgrp, networks, passwd, protocols, rpc, services, shadow
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">merge_passwd</code>
        </p>
       </td><td>
        <p>
         Select if your passwd file should be merged with the shadow file (only possible if the shadow file exists).
        </p>
       </td><td>
        <p>
         Value: true/false
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">mingid</code>
        </p>
       </td><td>
        <p>
         Minimum GID to include in the user maps.
        </p>
       </td><td>
        
       </td></tr><tr><td>
        <p>
         <code class="literal">minuid</code>
        </p>
       </td><td>
        <p>
         Minimum UID to include in the user maps.
        </p>
       </td><td>
        
       </td></tr><tr><td>
        <p>
         <code class="literal">nopush</code>
        </p>
       </td><td>
        <p>
         Do not push the changes to slave servers. (Useful if there are none).
        </p>
       </td><td>
        <p>
         Value: true/false
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">pwd_chfn</code>
        </p>
       </td><td>
        <p>
         YPPWD_CHFN - allow changing the full name
        </p>
       </td><td>
        <p>
         Value: true/false
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">pwd_chsh</code>
        </p>
       </td><td>
        <p>
         YPPWD_CHSH - allow changing the login shell
        </p>
       </td><td>
        <p>
         Value: true/false
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">pwd_srcdir</code>
        </p>
       </td><td>
        <p>
         YPPWD_SRCDIR - source directory for passwd data
        </p>
       </td><td>
        <p>
         Default: <code class="filename">/etc</code>
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">securenets</code>
        </p>
       </td><td>
        <p>
         List of allowed hosts to query the NIS server
        </p>
       </td><td>
        <p>
         
         A host address will be allowed if network is equal to the bitwise
         AND of the host's address and the netmask.
        </p>
        <p>
         The entry with netmask 255.0.0.0 and network 127.0.0.0 must exist
         to allow connections from the local host.
        </p>
        <p>
         Entering netmask 0.0.0.0 and network 0.0.0.0 gives access to all hosts.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">server_type</code>
        </p>
       </td><td>
        <p>
         Select whether to configure the NIS server as a master or a slave or not to configure a NIS server.
        </p>
       </td><td>
        <p>
         Values: master, slave, none
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">slaves</code>
        </p>
       </td><td>
        <p>
         List of host names to configure as NIS server slaves.
        </p>
       </td><td>
        
       </td></tr><tr><td>
        <p>
         <code class="literal">start_ypbind</code>
        </p>
       </td><td>
        <p>
         This host is also a NIS client (only when client is configured locally).
        </p>
       </td><td>
        <p>
         Value: true/false
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">start_yppasswdd</code>
        </p>
       </td><td>
        <p>
         Also start the password daemon.
        </p>
       </td><td>
        <p>
         Value: true/false
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">start_ypxfrd</code>
        </p>
       </td><td>
        <p>
         Also start the map transfer daemon. Fast Map distribution; it will speed up the transfer of maps to the slaves.
        </p>
       </td><td>
        <p>
         Value: true/false
        </p>
       </td></tr></tbody></table></div></div><div class="sect1 " id="Configuration.Network.Ldap"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.Ldap"><span class="number">4.14 </span><span class="name">LDAP Server (Authentication Server)</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.Ldap">#</a></h2></div></div></div><p>
    Using the <code class="literal">auth-server</code> resource, you can configure the
    target machine as an LDAP server. The following example shows a detailed
    configuration.
   </p><div class="example" id="idm139679520118080"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.31: </span><span class="name">LDAP configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520118080">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;auth-server&gt;
    &lt;daemon&gt;
      &lt;listeners config:type="list"&gt;
        &lt;listentry&gt;ldap&lt;/listentry&gt;
        &lt;listentry&gt;ldapi&lt;/listentry&gt;
      &lt;/listeners&gt;
      &lt;serviceEnabled&gt;1&lt;/serviceEnabled&gt;
      &lt;slp/&gt;
    &lt;/daemon&gt;
    &lt;databases config:type="list"&gt;
      &lt;listentry&gt;
        &lt;access config:type="list"&gt;
          &lt;listentry&gt;
            &lt;access config:type="list"&gt;
              &lt;listentry&gt;
                &lt;control/&gt;
                &lt;level&gt;write&lt;/level&gt;
                &lt;type&gt;self&lt;/type&gt;
                &lt;value/&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;control/&gt;
                &lt;level&gt;auth&lt;/level&gt;
                &lt;type&gt;*&lt;/type&gt;
                &lt;value/&gt;
              &lt;/listentry&gt;
            &lt;/access&gt;
            &lt;target&gt;
              &lt;attrs&gt;userPassword&lt;/attrs&gt;
            &lt;/target&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;access config:type="list"&gt;
              &lt;listentry&gt;
                &lt;control/&gt;
                &lt;level&gt;write&lt;/level&gt;
                &lt;type&gt;self&lt;/type&gt;
                &lt;value/&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;control/&gt;
                &lt;level&gt;read&lt;/level&gt;
                &lt;type&gt;*&lt;/type&gt;
                &lt;value/&gt;
              &lt;/listentry&gt;
            &lt;/access&gt;
            &lt;target&gt;
              &lt;attrs&gt;shadowLastChange&lt;/attrs&gt;
            &lt;/target&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;access config:type="list"&gt;
              &lt;listentry&gt;
                &lt;control/&gt;
                &lt;level&gt;read&lt;/level&gt;
                &lt;type&gt;self&lt;/type&gt;
                &lt;value/&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;control/&gt;
                &lt;level&gt;none&lt;/level&gt;
                &lt;type&gt;*&lt;/type&gt;
                &lt;value/&gt;
              &lt;/listentry&gt;
            &lt;/access&gt;
            &lt;target&gt;
              &lt;attrs&gt;userPKCS12&lt;/attrs&gt;
            &lt;/target&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;access config:type="list"&gt;
              &lt;listentry&gt;
                &lt;control/&gt;
                &lt;level&gt;read&lt;/level&gt;
                &lt;type&gt;*&lt;/type&gt;
                &lt;value/&gt;
              &lt;/listentry&gt;
            &lt;/access&gt;
            &lt;target/&gt;
          &lt;/listentry&gt;
        &lt;/access&gt;
        &lt;checkpoint config:type="list"&gt;
          &lt;listentry&gt;1024&lt;/listentry&gt;
          &lt;listentry&gt;5&lt;/listentry&gt;
        &lt;/checkpoint&gt;
        &lt;directory&gt;/var/lib/ldap&lt;/directory&gt;
        &lt;entrycache&gt;10000&lt;/entrycache&gt;
        &lt;idlcache&gt;30000&lt;/idlcache&gt;
        &lt;indexes&gt;
          &lt;cn&gt;
            &lt;eq&gt;1&lt;/eq&gt;
            &lt;sub&gt;1&lt;/sub&gt;
          &lt;/cn&gt;
          &lt;displayName&gt;
            &lt;eq&gt;1&lt;/eq&gt;
            &lt;sub&gt;1&lt;/sub&gt;
          &lt;/displayName&gt;
          &lt;gidNumber&gt;
            &lt;eq&gt;1&lt;/eq&gt;
          &lt;/gidNumber&gt;
          &lt;givenName&gt;
            &lt;eq&gt;1&lt;/eq&gt;
            &lt;sub&gt;1&lt;/sub&gt;
          &lt;/givenName&gt;
          &lt;mail&gt;
            &lt;eq&gt;1&lt;/eq&gt;
          &lt;/mail&gt;
          &lt;member&gt;
            &lt;eq&gt;1&lt;/eq&gt;
          &lt;/member&gt;
          &lt;memberUid&gt;
            &lt;eq&gt;1&lt;/eq&gt;
          &lt;/memberUid&gt;
          &lt;objectclass&gt;
            &lt;eq&gt;1&lt;/eq&gt;
          &lt;/objectclass&gt;
          &lt;sn&gt;
            &lt;eq&gt;1&lt;/eq&gt;
            &lt;sub&gt;1&lt;/sub&gt;
          &lt;/sn&gt;
          &lt;uid&gt;
            &lt;eq&gt;1&lt;/eq&gt;
            &lt;sub&gt;1&lt;/sub&gt;
          &lt;/uid&gt;
          &lt;uidNumber&gt;
            &lt;eq&gt;1&lt;/eq&gt;
          &lt;/uidNumber&gt;
        &lt;/indexes&gt;
        &lt;rootdn&gt;cn=Administrator,DC=corp,DC=Fabrikam,DC=COM,CN=Karen Berge&lt;/rootdn&gt;
        &lt;rootpw&gt;{SSHA}LCdgE3gNejqBogGI3ac1Xf4DOIVMSk9ZQg==&lt;/rootpw&gt;
        &lt;suffix&gt;DC=corp,DC=Fabrikam,DC=COM,CN=Karen Berge&lt;/suffix&gt;
        &lt;type&gt;hdb&lt;/type&gt;
      &lt;/listentry&gt;
    &lt;/databases&gt;
    &lt;globals&gt;
      &lt;allow config:type="list"/&gt;
      &lt;disallow config:type="list"/&gt;
      &lt;loglevel config:type="list"&gt;
        &lt;listentry&gt;none&lt;/listentry&gt;
      &lt;/loglevel&gt;
      &lt;tlsconfig&gt;
        &lt;caCertDir/&gt;
        &lt;caCertFile/&gt;
        &lt;certFile/&gt;
        &lt;certKeyFile/&gt;
        &lt;crlCheck&gt;0&lt;/crlCheck&gt;
        &lt;crlFile/&gt;
        &lt;verifyClient&gt;0&lt;/verifyClient&gt;
      &lt;/tlsconfig&gt;
    &lt;/globals&gt;
    &lt;schema config:type="list"&gt;
      &lt;listentry&gt;
        &lt;definition&gt;dn: cn=schema,cn=config
            objectClass: olcSchemaConfig
            ......
            .....
            ....
            ...
            ..
            .
        &lt;/definition&gt;
        &lt;name&gt;schema&lt;/name&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;includeldif&gt;/etc/openldap/schema/core.ldif&lt;/includeldif&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;includeldif&gt;/etc/openldap/schema/cosine.ldif&lt;/includeldif&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;includeldif&gt;/etc/openldap/schema/inetorgperson.ldif&lt;/includeldif&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;includeschema&gt;/etc/openldap/schema/rfc2307bis.schema&lt;/includeschema&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;includeschema&gt;/etc/openldap/schema/yast.schema&lt;/includeschema&gt;
      &lt;/listentry&gt;
    &lt;/schema&gt;
  &lt;/auth-server&gt;</pre></div></div></div></div><div class="sect1 " id="Configuration.Network.Samba_client"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.Samba_client"><span class="number">4.15 </span><span class="name">Windows Domain Membership</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.Samba_client">#</a></h2></div></div></div><p>
    Using the <code class="literal">samba-client</code> resource, you can configure a
    membership of a workgroup, NT domain, or Active Directory domain.
   </p><div class="example" id="idm139679520109616"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.32: </span><span class="name">Samba Client configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520109616">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;samba-client&gt;
    &lt;disable_dhcp_hostname config:type="boolean"&gt;true&lt;/disable_dhcp_hostname&gt;
    &lt;global&gt;
      &lt;security&gt;domain&lt;/security&gt;
      &lt;usershare_allow_guests&gt;No&lt;/usershare_allow_guests&gt;
      &lt;usershare_max_shares&gt;100&lt;/usershare_max_shares&gt;
      &lt;workgroup&gt;WORKGROUP&lt;/workgroup&gt;
    &lt;/global&gt;
    &lt;winbind config:type="boolean"&gt;false&lt;/winbind&gt;
  &lt;/samba-client&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
        <p>
         Attribute
        </p>
       </th><th>
        <p>
         Values
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         <code class="literal">disable_dhcp_hostname</code>
        </p>
       </td><td>
        <p>
         Do not allow DHCP to change the host name.
        </p>
       </td><td>
        <p>
        Value: true/false
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">global/security</code>
        </p>
       </td><td>
        <p>
         Kind of authentication regime (domain technology or Active Directory server (ADS)).
        </p>
       </td><td>
        <p>
        Value: ADS/domain
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">global/usershare_allow_guests</code>
        </p>
       </td><td>
        <p>
         Sharing guest access is allowed.
        </p>
       </td><td>
        <p>
        Value: No/Yes
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">global/usershare_max_shares</code>
        </p>
       </td><td>
        <p>
         Max. number of shares from <code class="filename">smb.conf</code>.
        </p>
       </td><td>
        <p>
         0 means that shares are not enabled.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">global/workgroup</code>
        </p>
       </td><td>
        <p>
         Workgroup or domain name.
        </p>
       </td><td>
        
       </td></tr><tr><td>
        <p>
         <code class="literal">winbind</code>
        </p>
       </td><td>
        <p>
         Using winbind.
        </p>
       </td><td>
        <p>
         Value: true/false
        </p>
       </td></tr></tbody></table></div></div><div class="sect1 " id="Configuration.Network.Samba_server"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.Samba_server"><span class="number">4.16 </span><span class="name">Samba Server</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.Samba_server">#</a></h2></div></div></div><p>
    Configuration of a simple Samba server.
   </p><div class="example" id="idm139679519615872"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.33: </span><span class="name">Samba Server configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679519615872">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;samba-server&gt;
    &lt;accounts config:type="list"/&gt;
    &lt;backend/&gt;
    &lt;config config:type="list"&gt;
      &lt;listentry&gt;
        &lt;name&gt;global&lt;/name&gt;
        &lt;parameters&gt;
          &lt;security&gt;domain&lt;/security&gt;
          &lt;usershare_allow_guests&gt;No&lt;/usershare_allow_guests&gt;
          &lt;usershare_max_shares&gt;100&lt;/usershare_max_shares&gt;
          &lt;workgroup&gt;WORKGROUP&lt;/workgroup&gt;
        &lt;/parameters&gt;
      &lt;/listentry&gt;
    &lt;/config&gt;
    &lt;service&gt;Disabled&lt;/service&gt;
    &lt;trustdom/&gt;
    &lt;version&gt;2.11&lt;/version&gt;
  &lt;/samba-server&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
        <p>
         Attribute
        </p>
       </th><th>
        <p>
         Values
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         <code class="literal">accounts</code>
        </p>
       </td><td>
        <p>
         List of Samba accounts.
        </p>
       </td><td>
        
       </td></tr><tr><td>
        <p>
         <code class="literal">backend</code>
        </p>
       </td><td>
        <p>
         List of available back-ends
        </p>
       </td><td>
        <p>
        Value: true/false
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">config</code>
        </p>
       </td><td>
        <p>
         Setting additional user defined parameters in <code class="filename">/etc/samba/smb.conf</code>.
        </p>
       </td><td>
        <p>
        The example shows parameters in the <code class="literal">global</code> section of <code class="filename">/etc/samba/smb.conf</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">service</code>
        </p>
       </td><td>
        <p>
         Samba service starts during boot.
        </p>
       </td><td>
        <p>
         Value: Enabled/Disabled
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">trustdom/</code>
        </p>
       </td><td>
        <p>
         Trusted Domains.
        </p>
       </td><td>
        <p>
         A map of two maps (keys: <code class="literal">establish, revoke</code>). Each map contains entries in the format key: domainname value: password.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">version</code>
        </p>
       </td><td>
        <p>
         Samba version.
        </p>
       </td><td>
        <p>
         Default: 2.11
        </p>
       </td></tr></tbody></table></div></div><div class="sect1 " id="Configuration.Network.Auth"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.Auth"><span class="number">4.17 </span><span class="name">Authentication Client</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.Auth">#</a></h2></div></div></div><p>
    The following is a simple example for an LDAP user authentication. NSS
    and PAM will automatically be configured accordingly. Required data are
    the name of the search base (base DN, for example,
    <code class="literal">dc=mydomain,dc=com</code>) and the IP address of the LDAP
    server.
   </p><div class="example" id="idm139679519582816"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.34: </span><span class="name">Network configuration: Authentication Client </span><a title="Permalink" class="permalink" href="configuration.html#idm139679519582816">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;auth-client&gt;
  &lt;sssd&gt;yes&lt;/sssd&gt;
  &lt;nssldap&gt;no&lt;/nssldap&gt;
  &lt;sssd_conf&gt;
    &lt;sssd&gt;
      &lt;config_file_version&gt;2&lt;/config_file_version&gt;
      &lt;services&gt;nss, pam, sudo&lt;/services&gt;
      &lt;domains&gt;EXAMPLE&lt;/domains&gt;
    &lt;/sssd&gt;
    &lt;auth_domains&gt;
      &lt;domain&gt;
        &lt;domain_name&gt;EXAMPLE&lt;/domain_name&gt;
        &lt;id_provider&gt;ldap&lt;/id_provider&gt;
        &lt;sudo_provider&gt;ldap&lt;/sudo_provider&gt;
        &lt;ldap_uri&gt;ldap://example.com&lt;/ldap_uri&gt;
        &lt;ldap_sudo_search_base&gt;ou=sudoers,dc=example,dc=com&lt;/ldap_sudo_search_base&gt;
      &lt;/domain&gt;
    &lt;/auth_domains&gt;
  &lt;/sssd_conf&gt;
&lt;/auth-client&gt;</pre></div></div></div><div id="idm139679519580880" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Using ldaps://</h6><p>
     To use LDAP with native SSL (rather than TLS), add the
     <code class="literal">ldaps</code> resource:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;auth-client&gt;
  &lt;sssd_conf&gt;
    &lt;auth_domains&gt;
      &lt;domain&gt;
        &lt;ldaps config:type="boolean"&gt;true&lt;/ldaps&gt;
      &lt;/domain&gt;
    &lt;/auth_domains&gt;
  &lt;/sssd_conf&gt;
&lt;/auth-client&gt;</pre></div></div></div><div class="sect1 " id="ay.nfs"><div class="titlepage"><div><div><h2 class="title" id="ay.nfs"><span class="number">4.18 </span><span class="name">NFS Client and Server</span> <a title="Permalink" class="permalink" href="configuration.html#ay.nfs">#</a></h2></div></div></div><p>
    Configuring a system as an NFS client or an NFS server is can be done
    using the configuration system. The following examples show how both NFS
    client and server can be configured.
   </p><p>
    From <span class="productname"><span class="phrase">openSUSE Leap</span></span> <span class="productnumber"><span class="phrase">42.3</span></span> on, the structure of NFS client configuration has
    changed. Some global configuration options were introduced:
    <code class="literal">enable_nfs4</code> to switch NFS4 support on/off and
    <code class="literal">idmapd_domain</code> to define domain name for rpc.idmapd
    (this only makes sense when NFS4 is enabled). Attention: the old
    structure is not compatible with the new one and the control files with
    an NFS section created on older releases will not work with newer
    products.
   </p><div class="example" id="idm139679520528096"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.35: </span><span class="name">Network Configuration: NFS Client </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520528096">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;nfs&gt;
  &lt;enable_nfs4 config:type="boolean"&gt;true&lt;/enable_nfs4&gt;
  &lt;idmapd_domain&gt;suse.cz&lt;/idmapd_domain&gt;
  &lt;nfs_entries config:type="list"&gt;
    &lt;nfs_entry&gt;
      &lt;mount_point&gt;/home&lt;/mount_point&gt;
      &lt;nfs_options&gt;sec=krb5i,intr,rw&lt;/nfs_options&gt;
      &lt;server_path&gt;saurus.suse.cz:/home&lt;/server_path&gt;
      &lt;vfstype&gt;nfs4&lt;/vfstype&gt;
    &lt;/nfs_entry&gt;
    &lt;nfs_entry&gt;
      &lt;mount_point&gt;/work&lt;/mount_point&gt;
      &lt;nfs_options&gt;defaults&lt;/nfs_options&gt;
      &lt;server_path&gt;bivoj.suse.cz:/work&lt;/server_path&gt;
      &lt;vfstype&gt;nfs&lt;/vfstype&gt;
    &lt;/nfs_entry&gt;
    &lt;nfs_entry&gt;
      &lt;mount_point&gt;/mnt&lt;/mount_point&gt;
      &lt;nfs_options&gt;defaults&lt;/nfs_options&gt;
      &lt;server_path&gt;fallback.suse.cz:/srv/dist&lt;/server_path&gt;
      &lt;vfstype&gt;nfs&lt;/vfstype&gt;
    &lt;/nfs_entry&gt;
  &lt;/nfs_entries&gt;
&lt;/nfs&gt;</pre></div></div></div><div class="example" id="idm139679520525984"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.36: </span><span class="name">Network Configuration: NFS Server </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520525984">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;nfs_server&gt;
  &lt;nfs_exports config:type="list"&gt;
    &lt;nfs_export&gt;
      &lt;allowed config:type="list"&gt;
        &lt;allowed_clients&gt;*(ro,root_squash,sync)&lt;/allowed_clients&gt;
      &lt;/allowed&gt;
      &lt;mountpoint&gt;/home&lt;/mountpoint&gt;
    &lt;/nfs_export&gt;
    &lt;nfs_export&gt;
      &lt;allowed config:type="list"&gt;
        &lt;allowed_clients&gt;*(ro,root_squash,sync)&lt;/allowed_clients&gt;
      &lt;/allowed&gt;
      &lt;mountpoint&gt;/work&lt;/mountpoint&gt;
    &lt;/nfs_export&gt;
  &lt;/nfs_exports&gt;
  &lt;start_nfsserver config:type="boolean"&gt;true&lt;/start_nfsserver&gt;
&lt;/nfs_server&gt;</pre></div></div></div></div><div class="sect1 " id="Configuration.Network.Ntp"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.Ntp"><span class="number">4.19 </span><span class="name">NTP Client</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.Ntp">#</a></h2></div></div></div><div id="idm139679520522768" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: NTP Client Profile Incompatible</h6><p>
     Since <span class="productname"><span class="phrase">openSUSE Leap</span></span> 15, the NTP client profile has a new format and is
     <span class="emphasis"><em>not</em></span> compatible with previous profiles. You need to
     update your NTP client profile used in prior <span class="productname"><span class="phrase">openSUSE Leap</span></span> versions to be
     compatible with version 15 and newer.
    </p></div><p>
    Following is an example of the NTP client configuration:
   </p><div class="example" id="idm139679520518096"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.37: </span><span class="name">Network configuration: NTP Client </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520518096">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;ntp-client&gt;
&lt;ntp_policy&gt;auto&lt;/ntp_policy&gt;<span id="co.ay.ntp.policy"></span><span class="callout">1</span>
 &lt;ntp_servers config:type="list"&gt;
  &lt;ntp_server&gt;
   &lt;address&gt;cz.pool.ntp.org&lt;/address&gt;<span id="co.ay.ntp.address"></span><span class="callout">2</span>
   &lt;iburst config:type="boolean"&gt;false&lt;/iburst&gt;<span id="co.ay.ntp.iburst"></span><span class="callout">3</span>
   &lt;offline config:type="boolean"&gt;true&lt;/offline&gt;<span id="co.ay.ntp.offline"></span><span class="callout">4</span>
  &lt;/ntp_server&gt;
 &lt;/ntp_servers&gt;
 &lt;ntp_sync&gt;15&lt;/ntp_sync&gt;<span id="co.ay.ntp.sync"></span><span class="callout">5</span>
&lt;/ntp-client&gt;</pre></div><div class="calloutlist "><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#co.ay.ntp.policy"><span class="callout">1</span></a> </p></td><td valign="top" align="left"><p>
       The <code class="literal">ntp_policy</code> takes the same values as the
       <code class="option">NETCONFIG_NTP_POLICY</code> option in
       <code class="filename">/etc/sysconfig/network/config</code>. The most common
       options are 'static' and 'auto' (default).
       See <code class="command">man 8 netconfig</code> for more details.
      </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co.ay.ntp.address"><span class="callout">2</span></a> </p></td><td valign="top" align="left"><p>
       URL of the time server or pool of time servers.
     </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co.ay.ntp.iburst"><span class="callout">3</span></a> </p></td><td valign="top" align="left"><p>
       <code class="option">iburst</code> speeds up the initial time synchronization for
       the specific time source after <code class="systemitem">chronyd</code> is started.
      </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co.ay.ntp.offline"><span class="callout">4</span></a> </p></td><td valign="top" align="left"><p>
       <code class="option">offline</code> prevents from querying the time server if no
       network interface is active.
      </p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#co.ay.ntp.sync"><span class="callout">5</span></a> </p></td><td valign="top" align="left"><p>
       For <code class="option">ntp_sync</code>, enter 'systemd' (default) when running an
       NTP daemon, an <span class="emphasis"><em>integer</em></span> interval in seconds to
       synchronize using cron, or 'manual' for no automatic synchronization.
      </p></td></tr></table></div></div></div></div><div class="sect1 " id="Configuration.Network.Sendmail"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.Sendmail"><span class="number">4.20 </span><span class="name">Mail Configuration</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.Sendmail">#</a></h2></div></div></div><p>
    For the mail configuration of the client, this module lets you create a
    detailed mail configuration. The module contains various options. We
    recommended you use it at least for the initial configuration.
   </p><div class="example" id="idm139679520500016"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.38: </span><span class="name">Mail Configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520500016">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;mail&gt;
  &lt;aliases config:type="list"&gt;
    &lt;alias&gt;
      &lt;alias&gt;root&lt;/alias&gt;
      &lt;comment&gt;&lt;/comment&gt;
      &lt;destinations&gt;foo&lt;/destinations&gt;
    &lt;/alias&gt;
    &lt;alias&gt;
      &lt;alias&gt;test&lt;/alias&gt;
      &lt;comment&gt;&lt;/comment&gt;
      &lt;destinations&gt;foo&lt;/destinations&gt;
    &lt;/alias&gt;
  &lt;/aliases&gt;
  &lt;connection_type config:type="symbol"&gt;permanent&lt;/connection_type&gt;
  &lt;fetchmail config:type="list"&gt;
    &lt;fetchmail_entry&gt;
      &lt;local_user&gt;foo&lt;/local_user&gt;
      &lt;password&gt;bar&lt;/password&gt;
      &lt;protocol&gt;POP3&lt;/protocol&gt;
      &lt;remote_user&gt;foo&lt;/remote_user&gt;
      &lt;server&gt;pop.foo.com&lt;/server&gt;
    &lt;/fetchmail_entry&gt;
    &lt;fetchmail_entry&gt;
      &lt;local_user&gt;test&lt;/local_user&gt;
      &lt;password&gt;bar&lt;/password&gt;
      &lt;protocol&gt;IMAP&lt;/protocol&gt;
      &lt;remote_user&gt;test&lt;/remote_user&gt;
      &lt;server&gt;blah.com&lt;/server&gt;
    &lt;/fetchmail_entry&gt;
  &lt;/fetchmail&gt;
  &lt;from_header&gt;test.com&lt;/from_header&gt;
  &lt;listen_remote config:type="boolean"&gt;true&lt;/listen_remote&gt;
  &lt;local_domains config:type="list"&gt;
    &lt;domains&gt;test1.com&lt;/domains&gt;
  &lt;/local_domains&gt;
  &lt;masquerade_other_domains config:type="list"&gt;
      &lt;domain&gt;blah.com&lt;/domain&gt;
  &lt;/masquerade_other_domains&gt;
  &lt;masquerade_users config:type="list"&gt;
    &lt;masquerade_user&gt;
      &lt;address&gt;joe@test.com&lt;/address&gt;
      &lt;comment&gt;&lt;/comment&gt;
      &lt;user&gt;joeuser&lt;/user&gt;
    &lt;/masquerade_user&gt;
    &lt;masquerade_user&gt;
      &lt;address&gt;bar@test.com&lt;/address&gt;
      &lt;comment&gt;&lt;/comment&gt;
      &lt;user&gt;foo&lt;/user&gt;
    &lt;/masquerade_user&gt;
  &lt;/masquerade_users&gt;
  &lt;mta config:type="symbol"&gt;postfix&lt;/mta&gt;
  &lt;outgoing_mail_server&gt;test.com&lt;/outgoing_mail_server&gt;
  &lt;postfix_mda config:type="symbol"&gt;local&lt;/postfix_mda&gt;
  &lt;smtp_auth config:type="list"&gt;
    &lt;listentry&gt;
      &lt;password&gt;bar&lt;/password&gt;
      &lt;server&gt;test.com&lt;/server&gt;
      &lt;user&gt;foo&lt;/user&gt;
    &lt;/listentry&gt;
  &lt;/smtp_auth&gt;
  &lt;use_amavis config:type="boolean"&gt;true&lt;/use_amavis&gt;
  &lt;virtual_users config:type="list"&gt;
    &lt;virtual_user&gt;
      &lt;alias&gt;test.com&lt;/alias&gt;
      &lt;comment&gt;&lt;/comment&gt;
      &lt;destinations&gt;foo.com&lt;/destinations&gt;
    &lt;/virtual_user&gt;
    &lt;virtual_user&gt;
      &lt;alias&gt;geek.com&lt;/alias&gt;
      &lt;comment&gt;&lt;/comment&gt;
      &lt;destinations&gt;bar.com&lt;/destinations&gt;
    &lt;/virtual_user&gt;
  &lt;/virtual_users&gt;
&lt;/mail&gt;</pre></div></div></div></div><div class="sect1 " id="Configuration.Network.apache"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.apache"><span class="number">4.21 </span><span class="name">HTTP Server Configuration</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.apache">#</a></h2></div></div></div><p>
    This section is used for configuration of an Apache HTTP server.
   </p><p>
    For less experienced users, we would suggest to configure the Apache
    server using the <code class="literal">HTTP server</code> YaST module. After that,
    call the <code class="literal">AutoYaST configuration</code> module,
    select the <code class="literal">HTTP server</code> YaST module and clone the
    Apache settings. These settings can be exported via the menu
    <code class="literal">File</code>.
   </p><div class="example" id="idm139679521700272"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.39: </span><span class="name">HTTP Server Configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679521700272">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;http-server&gt;
    &lt;Listen config:type="list"&gt;
      &lt;listentry&gt;
        &lt;ADDRESS/&gt;
        &lt;PORT&gt;80&lt;/PORT&gt;
      &lt;/listentry&gt;
    &lt;/Listen&gt;
    &lt;hosts config:type="list"&gt;
      &lt;hosts_entry&gt;
        &lt;KEY&gt;main&lt;/KEY&gt;
        &lt;VALUE config:type="list"&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;DocumentRoot&lt;/KEY&gt;
            &lt;OVERHEAD&gt;
            #
            # Global configuration that will be applicable for all
            # virtual hosts, unless deleted here or overriden elsewhere.
            #
            &lt;/OVERHEAD&gt;
            &lt;VALUE&gt;"/srv/www/htdocs"&lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;_SECTION&lt;/KEY&gt;
            &lt;OVERHEAD&gt;
            #
            # Configure the DocumentRoot
            #
            &lt;/OVERHEAD&gt;
            &lt;SECTIONNAME&gt;Directory&lt;/SECTIONNAME&gt;
            &lt;SECTIONPARAM&gt;"/srv/www/htdocs"&lt;/SECTIONPARAM&gt;
            &lt;VALUE config:type="list"&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;Options&lt;/KEY&gt;
                &lt;OVERHEAD&gt;
                # Possible values for the Options directive are "None", "All",
                # or any combination of:
                #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch
                #   ExecCGI MultiViews
                #
                # Note that "MultiViews" must be named *explicitly*
                # --- "Options All"
                # does not give it to you.
                #
                # The Options directive is both complicated and important.
                #  Please see
                #  http://httpd.apache.org/docs/2.4/mod/core.html#options
                # for more information.
                &lt;/OVERHEAD&gt;
                &lt;VALUE&gt;None&lt;/VALUE&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;AllowOverride&lt;/KEY&gt;
                &lt;OVERHEAD&gt;
                # AllowOverride controls what directives may be placed in
                # .htaccess files. It can be "All", "None", or any combination
                # of the keywords:
                #   Options FileInfo AuthConfig Limit
                &lt;/OVERHEAD&gt;
                &lt;VALUE&gt;None&lt;/VALUE&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;_SECTION&lt;/KEY&gt;
                &lt;OVERHEAD&gt;
                # Controls who can get stuff from this server.
                &lt;/OVERHEAD&gt;
                &lt;SECTIONNAME&gt;IfModule&lt;/SECTIONNAME&gt;
                &lt;SECTIONPARAM&gt;!mod_access_compat.c&lt;/SECTIONPARAM&gt;
                &lt;VALUE config:type="list"&gt;
                  &lt;listentry&gt;
                    &lt;KEY&gt;Require&lt;/KEY&gt;
                    &lt;VALUE&gt;all granted&lt;/VALUE&gt;
                  &lt;/listentry&gt;
                &lt;/VALUE&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;_SECTION&lt;/KEY&gt;
                &lt;SECTIONNAME&gt;IfModule&lt;/SECTIONNAME&gt;
                &lt;SECTIONPARAM&gt;mod_access_compat.c&lt;/SECTIONPARAM&gt;
                &lt;VALUE config:type="list"&gt;
                  &lt;listentry&gt;
                    &lt;KEY&gt;Order&lt;/KEY&gt;
                    &lt;VALUE&gt;allow,deny&lt;/VALUE&gt;
                  &lt;/listentry&gt;
                  &lt;listentry&gt;
                    &lt;KEY&gt;Allow&lt;/KEY&gt;
                    &lt;VALUE&gt;from all&lt;/VALUE&gt;
                  &lt;/listentry&gt;
                &lt;/VALUE&gt;
              &lt;/listentry&gt;
            &lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;Alias&lt;/KEY&gt;
            &lt;OVERHEAD&gt;
            # Aliases: aliases can be added as needed (with no limit).
            # The format is Alias fakename realname
            #
            # Note that if you include a trailing / on fakename then the
            # server will require it to be present in the URL.  So "/icons"
            # is not aliased in this example, only "/icons/".  If the fakename
            # is slash-terminated, then the realname must also be slash
            # terminated, and if the fakename omits the trailing slash, the
            # realname must also omit it.
            # We include the /icons/ alias for FancyIndexed directory listings.
            # If you do not use FancyIndexing, you may comment this out.
            #
            &lt;/OVERHEAD&gt;
            &lt;VALUE&gt;/icons/ "/usr/share/apache2/icons/"&lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;_SECTION&lt;/KEY&gt;
            &lt;OVERHEAD&gt;
            &lt;/OVERHEAD&gt;
            &lt;SECTIONNAME&gt;Directory&lt;/SECTIONNAME&gt;
            &lt;SECTIONPARAM&gt;"/usr/share/apache2/icons"&lt;/SECTIONPARAM&gt;
            &lt;VALUE config:type="list"&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;Options&lt;/KEY&gt;
                &lt;VALUE&gt;Indexes MultiViews&lt;/VALUE&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;AllowOverride&lt;/KEY&gt;
                &lt;VALUE&gt;None&lt;/VALUE&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;_SECTION&lt;/KEY&gt;
                &lt;SECTIONNAME&gt;IfModule&lt;/SECTIONNAME&gt;
                &lt;SECTIONPARAM&gt;!mod_access_compat.c&lt;/SECTIONPARAM&gt;
                &lt;VALUE config:type="list"&gt;
                  &lt;listentry&gt;
                    &lt;KEY&gt;Require&lt;/KEY&gt;
                    &lt;VALUE&gt;all granted&lt;/VALUE&gt;
                  &lt;/listentry&gt;
                &lt;/VALUE&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;_SECTION&lt;/KEY&gt;
                &lt;SECTIONNAME&gt;IfModule&lt;/SECTIONNAME&gt;
                &lt;SECTIONPARAM&gt;mod_access_compat.c&lt;/SECTIONPARAM&gt;
                &lt;VALUE config:type="list"&gt;
                  &lt;listentry&gt;
                    &lt;KEY&gt;Order&lt;/KEY&gt;
                    &lt;VALUE&gt;allow,deny&lt;/VALUE&gt;
                  &lt;/listentry&gt;
                  &lt;listentry&gt;
                    &lt;KEY&gt;Allow&lt;/KEY&gt;
                    &lt;VALUE&gt;from all&lt;/VALUE&gt;
                  &lt;/listentry&gt;
                &lt;/VALUE&gt;
              &lt;/listentry&gt;
            &lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;ScriptAlias&lt;/KEY&gt;
            &lt;OVERHEAD&gt;
            # ScriptAlias: This controls which directories contain server
            # scripts. ScriptAliases are essentially the same as Aliases,
            # except that documents in the realname directory are treated
            # as applications and run by the server when requested rather
            # than as documents sent to the client.
            # The same rules about trailing "/" apply to ScriptAlias
            # directives as to Alias.
            #
            &lt;/OVERHEAD&gt;
            &lt;VALUE&gt;/cgi-bin/ "/srv/www/cgi-bin/"&lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;_SECTION&lt;/KEY&gt;
            &lt;OVERHEAD&gt;
            # "/srv/www/cgi-bin" should be changed to wherever your
            # ScriptAliased CGI directory exists, if you have that configured.
            #
            &lt;/OVERHEAD&gt;
            &lt;SECTIONNAME&gt;Directory&lt;/SECTIONNAME&gt;
            &lt;SECTIONPARAM&gt;"/srv/www/cgi-bin"&lt;/SECTIONPARAM&gt;
            &lt;VALUE config:type="list"&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;AllowOverride&lt;/KEY&gt;
                &lt;VALUE&gt;None&lt;/VALUE&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;Options&lt;/KEY&gt;
                &lt;VALUE&gt;+ExecCGI -Includes&lt;/VALUE&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;_SECTION&lt;/KEY&gt;
                &lt;SECTIONNAME&gt;IfModule&lt;/SECTIONNAME&gt;
                &lt;SECTIONPARAM&gt;!mod_access_compat.c&lt;/SECTIONPARAM&gt;
                &lt;VALUE config:type="list"&gt;
                  &lt;listentry&gt;
                    &lt;KEY&gt;Require&lt;/KEY&gt;
                    &lt;VALUE&gt;all granted&lt;/VALUE&gt;
                  &lt;/listentry&gt;
                &lt;/VALUE&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;_SECTION&lt;/KEY&gt;
                &lt;SECTIONNAME&gt;IfModule&lt;/SECTIONNAME&gt;
                &lt;SECTIONPARAM&gt;mod_access_compat.c&lt;/SECTIONPARAM&gt;
                &lt;VALUE config:type="list"&gt;
                  &lt;listentry&gt;
                    &lt;KEY&gt;Order&lt;/KEY&gt;
                    &lt;VALUE&gt;allow,deny&lt;/VALUE&gt;
                  &lt;/listentry&gt;
                  &lt;listentry&gt;
                    &lt;KEY&gt;Allow&lt;/KEY&gt;
                    &lt;VALUE&gt;from all&lt;/VALUE&gt;
                  &lt;/listentry&gt;
                &lt;/VALUE&gt;
              &lt;/listentry&gt;
            &lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;_SECTION&lt;/KEY&gt;
            &lt;OVERHEAD&gt;
            # UserDir: The name of the directory that is appended onto a
            # user's home directory if a ~user request is received.
            # To disable it, simply remove userdir from the list of modules
            # in APACHE_MODULES in /etc/sysconfig/apache2.
            #
            &lt;/OVERHEAD&gt;
            &lt;SECTIONNAME&gt;IfModule&lt;/SECTIONNAME&gt;
            &lt;SECTIONPARAM&gt;mod_userdir.c&lt;/SECTIONPARAM&gt;
            &lt;VALUE config:type="list"&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;UserDir&lt;/KEY&gt;
                &lt;OVERHEAD&gt;
                # Note that the name of the user directory ("public_html")
                # cannot simply be changed here, since it is a compile time
                # setting. The apache package would have to be rebuilt.
                # You could work around by deleting /usr/sbin/suexec, but
                # then all scripts from the directories would be executed
                # with the UID of the webserver.
                &lt;/OVERHEAD&gt;
                &lt;VALUE&gt;public_html&lt;/VALUE&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;Include&lt;/KEY&gt;
                &lt;OVERHEAD&gt;
                # The actual configuration of the directory is in
                # /etc/apache2/mod_userdir.conf.
                &lt;/OVERHEAD&gt;
                &lt;VALUE&gt;/etc/apache2/mod_userdir.conf&lt;/VALUE&gt;
              &lt;/listentry&gt;
            &lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;IncludeOptional&lt;/KEY&gt;
            &lt;OVERHEAD&gt;
            # Include all *.conf files from /etc/apache2/conf.d/.
            #
            # This is mostly meant as a place for other RPM packages to drop
            # in their configuration snippet.
            #
            # 
            # You can comment this out here if you want those bits include
            # only in a certain virtual host, but not here.
            &lt;/OVERHEAD&gt;
            &lt;VALUE&gt;/etc/apache2/conf.d/*.conf&lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;IncludeOptional&lt;/KEY&gt;
            &lt;OVERHEAD&gt;
            # The manual... if it is installed ('?' means it will not complain)
            &lt;/OVERHEAD&gt;
            &lt;VALUE&gt;/etc/apache2/conf.d/apache2-manual?conf&lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;ServerName&lt;/KEY&gt;
            &lt;VALUE&gt;linux-wtyj&lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;ServerAdmin&lt;/KEY&gt;
            &lt;OVERHEAD&gt;
            &lt;/OVERHEAD&gt;
            &lt;VALUE&gt;root@linux-wtyj&lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;NameVirtualHost&lt;/KEY&gt;
            &lt;VALUE&gt;192.168.43.2&lt;/VALUE&gt;
          &lt;/listentry&gt;
        &lt;/VALUE&gt;
      &lt;/hosts_entry&gt;
      &lt;hosts_entry&gt;
        &lt;KEY&gt;192.168.43.2/secondserver.suse.de&lt;/KEY&gt;
        &lt;VALUE config:type="list"&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;DocumentRoot&lt;/KEY&gt;
            &lt;VALUE&gt;/srv/www/htdocs&lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;ServerName&lt;/KEY&gt;
            &lt;VALUE&gt;secondserver.suse.de&lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;ServerAdmin&lt;/KEY&gt;
            &lt;VALUE&gt;second_server@suse.de&lt;/VALUE&gt;
          &lt;/listentry&gt;
          &lt;listentry&gt;
            &lt;KEY&gt;_SECTION&lt;/KEY&gt;
            &lt;SECTIONNAME&gt;Directory&lt;/SECTIONNAME&gt;
            &lt;SECTIONPARAM&gt;/srv/www/htdocs&lt;/SECTIONPARAM&gt;
            &lt;VALUE config:type="list"&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;AllowOverride&lt;/KEY&gt;
                &lt;VALUE&gt;None&lt;/VALUE&gt;
              &lt;/listentry&gt;
              &lt;listentry&gt;
                &lt;KEY&gt;Require&lt;/KEY&gt;
                &lt;VALUE&gt;all granted&lt;/VALUE&gt;
              &lt;/listentry&gt;
            &lt;/VALUE&gt;
          &lt;/listentry&gt;
        &lt;/VALUE&gt;
      &lt;/hosts_entry&gt;
    &lt;/hosts&gt;
    &lt;modules config:type="list"&gt;
      &lt;module_entry&gt;
        &lt;change&gt;enable&lt;/change&gt;
        &lt;name&gt;socache_shmcb&lt;/name&gt;
        &lt;userdefined config:type="boolean"&gt;true&lt;/userdefined&gt;
      &lt;/module_entry&gt;
      &lt;module_entry&gt;
        &lt;change&gt;enable&lt;/change&gt;
        &lt;name&gt;reqtimeout&lt;/name&gt;
        &lt;userdefined config:type="boolean"&gt;true&lt;/userdefined&gt;
      &lt;/module_entry&gt;
      &lt;module_entry&gt;
        &lt;change&gt;enable&lt;/change&gt;
        &lt;name&gt;authn_core&lt;/name&gt;
        &lt;userdefined config:type="boolean"&gt;true&lt;/userdefined&gt;
      &lt;/module_entry&gt;
      &lt;module_entry&gt;
        &lt;change&gt;enable&lt;/change&gt;
        &lt;name&gt;authz_core&lt;/name&gt;
        &lt;userdefined config:type="boolean"&gt;true&lt;/userdefined&gt;
      &lt;/module_entry&gt;
    &lt;/modules&gt;
    &lt;service config:type="boolean"&gt;true&lt;/service&gt;
    &lt;version&gt;2.9&lt;/version&gt;
  &lt;/http-server&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          List Name
         </p>
        </th><th>
         <p>
          List Elements
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          Listen
         </p>
        </td><td>
         
        </td><td>
         <p>
          List of host <code class="literal">Listen</code> settings
         </p>
        </td></tr><tr><td>
         
        </td><td>
         <p>
          PORT
         </p>
        </td><td>
         <p>
          port address
         </p>
        </td></tr><tr><td>
         
        </td><td>
         <p>
          ADDRESS
         </p>
        </td><td>
         <p>
          Network address. All addresses will be taken if this entry is empty.
         </p>
        </td></tr><tr><td>
         <p>
          hosts
         </p>
        </td><td>
         
        </td><td>
         <p>
          List of Hosts configuration
         </p>
        </td></tr><tr><td>
         
        </td><td>
         <p>
          KEY
         </p>
        </td><td>
         <p>
          Host name; <code class="literal">&lt;KEY&gt;main&lt;/KEY&gt;</code> defines the main hosts,
          for example <code class="literal">&lt;KEY&gt;192.168.43.2/secondserver.suse.de&lt;/KEY&gt;</code>
         </p>
        </td></tr><tr><td>
         
        </td><td>
         <p>
          VALUE
         </p>
        </td><td>
         <p>
          List of different values describing the host.
         </p>
        </td></tr><tr><td>
         <p>
          modules
         </p>
        </td><td>
         
        </td><td>
         <p>
          Module list. Only user defined modules need to be described.
         </p>
        </td></tr><tr><td>
         
        </td><td>
         <p>
          name
         </p>
        </td><td>
         <p>
         Module name
         </p>
        </td></tr><tr><td>
         
        </td><td>
         <p>
          userdefined
         </p>
        </td><td>
         <p>
          For historical reasons, it is always set to <code class="literal">true</code>.
         </p>
        </td></tr><tr><td>
         
        </td><td>
         <p>
          change
         </p>
        </td><td>
         <p>
          For historical reasons, it is always set to <code class="literal">enable</code>.
         </p>
        </td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          version
         </p>
        </td><td>
         <p>
          Version of used Apache server
         </p>
        </td><td>
          <p>
          Only for information. Default 2.9
          </p>
        </td></tr><tr><td>
         <p>
          service
         </p>
        </td><td>
         <p>
          Enable Apache service
         </p>
        </td><td>
         <p>
         Optional. Default: false
         </p>
        </td></tr></tbody></table></div><div id="idm139679521498048" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Firewall</h6><p>
      To run an Apache server correctly, make sure the firewall is configured
      appropriately.
      </p></div></div><div class="sect1 " id="Configuration.Network.Squid"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.Squid"><span class="number">4.22 </span><span class="name">Squid Server</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.Squid">#</a></h2></div></div></div><p>
    Squid is a caching and forwarding Web proxy.
   </p><div class="example" id="idm139679521494720"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.40: </span><span class="name">Squid Server Configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679521494720">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;squid&gt;
    &lt;acls config:type="list"&gt;
      &lt;listentry&gt;
        &lt;name&gt;QUERY&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;cgi-bin \?&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;urlpath_regex&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;apache&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;Server&lt;/option&gt;
          &lt;option&gt;^Apache&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;rep_header&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;all&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;0.0.0.0/0.0.0.0&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;src&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;manager&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;cache_object&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;proto&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;localhost&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;127.0.0.1/255.255.255.255&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;src&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;to_localhost&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;127.0.0.0/8&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;dst&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;SSL_ports&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;443&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;port&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;Safe_ports&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;80&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;port&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;Safe_ports&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;21&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;port&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;Safe_ports&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;443&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;port&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;Safe_ports&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;70&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;port&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;Safe_ports&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;210&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;port&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;Safe_ports&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;1025-65535&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;port&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;Safe_ports&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;280&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;port&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;Safe_ports&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;488&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;port&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;Safe_ports&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;591&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;port&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;Safe_ports&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;777&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;port&lt;/type&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;name&gt;CONNECT&lt;/name&gt;
        &lt;options config:type="list"&gt;
          &lt;option&gt;CONNECT&lt;/option&gt;
        &lt;/options&gt;
        &lt;type&gt;method&lt;/type&gt;
      &lt;/listentry&gt;
    &lt;/acls&gt;
    &lt;http_accesses config:type="list"&gt;
      &lt;listentry&gt;
        &lt;acl config:type="list"&gt;
          &lt;listentry&gt;manager&lt;/listentry&gt;
          &lt;listentry&gt;localhost&lt;/listentry&gt;
        &lt;/acl&gt;
        &lt;allow config:type="boolean"&gt;true&lt;/allow&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;acl config:type="list"&gt;
          &lt;listentry&gt;manager&lt;/listentry&gt;
        &lt;/acl&gt;
        &lt;allow config:type="boolean"&gt;false&lt;/allow&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;acl config:type="list"&gt;
          &lt;listentry&gt;!Safe_ports&lt;/listentry&gt;
        &lt;/acl&gt;
        &lt;allow config:type="boolean"&gt;false&lt;/allow&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;acl config:type="list"&gt;
          &lt;listentry&gt;CONNECT&lt;/listentry&gt;
          &lt;listentry&gt;!SSL_ports&lt;/listentry&gt;
        &lt;/acl&gt;
        &lt;allow config:type="boolean"&gt;false&lt;/allow&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;acl config:type="list"&gt;
          &lt;listentry&gt;localhost&lt;/listentry&gt;
        &lt;/acl&gt;
        &lt;allow config:type="boolean"&gt;true&lt;/allow&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;acl config:type="list"&gt;
          &lt;listentry&gt;all&lt;/listentry&gt;
        &lt;/acl&gt;
        &lt;allow config:type="boolean"&gt;false&lt;/allow&gt;
      &lt;/listentry&gt;
    &lt;/http_accesses&gt;
    &lt;http_ports config:type="list"&gt;
      &lt;listentry&gt;
        &lt;host/&gt;
        &lt;port&gt;3128&lt;/port&gt;
        &lt;transparent config:type="boolean"&gt;false&lt;/transparent&gt;
      &lt;/listentry&gt;
    &lt;/http_ports&gt;
    &lt;refresh_patterns config:type="list"&gt;
      &lt;listentry&gt;
        &lt;case_sensitive config:type="boolean"&gt;true&lt;/case_sensitive&gt;
        &lt;max&gt;10080&lt;/max&gt;
        &lt;min&gt;1440&lt;/min&gt;
        &lt;percent&gt;20&lt;/percent&gt;
        &lt;regexp&gt;^ftp:&lt;/regexp&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;case_sensitive config:type="boolean"&gt;true&lt;/case_sensitive&gt;
        &lt;max&gt;1440&lt;/max&gt;
        &lt;min&gt;1440&lt;/min&gt;
        &lt;percent&gt;0&lt;/percent&gt;
        &lt;regexp&gt;^gopher:&lt;/regexp&gt;
      &lt;/listentry&gt;
      &lt;listentry&gt;
        &lt;case_sensitive config:type="boolean"&gt;true&lt;/case_sensitive&gt;
        &lt;max&gt;4320&lt;/max&gt;
        &lt;min&gt;0&lt;/min&gt;
        &lt;percent&gt;20&lt;/percent&gt;
        &lt;regexp&gt;.&lt;/regexp&gt;
      &lt;/listentry&gt;
    &lt;/refresh_patterns&gt;
    &lt;service_enabled_on_startup config:type="boolean"&gt;true&lt;/service_enabled_on_startup&gt;
    &lt;settings&gt;
      &lt;access_log config:type="list"&gt;
        &lt;listentry&gt;/var/log/squid/access.log&lt;/listentry&gt;
      &lt;/access_log&gt;
      &lt;cache_dir config:type="list"&gt;
        &lt;listentry&gt;ufs&lt;/listentry&gt;
        &lt;listentry&gt;/var/cache/squid&lt;/listentry&gt;
        &lt;listentry&gt;100&lt;/listentry&gt;
        &lt;listentry&gt;16&lt;/listentry&gt;
        &lt;listentry&gt;256&lt;/listentry&gt;
      &lt;/cache_dir&gt;
      &lt;cache_log config:type="list"&gt;
        &lt;listentry&gt;/var/log/squid/cache.log&lt;/listentry&gt;
      &lt;/cache_log&gt;
      &lt;cache_mem config:type="list"&gt;
        &lt;listentry&gt;8&lt;/listentry&gt;
        &lt;listentry&gt;MB&lt;/listentry&gt;
      &lt;/cache_mem&gt;
      &lt;cache_mgr config:type="list"&gt;
        &lt;listentry&gt;webmaster&lt;/listentry&gt;
      &lt;/cache_mgr&gt;
      &lt;cache_replacement_policy config:type="list"&gt;
        &lt;listentry&gt;lru&lt;/listentry&gt;
      &lt;/cache_replacement_policy&gt;
      &lt;cache_store_log config:type="list"&gt;
        &lt;listentry&gt;/var/log/squid/store.log&lt;/listentry&gt;
      &lt;/cache_store_log&gt;
      &lt;cache_swap_high config:type="list"&gt;
        &lt;listentry&gt;95&lt;/listentry&gt;
      &lt;/cache_swap_high&gt;
      &lt;cache_swap_low config:type="list"&gt;
        &lt;listentry&gt;90&lt;/listentry&gt;
      &lt;/cache_swap_low&gt;
      &lt;client_lifetime config:type="list"&gt;
        &lt;listentry&gt;1&lt;/listentry&gt;
        &lt;listentry&gt;days&lt;/listentry&gt;
      &lt;/client_lifetime&gt;
      &lt;connect_timeout config:type="list"&gt;
        &lt;listentry&gt;2&lt;/listentry&gt;
        &lt;listentry&gt;minutes&lt;/listentry&gt;
      &lt;/connect_timeout&gt;
      &lt;emulate_httpd_log config:type="list"&gt;
        &lt;listentry&gt;off&lt;/listentry&gt;
      &lt;/emulate_httpd_log&gt;
      &lt;error_directory config:type="list"&gt;
        &lt;listentry/&gt;
      &lt;/error_directory&gt;
      &lt;ftp_passive config:type="list"&gt;
        &lt;listentry&gt;on&lt;/listentry&gt;
      &lt;/ftp_passive&gt;
      &lt;maximum_object_size config:type="list"&gt;
        &lt;listentry&gt;4096&lt;/listentry&gt;
        &lt;listentry&gt;KB&lt;/listentry&gt;
      &lt;/maximum_object_size&gt;
      &lt;memory_replacement_policy config:type="list"&gt;
        &lt;listentry&gt;lru&lt;/listentry&gt;
      &lt;/memory_replacement_policy&gt;
      &lt;minimum_object_size config:type="list"&gt;
        &lt;listentry&gt;0&lt;/listentry&gt;
        &lt;listentry&gt;KB&lt;/listentry&gt;
      &lt;/minimum_object_size&gt;
    &lt;/settings&gt;
  &lt;/squid&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
        <p>
         Attribute
        </p>
       </th><th>
        <p>
         Values
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         <code class="literal">acls</code>
        </p>
       </td><td>
        <p>
         List of Access Control Settings (ACLs).
        </p>
       </td><td>
        <p>
         Each list entry contains the name, type, and additional options.
         Use the YaST Squid configuration module to get an overview
         of possible entries.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">http_accesses</code>
        </p>
       </td><td>
        <p>
         In the Access Control table, access can be denied or allowed to ACL
         Groups.
        </p>
        
       </td><td>
        <p>
         If there are more ACL Groups in one definition, access will be allowed or denied to members who belong to all ACL
         Groups at the same time.
       </p>
        <p>
         The Access Control table is checked in the order listed here. The
         first matching entry is used.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">http_ports</code>
        </p>
       </td><td>
        <p>
         Define all ports where Squid will listen for clients' HTTP requests.
        </p>
       </td><td>
        <p>
         <code class="literal">Host</code> can contain a host name or IP address or
         remain empty.
        </p>
        <p>
         <code class="literal">transparent</code> disables PMTU discovery when transparent.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">refresh_patterns</code>
        </p>
       </td><td>
        <p>
         Refresh patterns define how Squid treats the objects in the cache.
        </p>
       </td><td>
        <p>
         The refresh patterns are checked in the order listed here. The first
         matching entry is used.
        </p>
        <p>
         <code class="literal">Min</code> determines how long (in minutes) an object
         should be considered fresh if no explicit expiry time is given.
         <code class="literal">Max</code> is the upper limit of how long objects without
         an explicit expiry time will be considered fresh.
         <code class="literal">Percent</code> is the percentage of the object's age
         (time since last modification). An object without an explicit expiry
         time will be considered fresh.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">settings</code>
        </p>
       </td><td>
        <p>
         Map of all available general parameters with default values.
        </p>
       </td><td>
        <p>
         Use the YaST Squid configuration module to get an overview
         about possible entries.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">service_enabled_on_startup</code>
        </p>
       </td><td>
        <p>
         Squid service start when booting.
        </p>
       </td><td>
        <p>
         Value: true/false
        </p>
       </td></tr></tbody></table></div></div><div class="sect1 " id="Configuration.Network.Ftp"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.Ftp"><span class="number">4.23 </span><span class="name">FTP Server</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.Ftp">#</a></h2></div></div></div><p>
     Configure your FTP Internet server settings.
    </p><div class="example" id="idm139679520157504"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.41: </span><span class="name">FTP server configuration: </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520157504">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;ftp-server&gt;
    &lt;AnonAuthen&gt;2&lt;/AnonAuthen&gt;
    &lt;AnonCreatDirs&gt;NO&lt;/AnonCreatDirs&gt;
    &lt;AnonMaxRate&gt;0&lt;/AnonMaxRate&gt;
    &lt;AnonReadOnly&gt;NO&lt;/AnonReadOnly&gt;
    &lt;AntiWarez&gt;YES&lt;/AntiWarez&gt;
    &lt;Banner&gt;Welcome message&lt;/Banner&gt;
    &lt;CertFile/&gt;
    &lt;ChrootEnable&gt;NO&lt;/ChrootEnable&gt;
    &lt;EnableUpload&gt;YES&lt;/EnableUpload&gt;
    &lt;FTPUser&gt;ftp&lt;/FTPUser&gt;
    &lt;FtpDirAnon&gt;/srv/ftp&lt;/FtpDirAnon&gt;
    &lt;FtpDirLocal/&gt;
    &lt;GuestUser/&gt;
    &lt;LocalMaxRate&gt;0&lt;/LocalMaxRate&gt;
    &lt;MaxClientsNumber&gt;10&lt;/MaxClientsNumber&gt;
    &lt;MaxClientsPerIP&gt;3&lt;/MaxClientsPerIP&gt;
    &lt;MaxIdleTime&gt;15&lt;/MaxIdleTime&gt;
    &lt;PasMaxPort&gt;40500&lt;/PasMaxPort&gt;
    &lt;PasMinPort&gt;40000&lt;/PasMinPort&gt;
    &lt;PassiveMode&gt;YES&lt;/PassiveMode&gt;
    &lt;SSL&gt;0&lt;/SSL&gt;
    &lt;SSLEnable&gt;NO&lt;/SSLEnable&gt;
    &lt;SSLv2&gt;NO&lt;/SSLv2&gt;
    &lt;SSLv3&gt;NO&lt;/SSLv3&gt;
    &lt;StartDaemon&gt;2&lt;/StartDaemon&gt;
    &lt;TLS&gt;YES&lt;/TLS&gt;
    &lt;Umask/&gt;
    &lt;UmaskAnon/&gt;
    &lt;UmaskLocal/&gt;
    &lt;VerboseLogging&gt;NO&lt;/VerboseLogging&gt;
    &lt;VirtualUser&gt;NO&lt;/VirtualUser&gt;
  &lt;/ftp-server&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          AnonAuthen
         </p>
        </td><td>
         <p>
          Enable/disable anonymous and local users.
         </p>
        </td><td>
         <p>
          Authenticated Users Only: 1; Anonymous Only: 0; Both: 2
         </p>
        </td></tr><tr><td>
         <p>
          AnonCreatDirs
         </p>
        </td><td>
         <p>
         Anonymous users can create directories.
         </p>
        </td><td>
         <p>
         Values: YES/NO
        </p>
        </td></tr><tr><td>
         <p>
          AnonReadOnly
         </p>
        </td><td>
         <p>
         Anonymous users can upload.
         </p>
        </td><td>
         <p>
          Values: YES/NO
          </p>
        </td></tr><tr><td>
         <p>
          AnonMaxRate
         </p>
        </td><td>
         <p>
          The maximum data transfer rate permitted for anonymous clients.
         </p>
        </td><td>
         <p>
          KB/s
         </p>
        </td></tr><tr><td>
         <p>
          AntiWarez
         </p>
        </td><td>
         <p>
          Disallow downloading of files that were uploaded but not validated by a local admin.
         </p>
        </td><td>
         <p>
          Values: YES/NO
         </p>
        </td></tr><tr><td>
         <p>
          Banner
         </p>
        </td><td>
         <p>
          Specify the name of a file containing the text to display when someone connects to the server.
         </p>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          CertFile
         </p>
        </td><td>
         <p>
          DSA certificate to use for SSL-encrypted connections
         </p>
        </td><td>
         <p>
          This option specifies the location of the DSA certificate to use for SSL-encrypted connections.
         </p>
        </td></tr><tr><td>
         <p>
          ChrootEnable
         </p>
        </td><td>
         <p>
          When enabled, local users will be (by default) placed in a chroot jail in their home directory after login.
         </p>
        </td><td>
         <p>
          Warning: This option has security implications.
          Values: YES/NO
         </p>
        </td></tr><tr><td>
         <p>
          EnableUpload
         </p>
        </td><td>
         <p>
          If enabled, FTP users can upload.
         </p>
        </td><td>
         <p>
          To allow anonymous users to upload, enable <code class="literal">AnonReadOnly</code>.
          Values: YES/NO
         </p>
        </td></tr><tr><td>
         <p>
          FTPUser
         </p>
        </td><td>
         <p>
          Defining anonymous FTP user.
         </p>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          FtpDirAnon
         </p>
        </td><td>
         <p>
          FTP directory for anonymous users.
         </p>
        </td><td>
         <p>
          Specify a directory which is used for FTP anonymous users.
         </p>
        </td></tr><tr><td>
         <p>
          FtpDirLocal
         </p>
        </td><td>
         <p>
          FTP directory for authenticated users.
         </p>
        </td><td>
         <p>
          Specify a directory which is used for FTP authenticated users.
         </p>
        </td></tr><tr><td>
         <p>
          LocalMaxRate
         </p>
        </td><td>
         <p>
          The maximum data transfer rate permitted for local authenticated users.
         </p>
        </td><td>
         <p>
          KB/s
         </p>
        </td></tr><tr><td>
         <p>
          MaxClientsNumber
         </p>
        </td><td>
         <p>
          The maximum number of clients allowed to connect.
         </p>
        </td><td>
         
        </td></tr><tr><td>
         <p>
          MaxClientsPerIP
         </p>
        </td><td>
         <p>
          Max clients for one IP.
         </p>
        </td><td>
         <p>
          The maximum number of clients allowed to connect from the same source Internet address.
         </p>
        </td></tr><tr><td>
         <p>
          MaxIdleTime
         </p>
        </td><td>
         <p>
          The maximum time (timeout) a remote client may wait between FTP commands.
         </p>
        </td><td>
         <p>
          Minutes
         </p>
        </td></tr><tr><td>
         <p>
          PasMaxPort
         </p>
        </td><td>
         <p>
          Maximum value for a port range for passive connection replies.
         </p>
        </td><td>
         <p>
          <code class="literal">PassiveMode</code> needs to be set to YES.
         </p>
        </td></tr><tr><td>
         <p>
          PasMinPort
         </p>
        </td><td>
         <p>
          Minimum value for a port range for passive connection replies.
         </p>
        </td><td>
         <p>
          <code class="literal">PassiveMode</code> needs to be set to YES.
         </p>
        </td></tr><tr><td>
         <p>
          PassiveMode
         </p>
        </td><td>
         <p>
          Enable Passive Mode
         </p>
        </td><td>
         <p>
         Value: YES/NO
         </p>
        </td></tr><tr><td>
         <p>
          SSL
         </p>
        </td><td>
         <p>
          Security Settings
         </p>
        </td><td>
         <p>
         Disable SSL/TLS: 0; Accept SSL and TLS: 1; Refuse Connections Without SSL/TLS: 2
         </p>
        </td></tr><tr><td>
         <p>
          SSLEnable
         </p>
        </td><td>
         <p>
          If enabled, SSL connections are allowed.
         </p>
        </td><td>
         <p>
          Value: YES/NO
         </p>
        </td></tr><tr><td>
         <p>
          SSLv2
         </p>
        </td><td>
         <p>
          If enabled, SSL version 2 connections are allowed.
         </p>
        </td><td>
         <p>
          Value: YES/NO
         </p>
        </td></tr><tr><td>
         <p>
          SSLv3
         </p>
        </td><td>
         <p>
          If enabled, SSL version 3 connections are allowed.
         </p>
        </td><td>
         <p>
          Value: YES/NO
         </p>
        </td></tr><tr><td>
         <p>
          StartDaemon
         </p>
        </td><td>
         <p>
          FTP daemon is started.
         </p>
        </td><td>
         <p>
          Manually: 0; when booting: 1; via <code class="systemitem">systemd</code> socket: 2
         </p>
        </td></tr><tr><td>
         <p>
          TLS
         </p>
        </td><td>
         <p>
          If enabled, TLS connections are allowed.
         </p>
        </td><td>
         <p>
          Value: YES/NO
         </p>
        </td></tr><tr><td>
         <p>
         Umask
         </p>
        </td><td>
         <p>
          File creation mask. (umask for files):(umask for directories).
         </p>
        </td><td>
         <p>
          For example <code class="literal">177:077</code> if you feel paranoid.
         </p>
        </td></tr><tr><td>
         <p>
         UmaskAnon
         </p>
        </td><td>
         <p>
          The value to which the umask for file creation is set for anonymous users.
         </p>
        </td><td>
         <p>
          To specify octal values, remember the "0" prefix, otherwise the value will be treated as a base 10 integer.
         </p>
        </td></tr><tr><td>
         <p>
         UmaskLocal
         </p>
        </td><td>
         <p>
          Umask for authenticated users.
         </p>
        </td><td>
         <p>
          To specify octal values, remember the "0" prefix, otherwise the value will be treated as a base 10 integer.
         </p>
        </td></tr><tr><td>
         <p>
          VerboseLogging
         </p>
        </td><td>
         <p>
          When enabled, all FTP requests and responses are logged.
         </p>
        </td><td>
         <p>
          Value: YES/NO
         </p>
        </td></tr><tr><td>
         <p>
          VirtualUser
         </p>
        </td><td>
         <p>
          By using virtual users, FTP accounts can be administrated without affecting system accounts.
         </p>
        </td><td>
         <p>
          Value: YES/NO
         </p>
        </td></tr></tbody></table></div><div id="idm139679520248752" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Firewall</h6><p>
      Proper Firewall setting will be required for the FTP server to run correctly.
      </p></div></div><div class="sect1 " id="Configuration.Network.Tftp"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Network.Tftp"><span class="number">4.24 </span><span class="name">TFTP Server</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Network.Tftp">#</a></h2></div></div></div><p>
     Configure your TFTP Internet server settings.
    </p><p>
     Use this to enable a server for TFTP (trivial file transfer protocol). The
     server will be started using the <code class="systemitem">systemd</code> socket.
    </p><p>
     Note that TFTP and FTP are not the same.
    </p><div class="example" id="idm139679520243760"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.42: </span><span class="name">TFTP server configuration: </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520243760">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;tftp-server&gt;
    &lt;start_tftpd config:type="boolean"&gt;true&lt;/start_tftpd&gt;
    &lt;tftp_directory&gt;/tftpboot&lt;/tftp_directory&gt;
  &lt;/tftp-server&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
          <p>
           Element
          </p>
         </th><th>
          <p>
           Description
          </p>
         </th><th>
          <p>
           Comment
          </p>
         </th></tr></thead><tbody><tr><td>
          <p>
           start_tftpd
          </p>
         </td><td>
          <p>
           Enabling TFTP server service.
          </p>
         </td><td>
          <p>
           Value: true/false
          </p>
         </td></tr><tr><td>
          <p>
           tftp_directory
          </p>
         </td><td>
          <p>
           Boot Image Directory: Specify the directory where served
           files are located.
          </p>
         </td><td>
          <p>
           The usual value is /tftpboot. The directory will be created if it
           does not exist. The server uses this as its root directory
           (using the -s option).
          </p>
         </td></tr></tbody></table></div></div><div class="sect1 " id="CreateProfile.Firstboot"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Firstboot"><span class="number">4.25 </span><span class="name">Firstboot Workflow</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Firstboot">#</a></h2></div></div></div><p>
    The YaST firstboot utility (YaST Initial System Configuration), which
    runs after the installation is completed, lets you configure the before
    creation of the install image. On the first boot after configuration, users
    are then guided through a series of steps that allow for easier
    configuration of their desktops. YaST firstboot does not run by default
    and needs to be configured to run.
    </p><div class="example" id="idm139679520228320"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.43: </span><span class="name">Enabling Firstboot Workflow </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520228320">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">      &lt;firstboot&gt;
        &lt;firstboot_enabled config:type="boolean"&gt;true&lt;/firstboot_enabled&gt;
      &lt;/firstboot&gt;</pre></div></div></div></div><div class="sect1 " id="CreateProfile.Security"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Security"><span class="number">4.26 </span><span class="name">Security Settings</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Security">#</a></h2></div></div></div><p>
    Using the features of this module, you can to change the local security
    settings on the target system. The local security settings include the
    boot configuration, login settings, password settings, user addition
    settings, and file permissions.
   </p><p>
    Configuring the security settings automatically is similar to the
    <code class="literal">Custom Settings</code> in the security module available in
    the running system. This allows you create a customized configuration.
   </p><div class="complex-example"><div class="example" id="idm139679520223776"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.44: </span><span class="name">Security configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520223776">#</a></h6></div><div class="example-contents"><p>
     See the reference for the meaning and the possible values of the
     settings in the following example.
    </p><div class="verbatim-wrap"><pre class="screen">&lt;security&gt;
  &lt;console_shutdown&gt;ignore&lt;/console_shutdown&gt;
  &lt;displaymanager_remote_access&gt;no&lt;/displaymanager_remote_access&gt;
  &lt;fail_delay&gt;3&lt;/fail_delay&gt;
  &lt;faillog_enab&gt;yes&lt;/faillog_enab&gt;
  &lt;gid_max&gt;60000&lt;/gid_max&gt;
  &lt;gid_min&gt;101&lt;/gid_min&gt;
  &lt;gdm_shutdown&gt;root&lt;/gdm_shutdown&gt;
  &lt;lastlog_enab&gt;yes&lt;/lastlog_enab&gt;
  &lt;encryption&gt;md5&lt;/encryption&gt;
  &lt;obscure_checks_enab&gt;no&lt;/obscure_checks_enab&gt;
  &lt;pass_max_days&gt;99999&lt;/pass_max_days&gt;
  &lt;pass_max_len&gt;8&lt;/pass_max_len&gt;
  &lt;pass_min_days&gt;1&lt;/pass_min_days&gt;
  &lt;pass_min_len&gt;6&lt;/pass_min_len&gt;
  &lt;pass_warn_age&gt;14&lt;/pass_warn_age&gt;
  &lt;passwd_use_cracklib&gt;yes&lt;/passwd_use_cracklib&gt;
  &lt;permission_security&gt;secure&lt;/permission_security&gt;
  &lt;run_updatedb_as&gt;nobody&lt;/run_updatedb_as&gt;
  &lt;uid_max&gt;60000&lt;/uid_max&gt;
  &lt;uid_min&gt;500&lt;/uid_min&gt;
&lt;/security&gt;</pre></div></div></div></div><div class="sect2 " id="CreateProfile.Security.password"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Security.password"><span class="number">4.26.1 </span><span class="name">Password Settings Options</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Security.password">#</a></h3></div></div></div><p>
     Change various password settings. These settings are mainly stored in
     the <code class="filename">/etc/login.defs</code> file.
    </p><p>
     Use this resource to activate one of the encryption methods currently
     supported. If not set, <code class="literal">DES</code> is configured.
    </p><p>
     <code class="literal">DES</code>, the Linux default method, works in all network
     environments, but it restricts you to passwords no longer than eight
     characters. <code class="literal">MD5</code> allows longer passwords, thus
     provides more security, but some network protocols do not support this,
     and you may have problems with NIS. <code class="literal">Blowfish</code> is also
     supported.
    </p><p>
     Additionally, you can set up the system to check for password
     plausibility and length etc.
    </p></div><div class="sect2 " id="CreateProfile.Security.boot"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Security.boot"><span class="number">4.26.2 </span><span class="name">Boot Settings</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Security.boot">#</a></h3></div></div></div><p>
     Use the security resource, to change various boot settings.
    </p><div class="variablelist "><dl class="variablelist"><dt id="idm139679520213168"><span class="term ">
       How to interpret <span class="keycap">Ctrl</span><span class="key-connector">–</span><span class="keycap">Alt</span><span class="key-connector">–</span><span class="keycap">Del</span>?
      </span></dt><dd><p>
        When someone at the console has pressed the
        <span class="keycap">Ctrl</span><span class="key-connector">–</span><span class="keycap">Alt</span><span class="key-connector">–</span><span class="keycap">Del</span> key combination, the system
        usually reboots. Sometimes it is desirable to ignore this event, for
        example, when the system serves as both workstation and server.
       </p></dd><dt id="idm139679520207888"><span class="term ">Shutdown behavior of GDM</span></dt><dd><p>
        Configure a list of users allowed to shut down the machine from GDM.
       </p></dd></dl></div></div><div class="sect2 " id="CreateProfile.Security.login"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Security.login"><span class="number">4.26.3 </span><span class="name">Login Settings</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Security.login">#</a></h3></div></div></div><p>
     Change various login settings. These settings are mainly stored in the
     <code class="filename">/etc/login.defs</code> file.
    </p></div><div class="sect2 " id="CreateProfile.Security.users"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Security.users"><span class="number">4.26.4 </span><span class="name">New user settings (<code class="command">useradd</code> settings)</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Security.users">#</a></h3></div></div></div><p>
     Set the minimum and maximum possible user and group ID
    </p></div></div><div class="sect1 " id="CreateProfile.Security.laf"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Security.laf"><span class="number">4.27 </span><span class="name">Linux Audit Framework (LAF)</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Security.laf">#</a></h2></div></div></div><p>
    This module allows the configuration of the audit daemon and to add
    rules for the audit subsystem.
   </p><div class="example" id="idm139679520199152"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.45: </span><span class="name">LAF configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520199152">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;audit-laf&gt;
    &lt;auditd&gt;
      &lt;flush&gt;INCREMENTAL&lt;/flush&gt;
      &lt;freq&gt;20&lt;/freq&gt;
      &lt;log_file&gt;/var/log/audit/audit.log&lt;/log_file&gt;
      &lt;log_format&gt;RAW&lt;/log_format&gt;
      &lt;max_log_file&gt;5&lt;/max_log_file&gt;
      &lt;max_log_file_action&gt;ROTATE&lt;/max_log_file_action&gt;
      &lt;name_format&gt;NONE&lt;/name_format&gt;
      &lt;num_logs&gt;4&lt;/num_logs&gt;
    &lt;/auditd&gt;
    &lt;rules/&gt;
  &lt;/audit-laf&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
        <p>
         Attribute
        </p>
       </th><th>
        <p>
         Values
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         <code class="literal">auditd/flush</code>
        </p>
       </td><td>
        <p>
         Describes how to write the data to disk.
        </p>
       </td><td>
        <p>
         If set to <code class="literal">INCREMENTAL</code> the Frequency parameter tells
         how many records to write before issuing an explicit flush to disk.
         <code class="literal">NONE</code> means: no special effort is made to flush data,
         <code class="literal">DATA</code>: keep data portion synchronized,
         <code class="literal">SYNC</code>: keep data and metadata fully synchronized.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">auditd/freq</code>
        </p>
       </td><td>
        <p>
         This parameter tells how many records to write before issuing an explicit flush to disk.
        </p>
       </td><td>
        <p>
         The parameter <code class="literal">flush</code> needs to be set to <code class="literal">INCREMENTAL</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">auditd/log_file</code>
        </p>
       </td><td>
        <p>
         The full path name to the log file.
        </p>
       </td><td>
        
       </td></tr><tr><td>
        <p>
         <code class="literal">auditd/log_fomat</code>
        </p>
       </td><td>
        <p>
         How much information needs to be logged.
        </p>
       </td><td>
        <p>
         Set <code class="literal">RAW</code> to log all data (store in a format exactly as the kernel sends it)
         or <code class="literal">NOLOG</code> to discard all audit information instead of writing it to disk
         (does not affect data sent to the dispatcher).
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">auditd/max_log_file</code>
        </p>
       </td><td>
        <p>
         How much information needs to be logged.
        </p>
       </td><td>
        <p>
         Unit: Megabytes
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">auditd/num_logs</code>
        </p>
       </td><td>
        <p>
         Number of log files.
        </p>
       </td><td>
        <p>
         <code class="literal">max_log_file_action</code> needs to be set to <code class="literal">ROTATE</code>
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">auditd/max_log_file_action</code>
        </p>
       </td><td>
        <p>
         What happens if the log capacity has been reached.
        </p>
       </td><td>
        <p>
         If the action is set to <code class="literal">ROTATE</code> the Number of Log Files specifies
         the number of files to keep. Set to <code class="literal">SYSLOG</code>, the audit daemon will
         write a warning to /var/log/messages. With <code class="literal">SUSPEND</code>
         the daemon stops writing records to disk. <code class="literal">IGNORE</code> means do nothing,
         <code class="literal">KEEP_LOGS</code> is similar to <code class="literal">ROTATE</code>, but log files
         are not overwritten.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">auditd/name_format</code>
        </p>
       </td><td>
        <p>
         Computer Name Format describes how to write the computer name to the log file.
        </p>
       </td><td>
        <p>
         If <code class="literal">USER</code> is set, the User Defined Name is used.
         <code class="literal">NONE</code> means no computer name is inserted.
         <code class="literal">HOSTNAME</code> uses the name returned by the 'gethostname' syscall.
         <code class="literal">FQD</code> uses the fully qualified domain name.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">rules</code>
        </p>
       </td><td>
        <p>
         Rules for auditctl
        </p>
       </td><td>
        <p>
         You can edit the rules manually, which we only recommend for
         advanced users.  For more information about all options, see
         <code class="command">man auditctl</code>.
        </p>
       </td></tr></tbody></table></div></div><div class="sect1 " id="Configuration.Security.users_and_groups"><div class="titlepage"><div><div><h2 class="title" id="Configuration.Security.users_and_groups"><span class="number">4.28 </span><span class="name">Users and Groups</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Security.users_and_groups">#</a></h2></div></div></div><p>
    AutoYaST supports defining local users, groups, special login settings and even
    default options for new users. Those settings are defined in the following sections:
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm139679529473552"><span class="term ">users</span></dt><dd><p>
       List of users
      </p></dd><dt id="idm139679529471792"><span class="term ">user_defaults</span></dt><dd><p>
       Default options for new users
      </p></dd><dt id="idm139679529469968"><span class="term ">groups</span></dt><dd><p>
       List of groups
      </p></dd><dt id="idm139679529468160"><span class="term ">login_settings</span></dt><dd><p>
       Special login settings like password-less login or autologin
      </p></dd></dl></div><div id="idm139679529466144" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Users and groups set up during the first stage</h6><p>
     Users and groups are set up during the first stage, so you can set up a
     usable system without running the second stage.
    </p></div><div class="sect2 " id="Configuration.Security.users"><div class="titlepage"><div><div><h3 class="title" id="Configuration.Security.users"><span class="number">4.28.1 </span><span class="name">Users</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Security.users">#</a></h3></div></div></div><p>
     A list of users can be defined in the <code class="literal">&lt;users&gt;</code>
     section.  Take into account that at least the <code class="systemitem">root</code> users should be
     set up so you can log in after the installation is finished.
    </p><div class="example" id="idm139679529461728"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.46: </span><span class="name">Minimal User Configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679529461728">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;users config:type="list"&gt;
  &lt;user&gt;
    &lt;username&gt;root&lt;/username&gt;
    &lt;user_password&gt;password&lt;/user_password&gt;
    &lt;encrypted config:type="boolean"&gt;false&lt;/encrypted&gt;
  &lt;/user&gt;
    &lt;user&gt;
    &lt;username&gt;tux&lt;/username&gt;
    &lt;user_password&gt;password&lt;/user_password&gt;
    &lt;encrypted config:type="boolean"&gt;false&lt;/encrypted&gt;
  &lt;/user&gt;
&lt;/users&gt;</pre></div></div></div><p>
     The following example shows a more complex scenario. System wide default
     setting from <code class="filename">/etc/default/useradd</code>, such as the
     shell or the parent directory for the home directory, are applied.
    </p><div class="example" id="idm139679529459040"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.47: </span><span class="name">Complex User Configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679529459040">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;users config:type="list"&gt;
  &lt;user&gt;
    &lt;username&gt;root&lt;/username&gt;
    &lt;user_password&gt;password&lt;/user_password&gt;
    &lt;uid&gt;1001&lt;/uid&gt;
    &lt;gid&gt;100&lt;/gid&gt;
    &lt;encrypted config:type="boolean"&gt;false&lt;/encrypted&gt;
    &lt;fullname&gt;Root User&lt;/fullname&gt;
    &lt;authorized_keys config:type="list"&gt;
      &lt;listentry&gt;command="/opt/login.sh" ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDKLt1vnW2vTJpBp3VK91rFsBvpY97NljsVLdgUrlPbZ/L51FerQQ+djQ/ivDASQjO+567nMGqfYGFA/De1EGMMEoeShza67qjNi14L1HBGgVojaNajMR/NI2d1kDyvsgRy7D7FT5UGGUNT0dlcSD3b85zwgHeYLidgcGIoKeRi7HpVDOOTyhwUv4sq3ubrPCWARgPeOLdVFa9clC8PTZdxSeKp4jpNjIHEyREPin2Un1luCIPWrOYyym7aRJEPopCEqBA9HvfwpbuwBI5F0uIWZgSQLfpwW86599fBo/PvMDa96DpxH1VlzJlAIHQsMkMHbsCazPNC0++Kp5ZVERiH root@example.net&lt;/listentry&gt;
    &lt;/authorized_keys&gt;
  &lt;/user&gt;
  &lt;user&gt;
    &lt;username&gt;tux&lt;/username&gt;
    &lt;user_password&gt;password&lt;/user_password&gt;
    &lt;uid&gt;1002&lt;/uid&gt;
    &lt;gid&gt;100&lt;/gid&gt;
    &lt;encrypted config:type="boolean"&gt;false&lt;/encrypted&gt;
    &lt;fullname&gt;Plain User&lt;/fullname&gt;
    &lt;home&gt;/Users/plain&lt;/home&gt;
    &lt;password_settings&gt;
      &lt;max&gt;120&lt;/max&gt;
      &lt;inact&gt;5&lt;/inact&gt;
    &lt;/password_settings&gt;
  &lt;/user&gt;
&lt;/users&gt;</pre></div></div></div><div id="idm139679529456576" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: <code class="literal">authorized_keys</code> File will be overwritten</h6><p>
      If the profile defines a set of SSH authorized keys for a user in the
      <code class="literal">authorized_keys</code> section, an existing
      <code class="literal">$HOME/.ssh/authorized_keys</code> file will be overwritten.
      If not existing, the file will be created with the content specified.
      Avoid overwriting an existing authorized_keys by not specifying the
      respective section in the AutoYaST control file.
     </p></div><div id="ann.Configuration.Security.users.uid" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Specifying a user ID (<code class="literal">uid</code>)</h6><p>
      Each user on a Linux system has got a numeric user ID. You can either
      specify such a user ID within the AutoYaST control file manually by using
      <code class="sgmltag-element">uid</code>, or let the system automatically choose a
      user ID by not using <code class="sgmltag-element">uid</code>.
     </p><p>
      User IDs should be unique throughout the system. If not, some
      applications such as the login manager <code class="systemitem">gdm</code> may no longer work as expected.
     </p><p>
      When adding users with the AutoYaST control file, it is strongly recommended
      not to mix user defined IDs and automatically provided IDs. When doing
      so, unique IDs cannot be guaranteed. Either specify IDs for all users
      added with the AutoYaST control file or let the system choose the ID for all
      users.
     </p></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Values
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">username</code>
         </p>
        </td><td>
         <p>
          Text
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;username&gt;lukesw&lt;/username&gt;</pre></div>
        </td><td>
         <p>
          Required. It should be a valid user name. Check <code class="literal">man 8 useradd</code>
          if you are not sure.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">fullname</code>
         </p>
        </td><td>
         <p>
          Text
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;fullname&gt;Tux Torvalds&lt;/fullname&gt;</pre></div>
        </td><td>
         <p>
          Optional. User's fullname.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">forename</code>
         </p>
        </td><td>
         <p>
          Text
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;forname&gt;Tux&lt;/forename&gt;</pre></div>
        </td><td>
         <p>
          Optional. User's forename.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">surname</code>
         </p>
        </td><td>
         <p>
          Text
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;surname&gt;Skywalkwer&lt;/surname&gt;</pre></div>
        </td><td>
         <p>
          Optional. User's surname.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">uid</code>
         </p>
        </td><td>
         <p>
          Number
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;uid&gt;1001&lt;/uid&gt;</pre></div>
        </td><td>
         <p>
          Optional. User ID. It should be a unique and must be non-negative
          number. If not specified, AutoYaST will automatically choose a user
          ID. Also refer to <a class="xref" href="configuration.html#ann.Configuration.Security.users.uid" title="Note: Specifying a user ID (uid)">Note: Specifying a user ID (<code class="literal">uid</code>)</a> for additional
          information.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">gid</code>
         </p>
        </td><td>
         <p>
          Number
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;gid&gt;100&lt;/gid&gt;</pre></div>
        </td><td>
         <p>
          Optional. Initial group ID. It must be a unique and non-negative
          number. Moreover it must refer to an existing group.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">home</code>
         </p>
        </td><td>
         <p>
          Path
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;home&gt;/home/luke&lt;/home&gt;</pre></div>
        </td><td>
         <p>
          Optional. Absolute path to the user's home directory. By default,
          <code class="literal">/home/username</code> will be used (for example,
          <code class="literal">alice</code>'s home directory will be
          <code class="literal">/home/alice</code>).
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">shell</code>
         </p>
        </td><td>
         <p>
          Path
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;shell&gt;/usr/bin/zsh&lt;/shell&gt;</pre></div>
        </td><td>
         <p>
          Optional. <code class="literal">/bin/bash</code> is the default value. If you
          choose another one, make sure that it's installed (adding the corresponding
          package to the <code class="literal">software</code> section).
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">user_password</code>
         </p>
        </td><td>
         <p>
          Text
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;user_password&gt;some-password&lt;/user_password&gt;</pre></div>
        </td><td>
         <p>
          Optional. User's password can be written in plain text (not
          recommended) or in encrypted form.  Check
          <code class="literal">encrypted</code> to select the desired behavior.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">encrypted</code>
         </p>
        </td><td>
         <p>
          Boolean
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;encrypted config:type="boolean"&gt;true&lt;/encrypted&gt;</pre></div>
        </td><td>
         <p>
          Optional. Considered <code class="literal">false</code> if not present.
          Indicates if the user's password in the profile is encrypted or not.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">password_settings</code>
         </p>
        </td><td>
         <p>
          Password settings
         </p>
         <div class="verbatim-wrap"><pre class="screen">&lt;password_settings&gt;
  &lt;expire/&gt;
  &lt;max&gt;60&lt;/max&gt;
  &lt;warn&gt;7&lt;/warn&gt;
&lt;/password_settings&gt;</pre></div>
        </td><td>
         <p>
          Optional. Some password settings can be customized:
          <code class="literal">expire</code> (account expiration date in format
          <code class="literal">YYYY-MM-DD</code>), <code class="literal">flag</code>
          (<code class="literal">/etc/shadow</code> flag), <code class="literal">inact</code>
          (number of days after password expiration that account is disabled),
          <code class="literal">max</code> (maximum number of days a password is valid),
          <code class="literal">min</code> (grace period in days until which a user can
          change password after it has expired) and <code class="literal">warn</code>
          (number of days before expiration when the password change reminder
          starts).
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">authorized_keys</code>
         </p>
        </td><td>
         <p>
          List of authorized keys
         </p>
         <div class="verbatim-wrap"><pre class="screen">&lt;authorized_keys config:type="list"&gt;
  &lt;listentry&gt;ssh-rsa ...&lt;/listentry&gt;
&lt;/authorized_keys&gt;</pre></div>
        </td><td>
         <p>
          A list of authorized keys to be written to <code class="literal">$HOME/.ssh/authorized_keys</code>.
          See example below.
         </p>
        </td></tr></tbody></table></div></div><div class="sect2 " id="Configuration.Security.user_defaults"><div class="titlepage"><div><div><h3 class="title" id="Configuration.Security.user_defaults"><span class="number">4.28.2 </span><span class="name">User Defaults</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Security.user_defaults">#</a></h3></div></div></div><p>
     The profile can specify a set of default values for new users like
     password expiration, initial group, home directory prefix, etc. Besides using them
     as default values for the users that are defined in the profile, AutoYaST will
     write those settings to <code class="filename">/etc/default/useradd</code> to be read for
     <code class="literal">useradd</code>.
    </p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Values
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">group</code>
         </p>
        </td><td>
         <p>
          Text
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;group&gt;100&lt;/group&gt;</pre></div>
        </td><td>
         <p>
          Optional. Default initial login group.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">groups</code>
         </p>
        </td><td>
         <p>
          Text
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;groups&gt;users&lt;/groups&gt;</pre></div>
        </td><td>
         <p>
          Optional. List of additional groups.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">home</code>
         </p>
        </td><td>
         <p>
          Path
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;home&gt;/home&lt;/home&gt;</pre></div>
        </td><td>
         <p>
          Optional. User's home directory prefix.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">expire</code>
         </p>
        </td><td>
         <p>
          Date
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;expire&gt;2017-12-31&lt;/expire&gt;</pre></div>
        </td><td>
         <p>
          Optional. Default password expiration date in <code class="literal">YYYY-MM-DD</code> format.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">inactive</code>
         </p>
        </td><td>
         <p>
          Number
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;inactive&gt;3&lt;/inactive&gt;</pre></div>
        </td><td>
         <p>
          Optional. Number of days after which an expired account is disabled.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">no_groups</code>
         </p>
        </td><td>
         <p>
          Boolean
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;no_groups config:type="boolean"&gt;true&lt;/no_groups&gt;</pre></div>
        </td><td>
         <p>
          Optional. Do not use secondary groups.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">shell</code>
         </p>
        </td><td>
         <p>
          Path
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;shell&gt;/usr/bin/fish&lt;/shell&gt;</pre></div>
        </td><td>
         <p>
          Default login shell. <code class="literal">/bin/bash</code> is the default value. If you
          choose another one, make sure that it is installed (adding the corresponding
          package to the <code class="literal">software</code> section).
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">skel</code>
         </p>
        </td><td>
         <p>
          Path
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;skel&gt;/etc/skel&lt;/skel&gt;</pre></div>
        </td><td>
         <p>
          Optional. Location of the files to be used as skel when adding a new
          user. You can find more information in <code class="literal">man 8
          useradd</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">umask</code>
         </p>
        </td><td>
         <p>
          File creation mode mask
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;umask&gt;022&lt;/umask&gt;</pre></div>
        </td><td>
         <p>
          Set the file creation mode mask for the home directory. By default
          <code class="literal">useradd</code> will use <code class="literal">022</code>. Check <code class="literal">man 8 useradd</code>
          and <code class="literal">man 1 umask</code> for further information.
         </p>
        </td></tr></tbody></table></div></div><div class="sect2 " id="Configuration.Security.groups"><div class="titlepage"><div><div><h3 class="title" id="Configuration.Security.groups"><span class="number">4.28.3 </span><span class="name">Groups</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Security.groups">#</a></h3></div></div></div><p>
     A list of groups can be defined in <code class="literal">&lt;groups&gt;</code>
     as shown in the example.
    </p><div class="example" id="idm139679520488016"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.48: </span><span class="name">Group Configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520488016">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;groups&gt;
  &lt;group&gt;
    &lt;gid&gt;100&lt;gid&gt;
    &lt;groupname&gt;users&lt;/groupname&gt;
    &lt;userlist&gt;bob,alice&lt;/userlist&gt;
  &lt;/group&gt;
&lt;/groups&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Values
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">groupname</code>
         </p>
        </td><td>
         <p>
          Text
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;groupname&gt;users&lt;/groupname&gt;</pre></div>
        </td><td>
         <p>
          Required. It should be a valid groupname. Check <code class="literal">man 8 groupadd</code>
          if you are not sure.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">gid</code>
         </p>
        </td><td>
         <p>
          Number
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;gid&gt;100&lt;/gid&gt;</pre></div>
        </td><td>
         <p>
          Optional. Group ID. It must be a unique and non-negative number.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">group_password</code>
         </p>
        </td><td>
         <p>
          Text
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;group_password&gt;password&lt;/group_password&gt;</pre></div>
        </td><td>
         <p>
          Optional. The group's password can be written in plain text (not
          recommended) or in encrypted form. Check the <code class="literal">encrypted</code> to
          select the desired behavior.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">encrypted</code>
         </p>
        </td><td>
         <p>
          Boolean
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;encrypted config:type="boolean"&gt;true&lt;/encrypted&gt;</pre></div>
        </td><td>
         <p>
          Optional. Indicates if the group's password in the profile is encrypted or not.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">userlist</code>
         </p>
        </td><td>
         <p>
          Users list
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;userlist&gt;bob,alice&lt;/userlist&gt;</pre></div>
        </td><td>
         <p>
          Optional. A list of users who belong to the group. User names must be separated by commas.
         </p>
        </td></tr></tbody></table></div></div><div class="sect2 " id="Configuration.Security.login_settings"><div class="titlepage"><div><div><h3 class="title" id="Configuration.Security.login_settings"><span class="number">4.28.4 </span><span class="name">Login Settings</span> <a title="Permalink" class="permalink" href="configuration.html#Configuration.Security.login_settings">#</a></h3></div></div></div><p>Two special login settings can be enabled through an AutoYaST profile:
    autologin and password-less login. Both of them are disabled by default.</p><div class="example" id="idm139679520457632"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.49: </span><span class="name">Enabling autologin and password-less login </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520457632">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;login_settings&gt;
  &lt;autologin_user&gt;vagrant&lt;/autologin_user&gt;
  &lt;password_less_login config:type="boolean"&gt;true&lt;/password_less_login&gt;
&lt;/login_settings&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Values
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">password_less_login</code>
         </p>
        </td><td>
         <p>
          Boolean
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;password_less_login config:type="boolean"&gt;true&lt;/password_less_login&gt;</pre></div>
        </td><td>
         <p>
          Optional. Enables password-less login. It only affects graphical login.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">autologin_user</code>
         </p>
        </td><td>
         <p>
          Text
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;autologin_user&gt;alice&lt;/autologin_user&gt;</pre></div>
        </td><td>
         <p>
          Optional. Enables autologin for the given user.
         </p>
        </td></tr></tbody></table></div></div></div><div class="sect1 " id="createprofile.scripts"><div class="titlepage"><div><div><h2 class="title" id="createprofile.scripts"><span class="number">4.29 </span><span class="name">Custom User Scripts</span> <a title="Permalink" class="permalink" href="configuration.html#createprofile.scripts">#</a></h2></div></div></div><p>
    By adding scripts to the auto-installation process you can customize the
    installation according to your needs and take control in different
    stages of the installation.
   </p><p>
    In the auto-installation process, five types of scripts can be executed
    at different points in time during the installation:
   </p><p>
    All scripts need to be in the &lt;scripts&gt; section.
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      <code class="literal">pre-scripts</code> (very early, before anything else
      really happens)
     </p></li><li class="listitem "><p>
      <code class="literal">postpartitioning-scripts</code> (after partitioning and
      mounting to <code class="filename">/mnt</code> but before RPM installation)
     </p></li><li class="listitem "><p>
      <code class="literal">chroot-scripts</code> (after the package installation,
      before the first boot)
     </p></li><li class="listitem "><p>
      <code class="literal">post-scripts</code> (during the first boot of the
      installed system, no services running)
     </p></li><li class="listitem "><p>
      <code class="literal">init-scripts</code> (during the first boot of the
      installed system, all services up and running)
     </p></li></ul></div><div class="sect2 " id="pre-install.scripts"><div class="titlepage"><div><div><h3 class="title" id="pre-install.scripts"><span class="number">4.29.1 </span><span class="name">Pre-Install Scripts</span> <a title="Permalink" class="permalink" href="configuration.html#pre-install.scripts">#</a></h3></div></div></div><p>
     Executed before YaST does any real change to the system (before
     partitioning and package installation but after the hardware
     detection).
    </p><p>
     You can use a pre-script to modify your control file and let AutoYaST
     reread it. Find your control file in
     <code class="filename">/tmp/profile/autoinst.xml</code>. Adjust the file and
     store the modified version in
     <code class="filename">/tmp/profile/modified.xml</code>. AutoYaST will read the
     modified file after the pre-script finishes.
    </p><p>
     It is also possible to change the partitioning in your pre-script.
    </p><div id="idm139679520427120" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Pre-Install Scripts with Confirmation</h6><p>
      Pre-scripts are executed at an early stage of the installation. This
      means if you have requested to confirm the installation, the
      pre-scripts will be executed before the confirmation screen shows up
      (<code class="literal">profile/install/general/mode/confirm</code>).
     </p></div><div id="idm139679520425088" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Pre-Install and Zypper</h6><p>
      To call <span class="emphasis"><em>zypper</em></span> in the pre-install
      script you will need to set the environment variable <span class="emphasis"><em>ZYPP_LOCKFILE_ROOT="/var/run/autoyast"</em></span>
      to prevent conflicts with the running YaST process.
     </p></div><p>
     Pre-Install Script elements must be placed as follows:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;scripts&gt;
  &lt;pre-scripts config:type="list"&gt;
    &lt;script&gt;
      ...
    &lt;/script&gt;
  &lt;/pre-scripts&gt;
&lt;/scripts&gt;</pre></div></div><div class="sect2 " id="postpartitioning-install.scripts"><div class="titlepage"><div><div><h3 class="title" id="postpartitioning-install.scripts"><span class="number">4.29.2 </span><span class="name">Post-partitioning Scripts</span> <a title="Permalink" class="permalink" href="configuration.html#postpartitioning-install.scripts">#</a></h3></div></div></div><p>
     Executed after YaST has done the partitioning and written the
     fstab. The empty system is already mounted to
     <code class="filename">/mnt</code>.
    </p><p>
     Post-partitioning script elements must be placed as follows:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;scripts&gt;
  &lt;postpartitioning-scripts config:type="list"&gt;
    &lt;script&gt;
      ...
    &lt;/script&gt;
  &lt;/postpartitioning-scripts&gt;
&lt;/scripts&gt;</pre></div></div><div class="sect2 " id="chroot.scripts"><div class="titlepage"><div><div><h3 class="title" id="chroot.scripts"><span class="number">4.29.3 </span><span class="name">Chroot Environment Scripts</span> <a title="Permalink" class="permalink" href="configuration.html#chroot.scripts">#</a></h3></div></div></div><p>
     Chroot scripts are executed before the machine reboots for the first
     time. You can execute chroot scripts before the installation chroots
     into the installed system and configures the boot loader or you can
     execute a script after the chroot into the installed system has
     happened (look at the <code class="literal">chrooted</code> parameter for that).
    </p><p>
     Chroot Environment script elements must be placed as follows:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;scripts&gt;
  &lt;chroot-scripts config:type="list"&gt;
    &lt;script&gt;
      ...
    &lt;/script&gt;
  &lt;/chroot-scripts&gt;
&lt;/scripts&gt;</pre></div></div><div class="sect2 " id="post-install.scripts"><div class="titlepage"><div><div><h3 class="title" id="post-install.scripts"><span class="number">4.29.4 </span><span class="name">Post-Install Scripts</span> <a title="Permalink" class="permalink" href="configuration.html#post-install.scripts">#</a></h3></div></div></div><p>
     These scripts are executed after AutoYaST has completed the system
     configuration and after it has booted the system for the first time.
    </p><p>
     It is possible to execute post scripts in an earlier phase while the
     installation network is still up and before AutoYaST configures the
     system. To run network-enabled post scripts, the boolean property
     <code class="literal">network_needed</code> needs to be set to
     <code class="literal">true</code>.
    </p><p>
     Post-install script elements must be placed as follows:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;scripts&gt;
    &lt;post-scripts config:type="list"&gt;
      &lt;script&gt;
        ...
      &lt;/script&gt;
    &lt;/post-scripts&gt;
  &lt;/scripts&gt;</pre></div></div><div class="sect2 " id="init.scripts"><div class="titlepage"><div><div><h3 class="title" id="init.scripts"><span class="number">4.29.5 </span><span class="name">Init Scripts</span> <a title="Permalink" class="permalink" href="configuration.html#init.scripts">#</a></h3></div></div></div><p>
     These scripts are executed when YaST has finished, during the
     initial boot process after the network has been initialized. These
     final scripts are executed using
     <code class="filename">/usr/lib/YaST2/bin/autoyast-initscripts.sh</code> and are
     executed only once. Init scripts are configured using the tag
     <span class="emphasis"><em>init-scripts</em></span>.
    </p><p>
     The following elements must be between the
     &lt;scripts&gt;&lt;init-scripts
     config:type="list"&gt;&lt;script&gt; ...
     &lt;/script&gt;&lt;/init-scripts&gt;...&lt;/scripts&gt;
     tags
    </p><div class="table" id="idm139679520406688"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.1: </span><span class="name">Init script XML representation </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520406688">#</a></h6></div><div class="table-contents"><table summary="Init script XML representation" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">location</code>
         </p>
        </td><td>
         <p>
          Define a location from where the script gets fetched. Locations
          can be the same as for the profile (HTTP, FTP, NFS, etc.).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;location
&gt;http://10.10.0.1/myInitScript.sh&lt;/location&gt;</pre></div>
        </td><td>
         <p>
          Either &lt;location&gt; or &lt;source&gt; must be
          defined.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">source</code>
         </p>
        </td><td>
         <p>
          The script itself (source code), encapsulated in a CDATA tag. If
          you do not want to put the whole shell script into the XML
          profile, use the location parameter.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;source&gt;
&lt;![CDATA[
echo "Testing the init script" &gt;
/tmp/init_out.txt
]]&gt;
&lt;/source&gt;</pre></div>
        </td><td>
         <p>
          Either &lt;location&gt; or &lt;source&gt; must be
          defined.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">filename</code>
         </p>
        </td><td>
         <p>
          The file name of the script. It will be stored in a temporary
          directory under <code class="filename">/tmp</code>
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;filename&gt;mynitScript5.sh&lt;/filename&gt;</pre></div>
        </td><td>
         <p>
          Optional in case you only have a single init script. The default
          name (<code class="filename">init-scripts</code>) is used in this case. If
          having specified more than one init script, you must set a unique
          name for each script.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">rerun</code>
         </p>
        </td><td>
         <p>
          A script is only run once. Even if you use ayast_setup to run an
          XML file multiple times, the script is only run once. Change this
          default behavior by setting this boolean to
          <code class="literal">true</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;rerun config:type="boolean"&gt;true&lt;/rerun&gt;</pre></div>
        </td><td>
         <p>
          Optional. Default is <code class="literal">false</code> (scripts only run
          once).
         </p>
        </td></tr></tbody></table></div></div><p>
     When added to the control file manually, scripts need to be included in
     a <span class="emphasis"><em>CDATA</em></span> element to avoid confusion with the file
     syntax and other tags defined in the control file.
    </p></div><div class="sect2 " id="scripts.syntax"><div class="titlepage"><div><div><h3 class="title" id="scripts.syntax"><span class="number">4.29.6 </span><span class="name">Script XML Representation</span> <a title="Permalink" class="permalink" href="configuration.html#scripts.syntax">#</a></h3></div></div></div><p>
     All XML elements described below can be used for each of the script
     types described above. The only exceptions are
     <code class="literal">chrooted</code> and
     <code class="literal">network_needed</code>—they are only valid for
     chroot and post-install scripts.
    </p><div class="table" id="idm139679519837744"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.2: </span><span class="name">Script XML Representation </span><a title="Permalink" class="permalink" href="configuration.html#idm139679519837744">#</a></h6></div><div class="table-contents"><table summary="Script XML Representation" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">location</code>
         </p>
        </td><td>
         <p>
          Define a location from where the script gets fetched. Locations
          can be the same as for the control file (HTTP, FTP, NFS, etc.).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;location
&gt;http://10.10.0.1/myPreScript.sh&lt;/location&gt;</pre></div>
        </td><td>
         <p>
          Either <code class="literal">location</code> or <code class="literal">source</code>
          must be defined.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">source</code>
         </p>
        </td><td>
         <p>
          The script itself (source code), encapsulated in a CDATA tag. If
          you do not want to put the whole shell script into the XML control
          file, refer to the location parameter.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;source&gt;
&lt;![CDATA[
echo "Testing the pre script" &gt; /tmp/pre-script_out.txt
]]&gt;
&lt;/source&gt;</pre></div>
        </td><td>
         <p>
          Either <code class="literal">location</code> or <code class="literal">source</code>
          must be defined.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">interpreter</code>
         </p>
        </td><td>
         <p>
          Specify the interpreter that must be used for the script.
          Supported options are shell and perl.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;interpreter&gt;perl&lt;/interpreter&gt;</pre></div>
        </td><td>
         <p>
          Optional (default is <code class="literal">shell</code>).
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">file name</code>
         </p>
        </td><td>
         <p>
          The file name of the script. It will be stored in a temporary
          directory under <code class="filename">/tmp</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;filename&gt;myPreScript5.sh&lt;/filename&gt;</pre></div>
        </td><td>
         <p>
          Optional. Default is the type of the script (pre-scripts in this
          case). If you have more than one script, you should define
          different names for each script.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">feedback</code>
         </p>
        </td><td>
         <p>
          If this boolean is <code class="literal">true</code>, output and error
          messages of the script (STDOUT and STDERR) will be shown in a
          pop-up. The user needs to confirm them via the OK button.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;feedback config:type="boolean"&gt;true&lt;/feedback&gt;</pre></div>
        </td><td>
         <p>
          Optional, default is <code class="literal">false</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">feedback_type</code>
         </p>
        </td><td>
         <p>
          This can be <code class="literal">message</code>, <code class="literal">warning</code>
          or <code class="literal">error</code>. Set the timeout for these pop-ups in
          the &lt;report&gt; section.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;feedback_type&gt;warning&lt;/feedback_type&gt;</pre></div>
        </td><td>
         <p>
          Optional, if missing, an always blocking pop-up is used.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">debug</code>
         </p>
        </td><td>
         <p>
          If this is <code class="literal">true</code>, every single line of a shell
          script is logged. Perl scripts are run with warnings turned on.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;debug config:type="boolean"&gt;true&lt;/debug&gt;</pre></div>
        </td><td>
         <p>
          Optional, default is <code class="literal">true</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">notification</code>
         </p>
        </td><td>
         <p>
          This text will be shown in a pop-up for the time the script is
          running in the background.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;notification&gt;Please wait while script is running...&lt;/notification&gt;</pre></div>
        </td><td>
         <p>
          Optional, if not configured, no notification pop-up will be shown.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">param-list</code>
         </p>
        </td><td>
         <p>
          It is possible to specify parameters given to the script being
          called. You may have more than one <code class="literal">param</code> entry.
          They are concatenated by a single space character on the script
          command line. If any shell quoting should be necessary (for
          example to protect embedded spaces) you need to include this.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;param-list&gt;
  &lt;param&gt;par1&lt;/param&gt;
  &lt;param&gt;par2 par3&lt;/param&gt;
  &lt;param&gt;"par4.1 par4.2"&lt;/param&gt;
&lt;/param-list&gt;</pre></div>
        </td><td>
         <p>
          Optional, if not configured, no parameters get passed to script.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">rerun</code>
         </p>
        </td><td>
         <p>
          A script is only run once. Even if you use
          <code class="literal">ayast</code>_setup to run an XML file multiple times,
          the script is only run once. Change this default behavior by
          setting this boolean to <code class="literal">true</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;rerun config:type="boolean"&gt;true&lt;/rerun&gt;</pre></div>
        </td><td>
         <p>
          Optional, default is <code class="literal">false</code> (scripts only run
          once).
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">chrooted</code>
         </p>
        </td><td>
         <p>
          If set to <code class="literal">false</code>, the installed system remains
          mounted at <code class="filename">/mnt</code> and no chroot happens. The
          boot loader is not installed either at this stage. Setting it to
          <code class="literal">true</code> means, a chroot into
          <code class="filename">/mnt</code> is performed, where the installed system
          is mounted. The boot loader is installed, and if you want to
          change anything in the installed system, you do not need to use the
          <code class="filename">/mnt</code> prefix anymore.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;chrooted config:type="boolean"
&gt;true&lt;/chrooted&gt;</pre></div>
        </td><td>
         <p>
          Optional, default is <code class="literal">false</code>. This option is only
          available for chroot environment scripts.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">network_needed</code>
         </p>
        </td><td>
         <p>
          
          If set to <code class="literal">false</code> the script will run after the
          YaST modules like the user configuration and everything else
          are done. The network is configured but not up and running yet.
          With this value set to <code class="literal">true</code>, the script runs
          before all YaST modules are configured. So there is no local
          user and no network is configured but the installation network is
          still up and running (if you did a network installation).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;network_needed config:type="boolean"
&gt;true&lt;/network_needed&gt;</pre></div>
        </td><td>
         <p>
          Optional, default is <code class="literal">false</code>. This option is only
          available for post-install scripts.
         </p>
        </td></tr></tbody></table></div></div></div><div class="sect2 " id="script_examples"><div class="titlepage"><div><div><h3 class="title" id="script_examples"><span class="number">4.29.7 </span><span class="name">Script Example</span> <a title="Permalink" class="permalink" href="configuration.html#script_examples">#</a></h3></div></div></div><div class="example" id="idm139679519765120"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.50: </span><span class="name">Script Configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679519765120">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE profile&gt;
&lt;profile xmlns="http://www.suse.com/1.0/yast2ns" xmlns:config="http://www.suse.com/1.0/configns"&gt;
&lt;scripts&gt;
  &lt;chroot-scripts config:type="list"&gt;
    &lt;script&gt;
      &lt;chrooted config:type="boolean"&gt;true&lt;/chrooted&gt;
      &lt;filename&gt;chroot.sh&lt;/filename&gt;
      &lt;interpreter&gt;shell&lt;/interpreter&gt;
      &lt;source&gt;&lt;![CDATA[
#!/bin/sh
echo "Testing chroot (chrooted) scripts"
ls
]]&gt;
      &lt;/source&gt;
    &lt;/script&gt;
    &lt;script&gt;
      &lt;filename&gt;chroot.sh&lt;/filename&gt;
        &lt;interpreter&gt;shell&lt;/interpreter&gt;
        &lt;source&gt;&lt;![CDATA[
#!/bin/sh
echo "Testing chroot scripts"
df
cd /mnt
ls
]]&gt;
        &lt;/source&gt;
      &lt;/script&gt;
    &lt;/chroot-scripts&gt;
    &lt;post-scripts config:type="list"&gt;
      &lt;script&gt;
        &lt;filename&gt;post.sh&lt;/filename&gt;
        &lt;interpreter&gt;shell&lt;/interpreter&gt;
        &lt;source&gt;&lt;![CDATA[
#!/bin/sh

echo "Running Post-install script"
systemctl start portmap
mount -a 192.168.1.1:/local /mnt
cp /mnt/test.sh /tmp
umount /mnt
]]&gt;
        &lt;/source&gt;
      &lt;/script&gt;
      &lt;script&gt;
        &lt;filename&gt;post.pl&lt;/filename&gt;
        &lt;interpreter&gt;perl&lt;/interpreter&gt;
        &lt;source&gt;&lt;![CDATA[
#!/usr/bin/perl
print "Running Post-install script";

]]&gt;
        &lt;/source&gt;
      &lt;/script&gt;
    &lt;/post-scripts&gt;
    &lt;pre-scripts config:type="list"&gt;
      &lt;script&gt;
        &lt;interpreter&gt;shell&lt;/interpreter&gt;
        &lt;location&gt;http://192.168.1.1/profiles/scripts/prescripts.sh&lt;/location&gt;
      &lt;/script&gt;
      &lt;script&gt;
        &lt;filename&gt;pre.sh&lt;/filename&gt;
        &lt;interpreter&gt;shell&lt;/interpreter&gt;
        &lt;source&gt;&lt;![CDATA[
#!/bin/sh
echo "Running pre-install script"
]]&gt;
        &lt;/source&gt;
      &lt;/script&gt;
    &lt;/pre-scripts&gt;
    &lt;postpartitioning-scripts config:type="list"&gt;
      &lt;script&gt;
        &lt;filename&gt;postpart.sh&lt;/filename&gt;
        &lt;interpreter&gt;shell&lt;/interpreter&gt;
        &lt;debug config:type="boolean"&gt;false&lt;/debug&gt;
        &lt;feedback config:type="boolean"&gt;true&lt;/feedback&gt;
        &lt;source&gt;&lt;![CDATA[
touch /mnt/testfile
echo Hi
]]&gt;
        &lt;/source&gt;
      &lt;/script&gt;
    &lt;/postpartitioning-scripts&gt;
  &lt;/scripts&gt;
&lt;/profile&gt;</pre></div></div></div><p>
     After installation is finished, the scripts and the output logs can be
     found in the directory <code class="filename">/var/adm/autoinstall</code>. The
     scripts are located in the subdirectory <code class="filename">scripts</code>
     and the output logs in the <code class="filename">log</code> directory.
    </p><p>
     The log consists of the output produced when executing the shell
     scripts using the following command:
    </p><div class="verbatim-wrap"><pre class="screen">/bin/sh -x <em class="replaceable ">SCRIPT_NAME</em> 2&amp;&gt;/var/adm/autoinstall/logs/<em class="replaceable ">SCRIPT_NAME</em>.log</pre></div></div></div><div class="sect1 " id="createprofile.sysconfig"><div class="titlepage"><div><div><h2 class="title" id="createprofile.sysconfig"><span class="number">4.30 </span><span class="name">System Variables (Sysconfig)</span> <a title="Permalink" class="permalink" href="configuration.html#createprofile.sysconfig">#</a></h2></div></div></div><p>
    Using the sysconfig resource, it is possible to define configuration
    variables in the sysconfig repository
    (<code class="filename">/etc/sysconfig</code>) directly. Sysconfig variables,
    offer the possibility to fine-tune many system components and
    environment variables exactly to your needs.
   </p><p>
    The following example shows how a variable can be set using the
    sysconfig resource.
   </p><div class="complex-example"><div class="example" id="idm139679519754800"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.51: </span><span class="name">Sysconfig Configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679519754800">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;sysconfig config:type="list" &gt;
  &lt;sysconfig_entry&gt;
    &lt;sysconfig_key&gt;XNTPD_INITIAL_NTPDATE&lt;/sysconfig_key&gt;
    &lt;sysconfig_path&gt;/etc/sysconfig/xntp&lt;/sysconfig_path&gt;
    &lt;sysconfig_value&gt;ntp.host.com&lt;/sysconfig_value&gt;
  &lt;/sysconfig_entry&gt;
  &lt;sysconfig_entry&gt;
    &lt;sysconfig_key&gt;HTTP_PROXY&lt;/sysconfig_key&gt;
    &lt;sysconfig_path&gt;/etc/sysconfig/proxy&lt;/sysconfig_path&gt;
    &lt;sysconfig_value&gt;proxy.host.com:3128&lt;/sysconfig_value&gt;
  &lt;/sysconfig_entry&gt;
  &lt;sysconfig_entry&gt;
    &lt;sysconfig_key&gt;FTP_PROXY&lt;/sysconfig_key&gt;
    &lt;sysconfig_path&gt;/etc/sysconfig/proxy&lt;/sysconfig_path&gt;
    &lt;sysconfig_value&gt;proxy.host.com:3128&lt;/sysconfig_value&gt;
  &lt;/sysconfig_entry&gt;
&lt;/sysconfig&gt;</pre></div><p>
     Both relative and absolute paths can be provided. If no absolute path
     is given, it is treated as a sysconfig file under the
     <code class="filename">/etc/sysconfig</code> directory.
    </p></div></div></div></div><div class="sect1 " id="createprofile.completeconf"><div class="titlepage"><div><div><h2 class="title" id="createprofile.completeconf"><span class="number">4.31 </span><span class="name">Adding Complete Configurations</span> <a title="Permalink" class="permalink" href="configuration.html#createprofile.completeconf">#</a></h2></div></div></div><p>
    For many applications and services you may have a
    configuration file which should be copied to the appropriate location on
    the installed system. For example, if you are installing a Web server, you may have a server configuration file
    (<code class="filename">httpd.conf</code>).
   </p><p>
    Using this resource, you can embed the file into the control file by
    specifying the final path on the installed system. YaST will copy
    this file to the specified location.
   </p><p>
    This feature requires the <span class="package">autoyast2</span> package to be
    installed. If the package is missing, AutoYaST will automatically install the
    package if it is missing.
   </p><p>
    You can specify the <code class="literal">file_location</code> where the file
    should be retrieved from. This can also be a location on the network
    such as an HTTP server:
    <code class="literal">&lt;file_location&gt;http://my.server.site/issue&lt;/file_location&gt;</code>.
   </p><p>
    You can create directories by specifying a <code class="literal">file_path</code>
    that ends with a slash.
   </p><div class="example" id="idm139679519745168"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.52: </span><span class="name">Dumping files into the installed system </span><a title="Permalink" class="permalink" href="configuration.html#idm139679519745168">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;files config:type="list"&gt;
  &lt;file&gt;
    &lt;file_path&gt;/etc/apache2/httpd.conf&lt;/file_path&gt;
    &lt;file_contents&gt;

&lt;![CDATA[
some content
]]&gt;

    &lt;/file_contents&gt;
  &lt;/file&gt;
  &lt;file&gt;
    &lt;file_path&gt;/mydir/a/b/c/&lt;/file_path&gt; &lt;!-- create directory --&gt;
  &lt;/file&gt;
&lt;/files&gt;</pre></div></div></div><p>
    A more advanced example is shown below. This configuration will create a
    file using the content supplied in <code class="literal">file_contents</code> and
    change the permissions and ownership of the file. After the file has
    been copied to the system, a script is executed. This can be used to
    modify the file and prepare it for the client's environment.
   </p><div class="example" id="idm139679522484656"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.53: </span><span class="name">Dumping files into the installed system </span><a title="Permalink" class="permalink" href="configuration.html#idm139679522484656">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;files config:type="list"&gt;
  &lt;file&gt;
    &lt;file_path&gt;/etc/someconf.conf&lt;/file_path&gt;
    &lt;file_contents&gt;

&lt;![CDATA[
some content
]]&gt;

    &lt;/file_contents&gt;
    &lt;file_owner&gt;tux.users&lt;/file_owner&gt;
    &lt;file_permissions&gt;444&lt;/file_permissions&gt;
    &lt;file_script&gt;
      &lt;interpreter&gt;shell&lt;/interpreter&gt;
      &lt;source&gt;

&lt;![CDATA[
#!/bin/sh

echo "Testing file scripts" &gt;&gt; /etc/someconf.conf
df
cd /mnt
ls
]]&gt;

      &lt;/source&gt;
    &lt;/file_script&gt;
  &lt;/file&gt;
&lt;/files&gt;</pre></div></div></div></div><div class="sect1 " id="CreateProfile.Ask"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Ask"><span class="number">4.32 </span><span class="name">Ask the User for Values during Installation</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Ask">#</a></h2></div></div></div><p>
    You have the option to let the user decide the values of specific parts
    of the control file during the installation. If you use this feature, a
    pop-up will ask the user to enter a specific part of the control file
    during installation. If you want a full auto installation, but the user
    should set the password of the local account, you can do this via the
    <code class="literal">ask</code> directive in the control file.
   </p><p>
    The elements listed below must be placed within the following XML
    structure:
   </p><div class="verbatim-wrap"><pre class="screen">&lt;general&gt;
  &lt;ask-list config:type="list"&gt;
    &lt;ask&gt;
      ...
    &lt;/ask&gt;
  &lt;/ask-list&gt;
&lt;/general&gt;</pre></div><div class="table" id="idm139679522479232"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.3: </span><span class="name">Ask the User for Values: XML representation </span><a title="Permalink" class="permalink" href="configuration.html#idm139679522479232">#</a></h6></div><div class="table-contents"><table summary="Ask the User for Values: XML representation" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
        <p>
         Element
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th><th>
        <p>
         Comment
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         <code class="literal">question</code>
        </p>
       </td><td>
        <p>
         The question you want to ask the user.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;question&gt;Enter the LDAP server&lt;/question&gt;</pre></div>
       </td><td>
        <p>
         The default value is the path to the element (the path often looks
         strange, so we recommend entering a question).
        </p>
        
       </td></tr><tr><td>
        <p>
         <code class="literal">default</code>
        </p>
       </td><td>
        <p>
         Set a preselection for the user. A text entry will be filled out
         with this value. A check box will be true or false and a selection
         will have the given value preselected.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;default&gt;dc=suse,dc=de&lt;/default&gt;</pre></div>
       </td><td>
        <p>
         Optional.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">help</code>
        </p>
       </td><td>
        <p>
         An optional help text that is shown on the left side of the
         question.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;help&gt;Enter the LDAP server address.&lt;/help&gt;</pre></div>
       </td><td>
        <p>
         Optional.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">title</code>
        </p>
       </td><td>
        <p>
         An optional title that is shown above the questions.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;title&gt;LDAP server&lt;/title&gt;</pre></div>
       </td><td>
        <p>
         Optional.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">type</code>
        </p>
       </td><td>
        <p>
         The type of the element you want to change. Possible values are
         <code class="literal">symbol</code>, <code class="literal">boolean</code>,
         <code class="literal">string</code> and <code class="literal">integer</code>. The file
         system in the partition section is a symbol, while the
         <code class="literal">encrypted</code> element in the user configuration is a
         boolean. You can see the type of that element if you look in your
         control file at the <code class="literal">config:type="...."</code>
         attribute. You can also use <code class="literal">static_text</code> as type.
         A <code class="literal">static_text</code> is a text that does not
         require any user input and can be used to show information not
         included in the help text.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;type&gt;symbol&lt;/type&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">string</code>. If type is
         <code class="literal">symbol</code>, you must provide the selection element
         too (see below).
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">password</code>
        </p>
       </td><td>
        <p>
         If this boolean is set to <code class="literal">true</code>, a password
         dialog pops up instead of a simple text entry. Setting this to
         <code class="literal">true</code> only makes sense if <code class="literal">type</code>
         is string.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;password config:type="boolean"&gt;true&lt;/password&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">false</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">pathlist</code>
        </p>
       </td><td>
        <p>
         A list of <code class="literal">path</code> elements. A path is a comma
         separated list of elements that describes the path to the element
         you want to change. For example, the LDAP server element can be
         found in the control file in the
         <code class="literal">&lt;ldap&gt;&lt;ldap_server&gt;</code> section.
         So if you want to change that value, you need to set the path to
         <code class="literal">ldap,ldap_server</code>.
        </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;pathlist config:type="list"&gt;
  &lt;path&gt;networking,dns,hostname&lt;/path&gt;
  &lt;path&gt;...&lt;/path&gt;
&lt;/pathlist&gt;</pre></div>
        <p>To change the
         password of the first user in the control file, you need to set the
         path to <code class="literal">users,0,user_password</code>. The
         <code class="literal">0</code> indicates the first user in the &lt;users
         config:type="list"&gt; list of users in the control file.
         <code class="literal">1</code> would be the second one, and so on.
        </p>
        <div class="verbatim-wrap"><pre class="screen">&lt;users config:type="list"&gt;
  &lt;user&gt;
    &lt;username&gt;root&lt;/username&gt;
    &lt;user_password&gt;password to change&lt;/user_password&gt;
    &lt;encrypted config:type="boolean"&gt;false&lt;/encrypted&gt;
  &lt;/user&gt;
  &lt;user&gt;
    &lt;username&gt;tux&lt;/username&gt;
    &lt;user_password&gt;password to change&lt;/user_password&gt;
    &lt;encrypted config:type="boolean"&gt;false&lt;/encrypted&gt;
  &lt;/user&gt;
&lt;/users&gt;</pre></div>

       </td><td>
        <p>
         This information is optional but you should at least provide
         <code class="literal">path</code> or <code class="literal">file</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">file</code>
        </p>
       </td><td>
        <p>
         You can store the answer to a question in a file, to use it in one
         of your scripts later. If you ask during
         <code class="literal">stage=initial</code> and you want to use the answer in
         stage 2, then you need to copy the answer-file in a chroot script
         that is running as <code class="literal">chrooted=false</code>. Use the
         command: <code class="command">cp /tmp/my_answer /mnt/tmp/</code>. The reason
         is that <code class="filename">/tmp</code> in stage 1 is in the RAM disk
         and will be lost after the reboot, but the installed system is
         already mounted at <code class="filename">/mnt/</code>.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;file&gt;/tmp/answer_hostname&lt;/file&gt;</pre></div>
       </td><td>
        <p>
         This information is optional, but you should at least provide
         <code class="literal">path</code> or <code class="literal">file</code>.
        </p>
       </td></tr><tr><td>
        <p>
         stage
        </p>
       </td><td>
        <p>
         Stage configures the installation stage in which the question pops
         up. You can set this value to <code class="literal">cont</code> or
         <code class="literal">initial</code>. <code class="literal">initial</code> means the
         pop-up comes up very early in the installation, shortly after the
         pre-script has run. <code class="literal">cont</code> means, that the dialog
         with the question comes after the first reboot when the system
         boots for the very first time. Questions you answer during the
         <code class="literal">initial</code> stage will write their answer into the
         control file on the hard disk. You should know that if you enter
         clear text passwords during <code class="literal">initial</code>. Of course
         it does not make sense to ask for the file system to use during the
         <code class="literal">cont</code> phase. The hard disk is already partitioned
         at that stage and the question will have no effect.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;stage&gt;cont&lt;/stage&gt;</pre></div>
       </td><td>
        <p>
         Optional. The default is <code class="literal">initial</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">selection</code>
        </p>
       </td><td>
        <p>
         The selection element contains a list of <code class="literal">entry</code>
         elements. Each entry represents a possible option for the user to
         choose. The user cannot enter a value in a text box, but he can
         choose from a list of values.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;selection config:type="list"&gt;
  &lt;entry&gt;
    &lt;value&gt;
        btrfs
    &lt;/value&gt;
    &lt;label&gt;
        Btrfs File System
    &lt;/label&gt;
  &lt;/entry&gt;
  &lt;entry&gt;
    &lt;value&gt;
        ext3
    &lt;/value&gt;
    &lt;label&gt;
        Extended3 File System
    &lt;/label&gt;
  &lt;/entry&gt;
&lt;/selection&gt;</pre></div>
       </td><td>
        <p>
         Optional for <code class="literal">type=string</code>, not possible for
         <code class="literal">type=boolean</code> and mandatory for
         <code class="literal">type=symbol</code>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">dialog</code>
        </p>
       </td><td>
        <p>
         You can ask more than one question per dialog. To do so, specify
         the dialog-id with an integer. All questions with the same
         dialog-id belong to the same dialog. The dialogs are sorted by the
         id too.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;dialog config:type="integer"&gt;3&lt;/dialog&gt;</pre></div>
       </td><td>
        <p>
         Optional.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">element</code>
        </p>
       </td><td>
        <p>
         you can have more than one question per dialog. To make that
         possible you need to specify the element-id with an integer. The
         questions in a dialog are sorted by id.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;element config:type="integer"&gt;1&lt;/element&gt;</pre></div>
       </td><td>
        <p>
         Optional (see dialog).
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">width</code>
        </p>
       </td><td>
        <p>
         You can increase the default width of dialog. If there are multiple
         width specifications per dialog, the largest one is used. The
         number is roughly equivalent to the number of characters.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;width config:type="integer"&gt;50&lt;/width&gt;</pre></div>
       </td><td>
        <p>
         Optional.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">height</code>
        </p>
       </td><td>
        <p>
         You can increase default height of dialog. If there are multiple
         height specifications per dialog, largest one is used. The number
         is roughly equivalent to number of lines.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;height config:type="integer"&gt;15&lt;/height&gt;</pre></div>
       </td><td>
        <p>
         Optional.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">frametitle</code>
        </p>
       </td><td>
        <p>
         You can have more than one question per dialog. Each question on a
         dialog has a frame that can have a frame title, a small caption for
         each question. You can put multiple elements into one frame. They
         need to have the same frame title.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;frametitle&gt;User data&lt;/frametitle&gt;</pre></div>
       </td><td>
        <p>
         Optional. Default is no frame title.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">script</code>
        </p>
       </td><td>
        <p>
         You can run scripts after a question has been answered (see the
         table below for detailed instructions about scripts).
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;script&gt;...&lt;/script&gt;</pre></div>
       </td><td>
        <p>
         Optional (default is no script).
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">ok_label</code>
        </p>
       </td><td>
        <p>
         You can change the label on the <span class="guimenu">Ok</span> button. The
         last element that specifies the label for a dialog wins.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;ok_label&gt;Finish&lt;/ok_label&gt;</pre></div>
       </td><td>
        <p>
         Optional.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">back_label</code>
        </p>
       </td><td>
        <p>
         You can change the label on the <span class="guimenu">Back</span> button. The
         last element that specifies the label for a dialog wins.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;back_label&gt;change values&lt;/back_label&gt;</pre></div>
       </td><td>
        <p>
         Optional.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">timeout</code>
        </p>
       </td><td>
        <p>
         You can specify an integer here that is used as timeout in seconds.
         If the user does not answer the question before the timeout, the
         default value is taken as answer. When the user touches or changes
         any widget in the dialog, the timeout is turned off and the dialog
         needs to be confirmed via <span class="guimenu">Ok</span>.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;timeout config:type="integer"&gt;30&lt;/timeout&gt;</pre></div>
       </td><td>
        <p>
         Optional. A missing value is interpreted as <code class="literal">0</code>,
         which means that there is no timeout.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">default_value_script</code>
        </p>
       </td><td>
        <p>
         You can run scripts to set the default value for a question (see
         <a class="xref" href="configuration.html#CreateProfile.Ask.default_value" title="4.32.1. Default Value Scripts">Section 4.32.1, “Default Value Scripts”</a> for detailed
         instructions about default value scripts). This feature is useful
         if you can <code class="literal">calculate</code> a default value, especially
         in combination with the <code class="literal">timeout</code> option.
        </p>
<div class="verbatim-wrap"><pre class="screen">&lt;default_value_script&gt;...&lt;/default_value_script&gt;</pre></div>
       </td><td>
        <p>
         Optional. Default is no script.
        </p>
       </td></tr></tbody></table></div></div><div class="sect2 " id="CreateProfile.Ask.default_value"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Ask.default_value"><span class="number">4.32.1 </span><span class="name">Default Value Scripts</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Ask.default_value">#</a></h3></div></div></div><p>
     You can run scripts to set the default value for a question. This
     feature is useful if you can <code class="literal">calculate</code> a default
     value, especially in combination with the <code class="literal">timeout</code>
     option.
    </p><p>
     The elements listed below must be placed within the following XML
     structure:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;general&gt;
  &lt;ask-list config:type="list"&gt;
    &lt;ask&gt;
      &lt;default_value_script&gt;
        ...
      &lt;/default_value_script&gt;
    &lt;/ask&gt;
  &lt;/ask-list&gt;
&lt;/general&gt;</pre></div><div class="table" id="idm139679529604944"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.4: </span><span class="name">Default Value Scripts: XML representation </span><a title="Permalink" class="permalink" href="configuration.html#idm139679529604944">#</a></h6></div><div class="table-contents"><table summary="Default Value Scripts: XML representation" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">source</code>
         </p>
        </td><td>
         <p>
          The source code of the script. Whatever you
          <code class="command">echo</code> to STDOUT will be used as default value
          for the ask-dialog. If your script has an exit code other than 0,
          the normal default element is used. Take care you use
          <code class="command">echo -n</code> to suppress the <code class="literal">\n</code>
          and that you echo reasonable values and not <span class="quote">“<span class="quote">okay</span>”</span>
          for a boolean
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;source&gt;...&lt;/source&gt;</pre></div>
        </td><td>
         <p>
          This value is required, otherwise nothing would be executed.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">interpreter</code>
         </p>
        </td><td>
         <p>
          The interpreter to use.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;interpreter&gt;perl&lt;/interpreter&gt;</pre></div>
        </td><td>
         <p>
          The default value is <code class="literal">shell</code>. You can also set
          <code class="filename">/bin/myinterpreter</code> as value.
         </p>
        </td></tr></tbody></table></div></div></div><div class="sect2 " id="CreateProfile.Ask.script"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Ask.script"><span class="number">4.32.2 </span><span class="name">Scripts</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Ask.script">#</a></h3></div></div></div><p>
     You can run scripts after a question has been answered.
    </p><p>
     The elements listed below must be placed within the following XML
     structure:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;general&gt;
  &lt;ask-list config:type="list"&gt;
    &lt;ask&gt;
      &lt;script&gt;
        ...
      &lt;/script&gt;
    &lt;/ask&gt;
  &lt;/ask-list&gt;
&lt;/general&gt;</pre></div><div class="table" id="idm139679529585168"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.5: </span><span class="name">Scripts: XML representation </span><a title="Permalink" class="permalink" href="configuration.html#idm139679529585168">#</a></h6></div><div class="table-contents"><table summary="Scripts: XML representation" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">file name</code>
         </p>
        </td><td>
         <p>
          The file name of the script.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;filename&gt;my_ask_script.sh&lt;/filename&gt;</pre></div>
        </td><td>
         <p>
          The default is ask_script.sh
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">source</code>
         </p>
        </td><td>
         <p>
          The source code of the script. Together with
          <code class="literal">rerun_on_error</code> activated, you check the value
          that was entered for sanity. Your script can create a file
          <code class="filename">/tmp/next_dialog</code> with a dialog id specifying
          the next dialog AutoYaST will raise. A value of -1 terminates the
          ask sequence. If that file is not created, AutoYaST will run the
          dialogs in the normal order (since 11.0 only).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;source&gt;...&lt;/source&gt;</pre></div>
        </td><td>
         <p>
          This value is required, otherwise nothing would be executed.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">environment</code>
         </p>
        </td><td>
         <p>
          A boolean that passes the value of the answer to the question as
          an environment variable to the script. The variable is named
          <code class="envar">VAL</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;environment config:type="boolean"&gt;true&lt;/environment&gt;</pre></div>
        </td><td>
         <p>
          Optional. Default is <code class="literal">false</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">feedback</code>
         </p>
        </td><td>
         <p>
          A boolean that turns on feedback for the script execution. STDOUT
          will be displayed in a pop-up window that must be confirmed after
          the script execution.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;feedback config:type="boolean"&gt;true&lt;/feedback&gt;</pre></div>
        </td><td>
         <p>
          Optional, default is <code class="literal">false</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">debug</code>
         </p>
        </td><td>
         <p>
          A boolean that turns on debugging for the script execution.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;debug config:type="boolean"&gt;true&lt;/debug&gt;</pre></div>
        </td><td>
         <p>
          Optional, default is <code class="literal">true</code>. This value needs
          <code class="literal">feedback</code> to be turned on, too.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">rerun_on_error</code>
         </p>
        </td><td>
         <p>
          A boolean that keeps the dialog open until the script has an exit
          code of 0 (zero). So you can parse and check the answers the user
          gave in the script and display an error with the
          <code class="literal">feedback</code> option.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;rerun_on_error config:type="boolean"&gt;true&lt;/rerun_on_error&gt;</pre></div>
        </td><td>
         <p>
          Optional, default is <code class="literal">false</code>. This value should
          be used together with the feedback option.
         </p>
        </td></tr></tbody></table></div></div><p>
     Below you can see an example of the usage of the <code class="literal">ask</code>
     feature.
    </p><div class="verbatim-wrap"><pre class="screen">&lt;general&gt;
  &lt;ask-list config:type="list"&gt;
    &lt;ask&gt;
      &lt;pathlist config:type="list"&gt;
        &lt;path&gt;ldap,ldap_server&lt;/path&gt;
      &lt;/pathlist&gt;
      &lt;stage&gt;cont&lt;/stage&gt;
      &lt;help&gt;Choose your server depending on your department&lt;/help&gt;
      &lt;selection config:type="list"&gt;
        &lt;entry&gt;
          &lt;value&gt;ldap1.mydom.de&lt;/value&gt;
          &lt;label&gt;LDAP for development&lt;/label&gt;
        &lt;/entry&gt;
        &lt;entry&gt;
          &lt;value&gt;ldap2.mydom.de&lt;/value&gt;
          &lt;label&gt;LDAP for sales&lt;/label&gt;
        &lt;/entry&gt;
      &lt;/selection&gt;
      &lt;default&gt;ldap2.mydom.de&lt;/default&gt;
      &lt;default_value_script&gt;
        &lt;source&gt; &lt;![CDATA[
echo -n "ldap1.mydom.de"
]]&gt;
        &lt;/source&gt;
      &lt;/default_value_script&gt;
    &lt;/ask&gt;
    &lt;ask&gt;
      &lt;pathlist config:type="list"&gt;
        &lt;path&gt;networking,dns,hostname&lt;/path&gt;
      &lt;/pathlist&gt;
      &lt;question&gt;Enter Hostname&lt;/question&gt;
      &lt;stage&gt;initial&lt;/stage&gt;
      &lt;default&gt;enter your hostname here&lt;/default&gt;
    &lt;/ask&gt;
    &lt;ask&gt;
      &lt;pathlist config:type="list"&gt;
        &lt;path&gt;partitioning,0,partitions,0,filesystem&lt;/path&gt;
      &lt;/pathlist&gt;
      &lt;question&gt;File System&lt;/question&gt;
      &lt;type&gt;symbol&lt;/type&gt;
      &lt;selection config:type="list"&gt;
        &lt;entry&gt;
          &lt;value config:type="symbol"&gt;ext4&lt;/value&gt;
          &lt;label&gt;default File System (recommended)&lt;/label&gt;
        &lt;/entry&gt;
        &lt;entry&gt;
          &lt;value config:type="symbol"&gt;ext3&lt;/value&gt;
          &lt;label&gt;Fallback File System&lt;/label&gt;
        &lt;/entry&gt;
      &lt;/selection&gt;
    &lt;/ask&gt;
  &lt;/ask-list&gt;
&lt;/general&gt;</pre></div><p>
     The following example shows a to choose between AutoYaST control files.
     AutoYaST will read the <code class="filename">modified.xml</code> file again
     after the ask-dialogs are done. This way you can fetch a complete new
     control file.
    </p><div class="verbatim-wrap"><pre class="screen">&lt;general&gt;
  &lt;ask-list config:type="list"&gt;
    &lt;ask&gt;
      &lt;selection config:type="list"&gt;
        &lt;entry&gt;
          &lt;value&gt;part1.xml&lt;/value&gt;
          &lt;label&gt;Simple partitioning&lt;/label&gt;
        &lt;/entry&gt;
        &lt;entry&gt;
          &lt;value&gt;part2.xml&lt;/value&gt;
          &lt;label&gt;encrypted /tmp&lt;/label&gt;
        &lt;/entry&gt;
        &lt;entry&gt;
          &lt;value&gt;part3.xml&lt;/value&gt;
          &lt;label&gt;LVM&lt;/label&gt;
        &lt;/entry&gt;
      &lt;/selection&gt;
      &lt;title&gt;XML Profile&lt;/title&gt;
      &lt;question&gt;Choose a profile&lt;/question&gt;
      &lt;stage&gt;initial&lt;/stage&gt;
      &lt;default&gt;part1.xml&lt;/default&gt;
      &lt;script&gt;
        &lt;filename&gt;fetch.sh&lt;/filename&gt;
        &lt;environment config:type="boolean"&gt;true&lt;/environment&gt;
        &lt;source&gt;
&lt;![CDATA[
wget http://10.10.0.162/$VAL -O /tmp/profile/modified.xml 2&gt;/dev/null
]]&gt;
        &lt;/source&gt;
        &lt;debug config:type="boolean"&gt;false&lt;/debug&gt;
        &lt;feedback config:type="boolean"&gt;false&lt;/feedback&gt;
      &lt;/script&gt;
    &lt;/ask&gt;tion&gt;
  &lt;/ask-list&gt;
&lt;/general&gt;</pre></div><p>
     You can verify the answer of a question with a script like this:
    </p><div class="verbatim-wrap"><pre class="screen">&lt;general&gt;
  &lt;ask-list config:type="list"&gt;
    &lt;ask&gt;
      &lt;script&gt;
        &lt;filename&gt;my.sh&lt;/filename&gt;
        &lt;rerun_on_error config:type="boolean"&gt;true&lt;/rerun_on_error&gt;
        &lt;environment config:type="boolean"&gt;true&lt;/environment&gt;
        &lt;source&gt;&lt;![CDATA[
if [ "$VAL" = "myhost" ]; then
    echo "Illegal Hostname!";
    exit 1;
fi
exit 0
]]&gt;
        &lt;/source&gt;
        &lt;debug config:type="boolean"&gt;false&lt;/debug&gt;
        &lt;feedback config:type="boolean"&gt;true&lt;/feedback&gt;
      &lt;/script&gt;
      &lt;dialog config:type="integer"&gt;0&lt;/dialog&gt;
      &lt;element config:type="integer"&gt;0&lt;/element&gt;
      &lt;pathlist config:type="list"&gt;
        &lt;path&gt;networking,dns,hostname&lt;/path&gt;
      &lt;/pathlist&gt;
      &lt;question&gt;Enter Hostname&lt;/question&gt;
      &lt;default&gt;enter your hostname here&lt;/default&gt;
    &lt;/ask&gt;
  &lt;/ask-list&gt;
&lt;/general&gt;</pre></div></div></div><div class="sect1 " id="CreateProfile.kdump"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.kdump"><span class="number">4.33 </span><span class="name">Kernel Dumps</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.kdump">#</a></h2></div></div></div><div id="idm139679529541280" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Availability</h6><p>
     This feature is not available on the IBM Z (s390x)
     architecture.
    </p></div><p>
    With Kdump the system can create crashdump files if the whole kernel
    crashes. Crash dump files contain the memory contents while the system
    crashed. Such core files can be analyzed later by support or a (kernel)
    developer to find the reason for the system crash. Kdump is mostly
    useful for servers where you cannot easily reproduce such crashes but it
    is important to get the problem fixed.
   </p><p>
    There is a downside to this. Enabling Kdump requires between 64 MB and 128 MB of
    additional system RAM reserved for Kdump in case the system crashes and the dump needs to be generated.
   </p><p>
    This section only describes how to set up Kdump with AutoYaST. It does
    not describe how Kdump works. For details, refer to the kdump(7) manual
    page.
   </p><p>
    The following example shows a general Kdump configuration.
   </p><div class="example" id="idm139679529537312"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.54: </span><span class="name">Kdump configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679529537312">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;kdump&gt;
  &lt;!-- memory reservation --&gt;
  &lt;add_crash_kernel config:type="boolean"&gt;true&lt;/add_crash_kernel&gt;
  &lt;crash_kernel&gt;256M-:64M&lt;/crash_kernel&gt;
  &lt;general&gt;

    &lt;!-- dump target settings --&gt;
    &lt;KDUMP_SAVEDIR&gt;ftp://stravinsky.suse.de/incoming/dumps&lt;/KDUMP_SAVEDIR&gt;
    &lt;KDUMP_COPY_KERNEL&gt;true&lt;/KDUMP_COPY_KERNEL&gt;
    &lt;KDUMP_FREE_DISK_SIZE&gt;64&lt;/KDUMP_FREE_DISK_SIZE&gt;
    &lt;KDUMP_KEEP_OLD_DUMPS&gt;5&lt;/KDUMP_KEEP_OLD_DUMPS&gt;

    &lt;!-- filtering and compression --&gt;
    &lt;KDUMP_DUMPFORMAT&gt;compressed&lt;/KDUMP_DUMPFORMAT&gt;
    &lt;KDUMP_DUMPLEVEL&gt;1&lt;/KDUMP_DUMPLEVEL&gt;

    &lt;!-- notification --&gt;
    &lt;KDUMP_NOTIFICATION_TO&gt;tux@example.com&lt;/KDUMP_NOTIFICATION_TO&gt;
    &lt;KDUMP_NOTIFICATION_CC&gt;spam@example.com devnull@example.com&lt;/KDUMP_NOTIFICATION_CC&gt;
    &lt;KDUMP_SMTP_SERVER&gt;mail.example.com&lt;/KDUMP_SMTP_SERVER&gt;
    &lt;KDUMP_SMTP_USER&gt;&lt;/KDUMP_SMTP_USER&gt;
    &lt;KDUMP_SMTP_PASSWORD&gt;&lt;/KDUMP_SMTP_PASSWORD&gt;

    &lt;!-- kdump kernel --&gt;
    &lt;KDUMP_KERNELVER&gt;&lt;/KDUMP_KERNELVER&gt;
    &lt;KDUMP_COMMANDLINE&gt;&lt;/KDUMP_COMMANDLINE&gt;
    &lt;KDUMP_COMMANDLINE_APPEND&gt;&lt;/KDUMP_COMMANDLINE_APPEND&gt;

    &lt;!-- expert settings --&gt;
    &lt;KDUMP_IMMEDIATE_REBOOT&gt;yes&lt;/KDUMP_IMMEDIATE_REBOOT&gt;
    &lt;KDUMP_VERBOSE&gt;15&lt;/KDUMP_VERBOSE&gt;
    &lt;KEXEC_OPTIONS&gt;&lt;/KEXEC_OPTIONS&gt;
  &lt;/general&gt;
&lt;/kdump&gt;</pre></div></div></div><div class="sect2 " id="CreateProfile.kdump.reservation"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.kdump.reservation"><span class="number">4.33.1 </span><span class="name">Memory Reservation</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.kdump.reservation">#</a></h3></div></div></div><p>
     The first step is to reserve memory for Kdump at boot-up. Because the
     memory must be reserved very early during the boot process, the
     configuration is done via a kernel command line parameter called
     <code class="literal">crashkernel</code>. The reserved memory will be used to
     load a second kernel which will be executed without rebooting if the
     first kernel crashes. This second kernel has a special initrd, which
     contains all programs necessary to save the dump over the network or to
     disk, send a notification e-mail, and finally reboot.
    </p><p>
     To reserve memory for Kdump, specify the <code class="literal">amount</code>
     (such as <code class="literal">64M</code> to reserve 64 MB of memory from the
     RAM) and the <code class="literal">offset</code>. The syntax is
     <code class="literal">crashkernel=AMOUNT@OFFSET</code>. The kernel can
     auto-detect the right offset (except for the Xen hypervisor, where
     you need to specify <code class="literal">16M</code> as offset). The amount of
     memory that needs to be reserved depends on architecture and main
     memory. Refer to
     <span class="intraxref">Book “<em class="citetitle ">System Analysis and Tuning Guide</em>”, Chapter 17 “Kexec and Kdump”, Section 17.7.1 “Manual Kdump Configuration”</span> for recommendations on
     the amount of memory to reserve for Kdump.
    </p><p>
     You can also use the extended command line syntax to specify the amount
     of reserved memory depending on the System RAM. That is useful if you
     share one AutoYaST control file for multiple installations or if you
     often remove or install memory on one machine. The syntax is:
    </p><div class="verbatim-wrap"><pre class="screen">BEGIN_RANGE_1-END_RANGE_1:AMOUNT_1,BEGIN_RANGE_2-END_RANGE_2:AMOUNT_2@OFFSET</pre></div><p>
     <code class="literal">BEGIN_RANGE_1</code> is the start of the first memory range
     (for example: <code class="literal">0M</code>) and <code class="literal">END_RANGE_1</code>
     is the end of the first memory range (can be empty in case
     <code class="literal">infinity</code> should be assumed) and so on. For example,
     <code class="literal">256M-2G:64M,2G-:128M</code> reserves 64 MB of
     crashkernel memory if the system has between 256 MB and 2 GB RAM and
     reserves 128 MB of crashkernel memory if the system has more than 2 GB
     RAM.
    </p><p>
     On the other hand, it is possible to specify multiple values for
     crashkernel parameter. For example, when you need to reserve different
     segments of low and high memory, use values like
     <code class="literal">72M,low</code> and <code class="literal">256M,high</code>:
    </p><div class="example" id="idm139679529522768"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.55: </span><span class="name">Kdump memory reservation with multiple values </span><a title="Permalink" class="permalink" href="configuration.html#idm139679529522768">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;kdump&gt;
  &lt;!-- memory reservation (high and low) --&gt;
  &lt;add_crash_kernel config:type="boolean"&gt;true&lt;/add_crash_kernel&gt;
  &lt;crash_kernel config:type="list"&gt;
    &lt;listentry&gt;72M,low&lt;/listentry&gt;
    &lt;listentry&gt;256M,high&lt;/listentry&gt;
  &lt;/crash_kernel&gt;
&lt;/kdump&gt;</pre></div></div></div><p>
     The following table shows the settings necessary to reserve memory:
    </p><div class="table" id="idm139679529520640"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.6: </span><span class="name">Kdump Memory Reservation Settings:XML Representation </span><a title="Permalink" class="permalink" href="configuration.html#idm139679529520640">#</a></h6></div><div class="table-contents"><table summary="Kdump Memory Reservation Settings:XML Representation" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">add_crash_kernel</code>
         </p>
        </td><td>
         <p>
          Set to <code class="literal">true</code> if memory should be reserved and
          Kdump enabled.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;add_crash_kernel config:type="boolean"&gt;true&lt;/add_crash_kernel&gt;</pre></div>
        </td><td>
         <p>
          required
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">crash_kernel</code>
         </p>
        </td><td>
         <p>
          Use the syntax of the crashkernel command line as discussed above.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;crash_kernel&gt;256M:64M&lt;/crash_kernel&gt;</pre></div>
        <p>A list of values is also supported.</p>
<div class="verbatim-wrap"><pre class="screen">&lt;crash_kernel config:type="list"&gt;
  &lt;listentry&gt;72M,low&lt;/listentry&gt;
  &lt;listentry&gt;256M,high&lt;/listentry&gt;
&lt;/crash_kernel&gt;</pre></div>
        </td><td>
         <p>
          required
         </p>
        </td></tr></tbody></table></div></div></div><div class="sect2 " id="CreateProfile.kdump.saving"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.kdump.saving"><span class="number">4.33.2 </span><span class="name">Dump Saving</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.kdump.saving">#</a></h3></div></div></div><p>
     
    </p><div class="sect3 " id="CreateProfile.kdump.saving.target"><div class="titlepage"><div><div><h4 class="title" id="CreateProfile.kdump.saving.target"><span class="number">4.33.2.1 </span><span class="name">Target</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.kdump.saving.target">#</a></h4></div></div></div><p>
      The element <code class="literal">KDUMP_SAVEDIR</code> specifies the URL to
      where the dump is saved. The following methods are possible:
     </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        <code class="literal">file</code> to save to the local disk,
       </p></li><li class="listitem "><p>
        <code class="literal">ftp</code> to save to an FTP server (without
        encryption),
       </p></li><li class="listitem "><p>
        <code class="literal">sftp</code> to save to an SSH2 SFTP server,
       </p></li><li class="listitem "><p>
        <code class="literal">nfs</code> to save to an NFS location and
       </p></li><li class="listitem "><p>
        <code class="literal">cifs</code> to save the dump to a CIFS/SMP export from
        Samba or Microsoft Windows.
       </p></li></ul></div><p>
      For details see the kdump(5) manual page. Two examples are:
      <code class="literal">file:///var/crash</code> (which is the default location
      according to FHS) and
      <code class="literal">ftp://user:password@host:port/incoming/dumps</code>. A
      subdirectory, with the time stamp contained in the name, will be
      created and the dumps saved there.
     </p><p>
      When the dump is saved to the local disk,
      <code class="literal">KDUMP_KEEP_OLD_DUMPS</code> can be used to delete old
      dumps automatically. Set it to the number of old dumps that should be
      kept. If the target partition would end up with less free disk space
      than specified in <code class="literal">KDUMP_FREE_DISK_SIZE</code>, the dump is
      not saved.
     </p><p>
      To save the whole kernel and the debug information (if
      installed) to the same directory, set
      <code class="literal">KDUMP_COPY_KERNEL</code> to <code class="literal">true</code>. You
      will have everything you need to analyze the dump in one directory
      (except kernel modules and their debugging information).
     </p></div><div class="sect3 " id="CreateProfile.kdump.saving.compression"><div class="titlepage"><div><div><h4 class="title" id="CreateProfile.kdump.saving.compression"><span class="number">4.33.2.2 </span><span class="name">Filtering and Compression</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.kdump.saving.compression">#</a></h4></div></div></div><p>
      The kernel dump is uncompressed and unfiltered. It can get as large as
      your system RAM. To get smaller files, compress the dump file
      afterward. The dump needs to be decompressed before opening.
     </p><p>
      To use page compression, which compresses every page and allows
      dynamic decompression with the crash(8) debugging tool, set
      <code class="literal">KDUMP_DUMPFORMAT</code> to <code class="literal">compressed</code>
      (default).
     </p><p>
      You may not want to save all memory pages, for example those filled
      with zeroes. To filter the dump, set the
      <code class="literal">KDUMP_DUMPLEVEL</code>. 0 produces a full dump and 31 is
      the smallest dump. The manual pages kdump(5) and makedumpfile(8) list
      for each value which pages will be saved.
     </p></div><div class="sect3 " id="CreateProfile.kdump.saving.summary"><div class="titlepage"><div><div><h4 class="title" id="CreateProfile.kdump.saving.summary"><span class="number">4.33.2.3 </span><span class="name">Summary</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.kdump.saving.summary">#</a></h4></div></div></div><div class="table" id="idm139679522233472"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.7: </span><span class="name">Dump Target Settings: XML Representation </span><a title="Permalink" class="permalink" href="configuration.html#idm139679522233472">#</a></h6></div><div class="table-contents"><table summary="Dump Target Settings: XML Representation" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
          <p>
           Element
          </p>
         </th><th>
          <p>
           Description
          </p>
         </th><th>
          <p>
           Comment
          </p>
         </th></tr></thead><tbody><tr><td>
          <p>
           <code class="literal">KDUMP_SAVEDIR</code>
          </p>
         </td><td>
          <p>
           A URL that specifies the target to which the dump and related
           files will be saved.
          </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_SAVEDIR&gt;file:///var/crash/&lt;/KDUMP_SAVEDIR&gt;</pre></div>
         </td><td>
          <p>
           required
          </p>
         </td></tr><tr><td>
          <p>
           <code class="literal">KDUMP_COPY_KERNEL</code>
          </p>
         </td><td>
          <p>
           Set to <code class="literal">true</code>, if not only the dump should be
           saved to <code class="literal">KDUMP_SAVEDIR</code> but also the kernel and
           its debugging information (if installed).
          </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_COPY_KERNEL&gt;false&lt;/KDUMP_COPY_KERNEL&gt;</pre></div>
         </td><td>
          <p>
           optional
          </p>
         </td></tr><tr><td>
          <p>
           <code class="literal">KDUMP_FREE_DISK_SIZE</code>
          </p>
         </td><td>
          <p>
           Disk space in megabytes that must remain free after saving the
           dump. If not enough space is available, the dump will not be
           saved.
          </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_FREE_DISK_SIZE&gt;64&lt;/KDUMP_FREE_DISK_SIZE&gt;</pre></div>
         </td><td>
          <p>
           optional
          </p>
         </td></tr><tr><td>
          <p>
           <code class="literal">KDUMP_KEEP_OLD_DUMPS</code>
          </p>
         </td><td>
          <p>
           The number of dumps that are kept (not deleted) if
           <code class="literal">KDUMP_SAVEDIR</code> points to a local directory.
           Specify 0 if you do not want any dumps to be automatically
           deleted, specify -1 if all dumps except the current one should be
           deleted.
          </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_KEEP_OLD_DUMPS&gt;4&lt;/KDUMP_KEEP_OLD_DUMPS&gt;</pre></div>
         </td><td>
          <p>
           optional
          </p>
         </td></tr></tbody></table></div></div></div></div><div class="sect2 " id="CreateProfile.kdump.notification"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.kdump.notification"><span class="number">4.33.3 </span><span class="name">E-Mail Notification</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.kdump.notification">#</a></h3></div></div></div><p>
     Configure e-mail notification if you want to be informed when a machine
     crashes and a dump is saved.
    </p><p>
     Because Kdump runs in the initrd, a local mail server cannot send the
     notification e-mail. An SMTP server needs to be specified (see below).
    </p><p>
     You need to provide exactly one address in
     <code class="literal">KDUMP_NOTIFICATION_TO</code>. More addresses can be
     specified in <code class="literal">KDUMP_NOTIFICATION_CC</code>. Only use e-mail
     addresses in both cases, not a real name.
    </p><p>
     Specify <code class="literal">KDUMP_SMTP_SERVER</code> and (if the server needs
     authentication) <code class="literal">KDUMP_SMTP_USER</code> and
     <code class="literal">KDUMP_SMTP_PASSWORD</code>. Support for TLS/SSL is not
     available but may be added in the future.
    </p><div class="table" id="idm139679522203456"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.8: </span><span class="name">E-Mail Notification Settings: XML Representation </span><a title="Permalink" class="permalink" href="configuration.html#idm139679522203456">#</a></h6></div><div class="table-contents"><table summary="E-Mail Notification Settings: XML Representation" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">KDUMP_NOTIFICATION_TO</code>
         </p>
        </td><td>
         <p>
          Exactly one e-mail address to which the e-mail should be sent.
          Additional recipients can be specified in
          <code class="literal">KDUMP_NOTIFICATION_CC</code>.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_NOTIFICATION_TO
&gt;tux@example.com&lt;/KDUMP_NOTIFICATION_TO&gt;</pre></div>
        </td><td>
         <p>
          optional (notification disabled if empty)
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">KDUMP_NOTIFICATION_CC</code>
         </p>
        </td><td>
         <p>
          Zero, one or more recipients that are in the cc line of the
          notification e-mail.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_NOTIFICATION_CC
&gt;wilber@example.com geeko@example.com&lt;/KDUMP_NOTIFICATION_CC&gt;</pre></div>
        </td><td>
         <p>
          optional
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">KDUMP_SMTP_SERVER</code>
         </p>
        </td><td>
         <p>
          Host name of the SMTP server used for mail delivery. SMTP
          authentication is supported (see
          <code class="literal">KDUMP_SMTP_USER</code> and
          <code class="literal">KDUMP_SMTP_PASSWORD</code>) but TLS/SSL are
          not.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_SMTP_SERVER&gt;email.suse.de&lt;/KDUMP_SMTP_SERVER&gt;</pre></div>
        </td><td>
         <p>
          optional (notification disabled if empty)
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">KDUMP_SMTP_USER</code>
         </p>
        </td><td>
         <p>
          User name used together with
          <code class="literal">KDUMP_SMTP_PASSWORD</code> for SMTP authentication.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_SMTP_USER&gt;bwalle&lt;/KDUMP_SMTP_USER&gt;</pre></div>
        </td><td>
         <p>
          optional
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">KDUMP_SMTP_PASSWORD</code>
         </p>
        </td><td>
         <p>
          Password used together with <code class="literal">KDUMP_SMTP_USER</code> for
          SMTP authentication.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_SMTP_PASSWORD&gt;geheim&lt;/KDUMP_SMTP_PASSWORD&gt;</pre></div>
        </td><td>
         <p>
          optional
         </p>
        </td></tr></tbody></table></div></div></div><div class="sect2 " id="CreateProfile.kdump.kernel"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.kdump.kernel"><span class="number">4.33.4 </span><span class="name">Kdump Kernel Settings</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.kdump.kernel">#</a></h3></div></div></div><p>
     As already mentioned, a special kernel is booted to save the dump. If
     you do not want to use the auto-detection mechanism to find out which
     kernel is used (see the kdump(5) manual page that describes the
     algorithm which is used to find the kernel), you can specify the
     version of a custom kernel in <code class="literal">KDUMP_KERNELVER</code>. If
     you set it to <code class="literal">foo</code>, then the kernel located in
     <code class="filename">/boot/vmlinuz-foo</code> or
     <code class="filename">/boot/vmlinux-foo</code> (in that order on platforms that
     have a <code class="filename">vmlinuz</code> file) will be used.
    </p><p>
     You can specify the command line used to boot the Kdump kernel.
     Normally the boot command line is used, minus settings that are not
     relevant for Kdump (like the <code class="literal">crashkernel</code> parameter)
     plus some settings needed by Kdump (see the manual page kdump(5)). To
     specify additional parameters, use <code class="literal">KDUMP_COMMANDLINE_APPEND</code>. If you
     know what you are doing and you want to specify the entire command line,
     set <code class="literal">KDUMP_COMMANDLINE</code>.
    </p><div class="table" id="idm139679522167968"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.9: </span><span class="name">Kernel Settings: XML Representation </span><a title="Permalink" class="permalink" href="configuration.html#idm139679522167968">#</a></h6></div><div class="table-contents"><table summary="Kernel Settings: XML Representation" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">KDUMP_KERNELVER</code>
         </p>
        </td><td>
         <p>
          Version string for the kernel used for Kdump. Leave it empty to
          use the auto-detection mechanism (strongly recommended).
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_KERNELVER
&gt;2.6.27-default&lt;/KDUMP_KERNELVER&gt;</pre></div>
        </td><td>
         <p>
          optional (auto-detection if empty)
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">KDUMP_COMMANDLINE_APPEND</code>
         </p>
        </td><td>
         <p>
          Additional command line parameters for the Kdump kernel.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_COMMANDLINE_APPEND
&gt;console=ttyS0,57600&lt;/KDUMP_COMMANDLINE_APPEND&gt;</pre></div>
        </td><td>
         <p>
          optional
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">KDUMP_Command Line</code>
         </p>
        </td><td>
         <p>
          Overwrite the automatically generated Kdump command line. Use with
          care. Usually, <code class="literal">KDUMP_COMMANDLINE_APPEND</code> should
          suffice.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_COMMANDLINE_APPEND
&gt;root=/dev/sda5 maxcpus=1 irqpoll&lt;/KDUMP_COMMANDLINE&gt;</pre></div>
        </td><td>
         <p>
          optional
         </p>
        </td></tr></tbody></table></div></div></div><div class="sect2 " id="CreateProfile.kdump.expert"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.kdump.expert"><span class="number">4.33.5 </span><span class="name">Expert Settings</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.kdump.expert">#</a></h3></div></div></div><div class="table" id="idm139679522147760"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 4.10: </span><span class="name">Expert Settings: XML Representations </span><a title="Permalink" class="permalink" href="configuration.html#idm139679522147760">#</a></h6></div><div class="table-contents"><table summary="Expert Settings: XML Representations" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Element
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th><th>
         <p>
          Comment
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">KDUMP_IMMEDIATE_REBOOT</code>
         </p>
        </td><td>
         <p>
          <code class="literal">true</code> if the system should be rebooted
          automatically after the dump has been saved,
          <code class="literal">false</code> otherwise. The default is to reboot the
          system automatically.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_IMMEDIATE_REBOOT
&gt;true&lt;/KDUMP_IMMEDIATE_REBOOT&gt;</pre></div>
        </td><td>
         <p>
          optional
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">KDUMP_VERBOSE</code>
         </p>
        </td><td>
         <p>
          Bitmask that specifies how verbose the Kdump process should be.
          Read kdump(5) for details.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KDUMP_VERBOSE&gt;3&lt;/KDUMP_VERBOSE&gt;</pre></div>
        </td><td>
         <p>
          optional
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">KEXEC_OPTIONS</code>
         </p>
        </td><td>
         <p>
          Additional options that are passed to kexec when loading the Kdump
          kernel. Normally empty.
         </p>
<div class="verbatim-wrap"><pre class="screen">&lt;KEXEC_OPTIONS&gt;--noio&lt;/KEXEC_OPTIONS&gt;</pre></div>
        </td><td>
         <p>
          optional
         </p>
        </td></tr></tbody></table></div></div></div></div><div class="sect1 " id="CreateProfile.dns-server"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.dns-server"><span class="number">4.34 </span><span class="name">DNS Server</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.dns-server">#</a></h2></div></div></div><p>
    The Bind DNS server can be configured by adding a <code class="literal">dns-server</code>
    resource. The three more straightforward properties of that resource can
    have a value of 1 to enable them or 0 to disable.
   </p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
          <p>
           Attribute
          </p>
         </th><th>
          <p>
           Value
          </p>
         </th><th>
          <p>
           Description
          </p>
         </th></tr></thead><tbody><tr><td>
          <p>
           <code class="literal">chroot</code>
          </p>
         </td><td>
          <p>
           0 / 1
          </p>
         </td><td>
          <p>
           The DNS server must be jailed in a chroot.
          </p>
         </td></tr><tr><td>
          <p>
           <code class="literal">start_service</code>
          </p>
         </td><td>
          <p>
           0 / 1
          </p>
         </td><td>
          <p>
           Bind is enabled (executed on system start).
          </p>
         </td></tr><tr><td>
          <p>
           <code class="literal">use_ldap</code>
          </p>
         </td><td>
          <p>
           0 / 1
          </p>
         </td><td>
          <p>
           Store the settings in LDAP instead of native configuration files.
          </p>
         </td></tr></tbody></table></div><div class="example" id="idm139679520369264"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.56: </span><span class="name">Basic DNS server settings </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520369264">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;dns-server&gt;
  &lt;chroot&gt;0&lt;/chroot&gt;
  &lt;start_service&gt;1&lt;/start_service&gt;
  &lt;use_ldap&gt;0&lt;/use_ldap&gt;
&lt;/dns-server&gt;</pre></div></div></div><p>
    In addition to those basic settings, there are three properties of type
    list that can be used to fine-tune the service configuration.
   </p><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>
        <p>
         List
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         <code class="literal">logging</code>
        </p>
       </td><td>
        <p>
         Options of the DNS server logging.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">options</code>
        </p>
       </td><td>
        <p>
         Bind options like the files and directories to use, the list of
         forwarders and other configuration settings.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">zones</code>
        </p>
       </td><td>
        <p>
         List of DNS zones known by the server, including all the settings,
         records and SOA records.
        </p>
       </td></tr></tbody></table></div><div class="example" id="idm139679520354592"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.57: </span><span class="name">Configuring DNS server zones and advanced settings </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520354592">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;dns-server&gt;
  &lt;logging config:type="list"&gt;
    &lt;listentry&gt;
      &lt;key&gt;channel&lt;/key&gt;
      &lt;value&gt;log_syslog { syslog; }&lt;/value&gt;
    &lt;/listentry&gt;
  &lt;/logging&gt;
  &lt;options config:type="list"&gt;
    &lt;option&gt;
      &lt;key&gt;forwarders&lt;/key&gt;
      &lt;value&gt;{ 10.10.0.1; }&lt;/value&gt;
    &lt;/option&gt;
  &lt;/options&gt;
  &lt;zones config:type="list"&gt;
    &lt;listentry&gt;
      &lt;is_new&gt;1&lt;/is_new&gt;
      &lt;modified&gt;1&lt;/modified&gt;
      &lt;options config:type="list"/&gt;
      &lt;records config:type="list"&gt;
        &lt;listentry&gt;
          &lt;key&gt;mydom.uwe.&lt;/key&gt;
          &lt;type&gt;MX&lt;/type&gt;
          &lt;value&gt;0 mail.mydom.uwe.&lt;/value&gt;
        &lt;/listentry&gt;
        &lt;listentry&gt;
          &lt;key&gt;mydom.uwe.&lt;/key&gt;
          &lt;type&gt;NS&lt;/type&gt;
          &lt;value&gt;ns.mydom.uwe.&lt;/value&gt;
        &lt;/listentry&gt;
      &lt;/records&gt;
      &lt;soa&gt;
        &lt;expiry&gt;1w&lt;/expiry&gt;
        &lt;mail&gt;root.aaa.aaa.cc.&lt;/mail&gt;
        &lt;minimum&gt;1d&lt;/minimum&gt;
        &lt;refresh&gt;3h&lt;/refresh&gt;
        &lt;retry&gt;1h&lt;/retry&gt;
        &lt;serial&gt;2005082300&lt;/serial&gt;
        &lt;server&gt;aaa.aaa.cc.&lt;/server&gt;
        &lt;zone&gt;@&lt;/zone&gt;
      &lt;/soa&gt;
      &lt;soa_modified&gt;1&lt;/soa_modified&gt;
      &lt;ttl&gt;2d&lt;/ttl&gt;
      &lt;type&gt;master&lt;/type&gt;
      &lt;update_actions config:type="list"&gt;
        &lt;listentry&gt;
          &lt;key&gt;mydom.uwe.&lt;/key&gt;
          &lt;operation&gt;add&lt;/operation&gt;
          &lt;type&gt;NS&lt;/type&gt;
          &lt;value&gt;ns.mydom.uwe.&lt;/value&gt;
        &lt;/listentry&gt;
      &lt;/update_actions&gt;
      &lt;zone&gt;mydom.uwe&lt;/zone&gt;
    &lt;/listentry&gt;
  &lt;/zones&gt;
&lt;/dns-server&gt;</pre></div></div></div></div><div class="sect1 " id="CreateProfile.dhcp-server"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.dhcp-server"><span class="number">4.35 </span><span class="name">DHCP Server</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.dhcp-server">#</a></h2></div></div></div><p>
    The <code class="literal">dhcp-server</code> resource makes it possible to configure
    all the settings of a DHCP server by means of the six following properties.
   </p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
        <p>
         Element
        </p>
       </th><th>
        <p>
         Value
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         <code class="literal">chroot</code>
        </p>
       </td><td>
        <p>
         0 / 1
        </p>
       </td><td>
        <p>
         A value of 1 means that the DHCP server must be jailed in a chroot.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">start_service</code>
        </p>
       </td><td>
        <p>
         0 / 1
        </p>
       </td><td>
        <p>
         Set this to 1 to enable the DHCP server (that is, run it on system startup).
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">use_ldap</code>
        </p>
       </td><td>
        <p>
         0 / 1
        </p>
       </td><td>
        <p>
         If set to 1, the settings will be stored in LDAP instead of native configuration files.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">other_options</code>
        </p>
       </td><td>
        <p>
         Text
        </p>
       </td><td>
        <p>
         String with parameters that will be passed to the DHCP server executable
         when started. For example, use "-p 1234" to listen on a non-standard
         1234 port. For all possible options, consult the dhcpd manual page. If
         left blank, default values will be used.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">allowed_interfaces</code>
        </p>
       </td><td>
        <p>
         List
        </p>
       </td><td>
        <p>
         List of network cards in which the DHCP server will be operating.
         See the example below for the exact format.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">settings</code>
        </p>
       </td><td>
        <p>
         List
        </p>
       </td><td>
        <p>
         List of settings to configure the behavior of the DHCP server. The
         configuration is defined in a tree-like structure where the root
         represents the global options, with subnets and host nested from there.
         The <code class="literal">children</code>, <code class="literal">parent_id</code> and
         <code class="literal">parent_type</code> properties are used to represent that
         nesting. See the example below for the exact format.
        </p>
       </td></tr></tbody></table></div><div class="example" id="idm139679520320384"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.58: </span><span class="name">Example dhcp-server section </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520320384">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;dhcp-server&gt;
  &lt;allowed_interfaces config:type="list"&gt;
    &lt;allowed_interface&gt;eth0&lt;/allowed_interface&gt;
  &lt;/allowed_interfaces&gt;
  &lt;chroot&gt;0&lt;/chroot&gt;
  &lt;other_options&gt;-p 9000&lt;/other_options&gt;
  &lt;start_service&gt;1&lt;/start_service&gt;
  &lt;use_ldap&gt;0&lt;/use_ldap&gt;

  &lt;settings config:type="list"&gt;
    &lt;settings_entry&gt;
      &lt;children config:type="list"/&gt;
      &lt;directives config:type="list"&gt;
        &lt;listentry&gt;
          &lt;key&gt;fixed-address&lt;/key&gt;
          &lt;type&gt;directive&lt;/type&gt;
          &lt;value&gt;192.168.0.10&lt;/value&gt;
        &lt;/listentry&gt;
        &lt;listentry&gt;
          &lt;key&gt;hardware&lt;/key&gt;
          &lt;type&gt;directive&lt;/type&gt;
          &lt;value&gt;ethernet d4:00:00:bf:00:00&lt;/value&gt;
        &lt;/listentry&gt;
      &lt;/directives&gt;
      &lt;id&gt;static10&lt;/id&gt;
      &lt;options config:type="list"/&gt;
      &lt;parent_id&gt;192.168.0.0 netmask 255.255.255.0&lt;/parent_id&gt;
      &lt;parent_type&gt;subnet&lt;/parent_type&gt;
      &lt;type&gt;host&lt;/type&gt;
    &lt;/settings_entry&gt;
    &lt;settings_entry&gt;
      &lt;children config:type="list"&gt;
        &lt;child&gt;
          &lt;id&gt;static10&lt;/id&gt;
          &lt;type&gt;host&lt;/type&gt;
        &lt;/child&gt;
      &lt;/children&gt;
      &lt;directives config:type="list"&gt;
        &lt;listentry&gt;
          &lt;key&gt;range&lt;/key&gt;
          &lt;type&gt;directive&lt;/type&gt;
          &lt;value&gt;dynamic-bootp 192.168.0.100 192.168.0.150&lt;/value&gt;
        &lt;/listentry&gt;
        &lt;listentry&gt;
          &lt;key&gt;default-lease-time&lt;/key&gt;
          &lt;type&gt;directive&lt;/type&gt;
          &lt;value&gt;14400&lt;/value&gt;
        &lt;/listentry&gt;
        &lt;listentry&gt;
          &lt;key&gt;max-lease-time&lt;/key&gt;
          &lt;type&gt;directive&lt;/type&gt;
          &lt;value&gt;86400&lt;/value&gt;
        &lt;/listentry&gt;
      &lt;/directives&gt;
      &lt;id&gt;192.168.0.0 netmask 255.255.255.0&lt;/id&gt;
      &lt;options config:type="list"/&gt;
      &lt;parent_id/&gt;
      &lt;parent_type/&gt;
      &lt;type&gt;subnet&lt;/type&gt;
    &lt;/settings_entry&gt;
    &lt;settings_entry&gt;
      &lt;children config:type="list"&gt;
        &lt;child&gt;
          &lt;id&gt;192.168.0.0 netmask 255.255.255.0&lt;/id&gt;
          &lt;type&gt;subnet&lt;/type&gt;
        &lt;/child&gt;
      &lt;/children&gt;
      &lt;directives config:type="list"&gt;
        &lt;listentry&gt;
          &lt;key&gt;ddns-update-style&lt;/key&gt;
          &lt;type&gt;directive&lt;/type&gt;
          &lt;value&gt;none&lt;/value&gt;
        &lt;/listentry&gt;
        &lt;listentry&gt;
          &lt;key&gt;default-lease-time&lt;/key&gt;
          &lt;type&gt;directive&lt;/type&gt;
          &lt;value&gt;14400&lt;/value&gt;
        &lt;/listentry&gt;
      &lt;/directives&gt;
      &lt;id/&gt;
      &lt;options config:type="list"/&gt;
      &lt;parent_id/&gt;
      &lt;parent_type/&gt;
      &lt;type/&gt;
    &lt;/settings_entry&gt;
  &lt;/settings&gt;
&lt;/dhcp-server&gt;</pre></div></div></div></div><div class="sect1 " id="CreateProfile.firewall"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.firewall"><span class="number">4.36 </span><span class="name">Firewall Configuration</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.firewall">#</a></h2></div></div></div><p>
    SuSEfirewall2 has been replaced by <code class="systemitem">firewalld</code> since
    SLES 15. Profiles using SuSEfirewall2 properties will be translated
    to <code class="systemitem">firewalld</code> profiles. However, not all profile
    properties can be converted. For details about <code class="systemitem">firewalld</code> refer to
    <span class="intraxref">Book “<em class="citetitle ">Security Guide</em>”, Chapter 15 “Masquerading and Firewalls”, Section 15.4 “<code class="systemitem">firewalld</code>”</span>.
   </p><div id="idm139679520311920" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Limited backward compatibility with SuSEFirewall2 based profiles</h6><p>
      The use of SuSEFirewall2 based profiles will be only
      partially supported as many options are not valid in <code class="systemitem">firewalld</code> and
      some missing configuration could affect your network security.
     </p></div><div class="sect2 " id="CreateProfile.firewall.general"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.firewall.general"><span class="number">4.36.1 </span><span class="name">General Firewall Configuration</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.firewall.general">#</a></h3></div></div></div><p>
     In <code class="systemitem">firewalld</code> the general configuration only exposes few
     properties and most of the configuration is done by zones.
    </p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Attribute
         </p>
        </th><th>
         <p>
          Value
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">start_firewall</code>
         </p>
        </td><td>
         <p>
          Boolean
         </p>
        </td><td>
         <p>
          Whether <code class="systemitem">firewalld</code> should be started right after applying the configuration.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">enable_firewall</code>
         </p>
        </td><td>
         <p>
          Boolean
         </p>
        </td><td>
         <p>
          Whether <code class="systemitem">firewalld</code> should be started on every system startup.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">default_zone</code>
         </p>
        </td><td>
         <p>
          Zone name
         </p>
        </td><td>
         <p>
          The default zone is used for everything that is not explicitely assigned.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">log_denied_packets</code>
         </p>
        </td><td>
         <p>
          Type of dropped packages to be logged
         </p>
        </td><td>
         <p>
          Enable logging of dropped packages for the type selected.
          Values: off, unicast, multicast, broadcast, all
         </p>
        </td></tr></tbody></table></div></div><div class="sect2 " id="CreateProfile.firewall.zones"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.firewall.zones"><span class="number">4.36.2 </span><span class="name">Firewall Zones Configuration</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.firewall.zones">#</a></h3></div></div></div><p>
     The configuration of <code class="systemitem">firewalld</code> is based on the existence of several zones
     which define the trust level for a connection, interface or source address.
     The behavior of each zone can be tweaked in several ways although not all
     the properties are exposed yet.
    </p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Attributes
         </p>
        </th><th>
         <p>
          Value
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">interfaces</code>
         </p>
        </td><td>
         <p>
          List of interfaces names.
         </p>
        </td><td>
         <p>
          List of interface names assigned to this zone. Interfaces or
          sources can only be part of one zone.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">services</code>
         </p>
        </td><td>
         <p>
          List of services
         </p>
        </td><td>
         <p>
          List of services accesibles in this zone.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">ports</code>
         </p>
        </td><td>
         <p>
          List of ports
         </p>
        </td><td>
          <p>
            List of single ports or ranges to be opened in the assigned zone.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">protocols</code>
         </p>
        </td><td>
         <p>
          List of protocols
         </p>
        </td><td>
         <p>
          List of protocols to be opened or be accessible in the assigned zone.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">masquerade</code>
         </p>
        </td><td>
         <p>
          Enable masquerade
         </p>
        </td><td>
         <p>
          It will enable or disable network address translation <span class="emphasis"><em>(NAT)</em></span> in the assigned zone
         </p>
        </td></tr></tbody></table></div></div><div class="sect2 " id="CreateProfile.firewall.example"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.firewall.example"><span class="number">4.36.3 </span><span class="name">A Full Example</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.firewall.example">#</a></h3></div></div></div><p>
     A full example of the firewall section, including general and zone specific
     properties could look like this.
    </p><div class="example" id="idm139679520256976"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.59: </span><span class="name">Example firewall section </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520256976">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;firewall&gt;
  &lt;enable_firewall&gt;true&lt;/enable_firewall&gt;
  &lt;log_denied_packets&gt;all&lt;/log_denied_packets&gt;
  &lt;default_zone&gt;external&lt;/default_zone&gt;
  &lt;zones&gt;
    &lt;zone&gt;
      &lt;name&gt;public&lt;/name&gt;
      &lt;interfaces&gt;
        &lt;interface&gt;eth0&lt;/interface&gt;
      &lt;/interfaces&gt;
      &lt;services config:type="list"&gt;
        &lt;service&gt;ssh&lt;/service&gt;
        &lt;service&gt;dhcp&lt;/service&gt;
        &lt;service&gt;dhcpv6&lt;/service&gt;
        &lt;service&gt;samba&lt;/service&gt;
        &lt;service&gt;vnc-server&lt;/service&gt;
      &lt;/services&gt;
      &lt;ports config:type="list"&gt;
        &lt;port&gt;21/udp&lt;/port&gt;
        &lt;port&gt;22/udp&lt;/port&gt;
        &lt;port&gt;80/tcp&lt;/port&gt;
        &lt;port&gt;443/tcp&lt;/port&gt;
        &lt;port&gt;8080/tcp&lt;/port&gt;
      &lt;/ports&gt;
    &lt;/zone&gt;
    &lt;zone&gt;
      &lt;name&gt;dmz&lt;/name&gt;
      &lt;interfaces&gt;
        &lt;interface&gt;eth1&lt;/interface&gt;
      &lt;/interfaces&gt;
    &lt;/zone&gt;
  &lt;/zones&gt;
&lt;/firewall&gt;</pre></div></div></div></div></div><div class="sect1 " id="CreateProfile.Hardware"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.Hardware"><span class="number">4.37 </span><span class="name">Miscellaneous Hardware and System Components</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Hardware">#</a></h2></div></div></div><p>
    In addition to the core component configuration, like network
    authentication and security, AutoYaST offers a wide range of hardware and
    system configuration options, the same as available by default on any
    system installed manually and in an interactive way. For example, it is
    possible to configure printers, sound devices, TV cards and any other
    hardware components which have a module within YaST.
   </p><p>
    Any new configuration options added to YaST will be automatically
    available in AutoYaST.
   </p><div class="sect2 " id="CreateProfile.Hardware.Printer"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Hardware.Printer"><span class="number">4.37.1 </span><span class="name">Printer</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Hardware.Printer">#</a></h3></div></div></div><p>
     AutoYaST support for printing is limited to basic settings defining how
     CUPS is used on a client for printing via the network.
    </p><p>
     There is no AutoYaST support for setting up local print queues. Modern
     printers are usually connected via USB. CUPS accesses USB printers by a
     model-specific device URI like
     <code class="literal">usb://ACME/FunPrinter?serial=1a2b3c</code>. Usually it is
     not possible to predict the correct USB device URI in advance, because
     it is determined by the CUPS back-end <code class="literal">usb</code> during
     runtime. Therefore it is not possible to set up local print queues with
     AutoYaST.
    </p><p>
     Basics on how CUPS is used on a client workstation to print via
     network:
    </p><p>
     On client workstations application programs submit print jobs to the
     CUPS daemon process (<code class="systemitem">cupsd</code>).
     <code class="systemitem">cupsd</code> forwards the print jobs to a CUPS print
     server in the network where the print jobs are processed. The server
     sends the printer specific data to the printer device.
    </p><p>
     If there is only a single CUPS print server in the network, there is no
     need to have a CUPS daemon running on each client workstation. Instead
     it is simpler to specify the CUPS server in
     <code class="filename">/etc/cups/client.conf</code> and access it directly (only
     one CUPS server entry can be set). In this case application programs
     that run on client workstations submit print jobs directly to the
     specified CUPS print server.
    </p><p>
     <a class="xref" href="configuration.html#printer.conf" title="Printer configuration">Example 4.60, “Printer configuration”</a> shows a <code class="literal">printer</code>
     configuration section. The <code class="literal">cupsd_conf_content</code> entry
     contains the whole verbatim content of the
     <code class="systemitem">cupsd</code> configuration file
     <code class="filename">/etc/cups/cupsd.conf</code>. The
     <code class="literal">client_conf_content</code> entry contains the whole
     verbatim content of <code class="filename">/etc/cups/client.conf</code>. The
     <code class="literal">printer</code> section contains the
     <code class="systemitem">cupsd</code> configuration but it does
     not specify whether the cupsd should run.
    </p><div class="example" id="printer.conf"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.60: </span><span class="name">Printer configuration </span><a title="Permalink" class="permalink" href="configuration.html#printer.conf">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">  &lt;printer&gt;
    &lt;client_conf_content&gt;
      &lt;file_contents&gt;&lt;![CDATA[
... verbatim content of /etc/cups/client.conf ...
]]&gt;&lt;/file_contents&gt;
    &lt;/client_conf_content&gt;
    &lt;cupsd_conf_content&gt;
      &lt;file_contents&gt;&lt;![CDATA[
... verbatim content of /etc/cups/cupsd.conf ...
]]&gt;&lt;/file_contents&gt;
    &lt;/cupsd_conf_content&gt;
  &lt;/printer&gt;</pre></div></div></div><div id="idm139679520027120" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: <code class="filename">/etc/cups/cups-files.conf</code></h6><p>
      With release 1.6 the CUPS configuration file has been split into two
      files: <code class="filename">cupsd.conf</code> and
      <code class="filename">cups-files.conf</code>. As of <span class="productname"><span class="phrase">openSUSE Leap</span></span> <span class="productnumber"><span class="phrase">42.3</span></span>,
      AutoYaST only supports modifying <code class="filename">cupsd.conf</code> since
      the default settings in <code class="filename">cups-files.conf</code> are
      sufficient for usual printing setups.
     </p></div></div><div class="sect2 " id="CreateProfile.Hardware.Sound"><div class="titlepage"><div><div><h3 class="title" id="CreateProfile.Hardware.Sound"><span class="number">4.37.2 </span><span class="name">Sound devices</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.Hardware.Sound">#</a></h3></div></div></div><p>
     An example of the sound configuration created using the configuration
     system is shown below.
    </p><div class="example" id="idm139679520019488"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.61: </span><span class="name">Sound configuration </span><a title="Permalink" class="permalink" href="configuration.html#idm139679520019488">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;sound&gt;
  &lt;autoinstall config:type="boolean"&gt;true&lt;/autoinstall&gt;
  &lt;modules_conf config:type="list"&gt;
    &lt;module_conf&gt;
      &lt;alias&gt;snd-card-0&lt;/alias&gt;
      &lt;model&gt;M5451, ALI&lt;/model&gt;
      &lt;module&gt;snd-ali5451&lt;/module&gt;
      &lt;options&gt;
        &lt;snd_enable&gt;1&lt;/snd_enable&gt;
        &lt;snd_index&gt;0&lt;/snd_index&gt;
        &lt;snd_pcm_channels&gt;32&lt;/snd_pcm_channels&gt;
      &lt;/options&gt;
    &lt;/module_conf&gt;
  &lt;/modules_conf&gt;
  &lt;volume_settings config:type="list"&gt;
    &lt;listentry&gt;
      &lt;Master config:type="integer"&gt;75&lt;/Master&gt;
    &lt;/listentry&gt;
  &lt;/volume_settings&gt;
&lt;/sound&gt;</pre></div></div></div></div></div><div class="sect1 " id="CreateProfile.SSHKeysAndConfig"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.SSHKeysAndConfig"><span class="number">4.38 </span><span class="name">Importing SSH Keys and Configuration</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.SSHKeysAndConfig">#</a></h2></div></div></div><p>
     YaST allows to import SSH keys and server configuration from
     previous installations. The behavior of this feature can also be
     controlled through an AutoYaST profile.
    </p><div class="example" id="import_ssh"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.62: </span><span class="name">Importing SSH Keys and Configuration from /dev/sda2 </span><a title="Permalink" class="permalink" href="configuration.html#import_ssh">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;ssh_import&gt;
  &lt;import config:type="boolean"&gt;true&lt;/import&gt;
  &lt;copy_config config:type="boolean"&gt;true&lt;/copy_config&gt;
  &lt;device&gt;/dev/sda2&lt;/device&gt;
&lt;/ssh_import&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Attributes
         </p>
        </th><th>
         <p>
          Value
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">import</code>
         </p>
        </td><td>
         <p>
          true / false
         </p>
        </td><td>
         <p>
          SSH keys will be imported. If set to
          <code class="literal">false</code>, nothing will be imported.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">copy_config</code>
         </p>
        </td><td>
         <p>
          true / false
         </p>
        </td><td>
         <p>
          Additionally, SSH server configuration will be imported.
          This setting will not have effect if
          <code class="literal">import</code> is set to <code class="literal">false</code>.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">device</code>
         </p>
        </td><td>
         <p>
          Partition
         </p>
        </td><td>
         <p>
          Partition to import keys and configuration from. If it is not set,
          the partition which contains the most recently accessed key is used.
         </p>
        </td></tr></tbody></table></div></div><div class="sect1 " id="CreateProfile.ConfigurationManagement"><div class="titlepage"><div><div><h2 class="title" id="CreateProfile.ConfigurationManagement"><span class="number">4.39 </span><span class="name">Configuration Management</span> <a title="Permalink" class="permalink" href="configuration.html#CreateProfile.ConfigurationManagement">#</a></h2></div></div></div><p>
     AutoYaST allows delegating part of the configuration to a configuration
     management tool like Salt:
    </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       AutoYaST takes care of system installation (partitioning, network setup,
       etc.)
      </p></li><li class="listitem "><p>
       System configuration can be delegated to a configuration management
       tool
      </p></li></ul></div><p>
     This module configures the connection to a configuration management tool
     and uploads SSH keys which are needed for establishing connections. At the
     end of the installation, the configuration management Master will be
     contacted to retrieve state files and other resources.
    </p><div class="example" id="configuration_management"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 4.63: </span><span class="name">Configuring Salt Manager </span><a title="Permalink" class="permalink" href="configuration.html#configuration_management">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">&lt;configuration_management&gt;
    &lt;type&gt;salt&lt;/type&gt;
    &lt;master&gt;linux-addc&lt;/master&gt;
    &lt;auth_attempts config:type="integer"&gt;5&lt;/auth_attempts&gt;
    &lt;auth_time_out config:type="integer"&gt;10&lt;/auth_time_out&gt;
    &lt;keys_url&gt;http://keys.example.de/keys&lt;/keys_url&gt;
&lt;/configuration_management&gt;</pre></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>
         <p>
          Attributes
         </p>
        </th><th>
         <p>
          Value
         </p>
        </th><th>
         <p>
          Description
         </p>
        </th></tr></thead><tbody><tr><td>
         <p>
          <code class="literal">type</code>
         </p>
        </td><td>
         <p>
          Configuration management type
         </p>
        </td><td>
         <p>
          Configuration management name. Currently only <code class="literal">salt</code>
          is supported.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">master</code>
         </p>
        </td><td>
         <p>
          Host name
         </p>
        </td><td>
         <p>
          Host name or IP address of the configuration management master.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">auth_attempts</code>
         </p>
        </td><td>
         <p>
          Integer
         </p>
        </td><td>
         <p>
          At the end of installation, YaST connects to the configuration
          management master with maximum <code class="literal">auth_attempts</code>
          attempts. The default is 3 attempts.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">auth_time_out</code>
         </p>
        </td><td>
         <p>
          Integer
         </p>
        </td><td>
         <p>
          Time between the configuration management master connection attempts.
          The default is 15 seconds.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">keys_url</code>
         </p>
        </td><td>
         <p>
          URL of used key
         </p>
        </td><td>
         <p>
          Path to an HTTP server, hard disk, USB drive or similar with
          the files <code class="literal">default.key</code> and
          <code class="literal">default.pub</code>. This key has to be known to
          the configuration management master.
         </p>
        </td></tr><tr><td>
         <p>
          <code class="literal">enable_services</code>
         </p>
        </td><td>
         <p>
          True/false
         </p>
        </td><td>
         <p>
          Enables the configuration management services on the client
          side. Default is <code class="literal">true</code>.
         </p>
        </td></tr></tbody></table></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="rulesandclass.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 5 </span>Rules and Classes</span></a><a class="nav-link" href="CreateProfile.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 3 </span>Creating A Control File</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p></div></div></body></html>