<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Advanced Linuxrc Options | AutoYaST | openSUSE Leap 42.3</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><link rel="stylesheet" type="text/css" href="static/css/brand.css" /><meta name="generator" content="DAPS 2.4.0 using openSUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="openSUSE Leap" /><meta name="product-number" content="42.3" /><meta name="book-title" content="AutoYaST" /><meta name="chapter-title" content="Appendix C. Advanced Linuxrc Options" /><meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="openSUSE Distribution" /><meta name="tracker-bsc-version" content="Leap 42.2" /><link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="book.autoyast.html" title="AutoYaST" /><link rel="prev" href="app.ay.faq.html" title="Appendix B. AutoYaST FAQ - Frequently Asked Questions" /><link rel="next" href="bk07apd.html" title="Appendix D. GNU Licenses" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="openSUSE Leap Documentation"><span class="book-icon">openSUSE Leap Documentation</span></a><span> › </span><a class="crumb" href="book.autoyast.html">AutoYaST</a><span> › </span><a class="crumb" href="appendix.linuxrc.html">Advanced Linuxrc Options</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>AutoYaST</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="introduction.html"><span class="number">1 </span><span class="name">Introduction</span></a></li><li class="inactive"><a href="Profile.html"><span class="number">2 </span><span class="name">The Control File</span></a></li><li class="inactive"><a href="CreateProfile.html"><span class="number">3 </span><span class="name">Creating A Control File</span></a></li><li class="inactive"><a href="configuration.html"><span class="number">4 </span><span class="name">Configuration and Installation Options</span></a></li><li class="inactive"><a href="rulesandclass.html"><span class="number">5 </span><span class="name">Rules and Classes</span></a></li><li class="inactive"><a href="Invoking.html"><span class="number">6 </span><span class="name">The Auto-Installation Process</span></a></li><li class="inactive"><a href="InstalledSystem.html"><span class="number">7 </span><span class="name">Running AutoYaST in an Installed System</span></a></li><li class="inactive"><a href="handlingrules.html"><span class="number">A </span><span class="name">Handling Rules</span></a></li><li class="inactive"><a href="app.ay.faq.html"><span class="number">B </span><span class="name">AutoYaST FAQ - Frequently Asked Questions</span></a></li><li class="inactive"><a href="appendix.linuxrc.html"><span class="number">C </span><span class="name">Advanced Linuxrc Options</span></a></li><li class="inactive"><a href="bk07apd.html"><span class="number">D </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Appendix B. AutoYaST FAQ - Frequently Asked Questions" href="app.ay.faq.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Appendix D. GNU Licenses" href="bk07apd.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="openSUSE Leap Documentation"><span class="book-icon">openSUSE Leap Documentation</span></a><span> › </span><a class="crumb" href="book.autoyast.html">AutoYaST</a><span> › </span><a class="crumb" href="appendix.linuxrc.html">Advanced Linuxrc Options</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Appendix B. AutoYaST FAQ - Frequently Asked Questions" href="app.ay.faq.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Appendix D. GNU Licenses" href="bk07apd.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="appendix " id="appendix.linuxrc"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">42.3</span></span></span></div><div><h1 class="title"><span class="number">C </span><span class="name">Advanced Linuxrc Options</span> </h1></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="appendix.linuxrc.html#ay.cmd_parameters"><span class="number">C.1 </span><span class="name">Passing parameters to Linuxrc</span></a></span></dt><dt><span class="sect1"><a href="appendix.linuxrc.html#info_file_format"><span class="number">C.2 </span><span class="name"><code class="filename">info</code> file format</span></a></span></dt><dt><span class="sect1"><a href="appendix.linuxrc.html#ay.adv_network"><span class="number">C.3 </span><span class="name">Advanced Network Setup</span></a></span></dt></dl></div></div><p>
   Linuxrc is a program used for setting up the kernel for installation
   purposes. It allows the user to load modules, start an installed system,
   a rescue system or an installation via YaST.
  </p><p>
   Linuxrc is designed to be as small as possible. Therefore, all needed
   programs are linked directly into one binary. So there is no need for
   shared libraries in the init disk.
  </p><div id="idm139980352007376" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Running Linuxrc on an Installed System</h6><p>
    If you run Linuxrc on an installed system, it will work slightly
    differently so as not to destroy your installation. As a consequence you
    cannot test all features this way.
   </p></div><div class="sect1 " id="ay.cmd_parameters"><div class="titlepage"><div><div><h2 class="title" id="ay.cmd_parameters"><span class="number">C.1 </span><span class="name">Passing parameters to Linuxrc</span> <a title="Permalink" class="permalink" href="appendix.linuxrc.html#ay.cmd_parameters">#</a></h2></div></div></div><p>
    Unless Linuxrc is in manual mode, it will look for an
    <code class="filename">info</code> file in these locations: first
    <code class="filename">/info</code> on the flash disk and if that does not exist,
    for <code class="filename">/info</code> in the initrd. After that it parses the
    kernel command line for parameters. You may change the
    <code class="filename">info</code> file Linuxrc reads by setting the
    <code class="filename">info</code> command line parameter. If you do not want
    Linuxrc to read the kernel command line (for example because you need to
    specify a kernel parameter that Linuxrc recognizes as well), use
    <code class="literal">linuxrc=nocmdline</code>.
   </p><p>
    Linuxrc will always look for and parse a file
    <code class="filename">/linuxrc.config</code>. Use this file to change default
    values if you need to. In general, it is better to use the
    <code class="filename">info</code> file instead. Note that
    <code class="filename">/linuxrc.config</code> is read before any
    <code class="filename">info</code> file, even in manual mode.
   </p></div><div class="sect1 " id="info_file_format"><div class="titlepage"><div><div><h2 class="title" id="info_file_format"><span class="number">C.2 </span><span class="name"><code class="filename">info</code> file format</span> <a title="Permalink" class="permalink" href="appendix.linuxrc.html#info_file_format">#</a></h2></div></div></div><p>
    Lines starting with <code class="literal">#</code> are comments, valid entries are
    of the form:
   </p><div class="verbatim-wrap"><pre class="screen">key: value</pre></div><p>
    Note that <code class="literal">value</code> extends to the end of the line and
    therefore may contain spaces. <code class="literal">key</code> is matched
    case-insensitive.
   </p><p>
    You can use the same key-value pairs on the kernel command line using
    the syntax <code class="literal">key=value</code>. Lines that do not have the form
    described above are ignored.
   </p><p>
    The table below lists important keys and example values. For a complete
    list of linuxrc parameters refer to <a class="link" href="https://en.opensuse.org/SDB:Linuxrc" target="_blank">https://en.opensuse.org/SDB:Linuxrc</a>.
   </p><div class="table" id="idm139980351992176"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table C.1: </span><span class="name"> </span><a title="Permalink" class="permalink" href="appendix.linuxrc.html#idm139980351992176">#</a></h6></div><div class="table-contents"><table summary="" border="1"><colgroup><col class="1" /><col class="2" /></colgroup><thead><tr><th></th><th></th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table></div></div><div class="table" id="idm139980351985056"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table C.2: </span><span class="name">Advanced linuxrc keywords </span><a title="Permalink" class="permalink" href="appendix.linuxrc.html#idm139980351985056">#</a></h6></div><div class="table-contents"><table summary="Advanced linuxrc keywords" border="1"><colgroup><col class="1" /><col class="2" /></colgroup><thead><tr><th>
        <p>
         Keyword: Example Value
        </p>
       </th><th>
        <p>
         Description
        </p>
       </th></tr></thead><tbody><tr><td>
        <p>
         <code class="literal">addswap: 0|3|/dev/sda5</code>
        </p>
       </td><td>
        <p>
         If 0, never ask for swap; if the argument is a positive number
         <code class="literal">n</code>, activate the <code class="literal">n</code>'th swap
         partition; if the argument is a partition name, activate this swap
         partition.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">autoyast:
         <em class="replaceable ">ftp://AUTOYASTFILE</em></code>
        </p>
       </td><td>
        <p>
         Location of the auto installation file; activates auto installation
         mode. See <a class="xref" href="Invoking.html#Commandline.ay" title="Command Line Variables for AutoYaST">Table 6.2, “Command Line Variables for AutoYaST”</a> for details.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">bootptimeout: 10</code>
        </p>
       </td><td>
        <p>
         10 seconds timeout for BOOTP requests.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">bootpwait: 5</code>
        </p>
       </td><td>
        <p>
         Sleep 5 seconds between network activation and starting bootp.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">display: color|mono|alt</code>
        </p>
       </td><td>
        <p>
         Set the menu color scheme.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">exec: <em class="replaceable ">COMMAND</em></code>
        </p>
       </td><td>
        <p>
         Run <span class="emphasis"><em>command</em></span>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">forceinsmod: 0|1</code>
        </p>
       </td><td>
        <p>
         Use the <code class="option">-f</code> option (force) when running
         <code class="command">insmod</code> commands.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">forcerootimage: 0|1</code>
        </p>
       </td><td>
        <p>
         Load the installation system into RAM disk.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">ifcfg:
         <em class="replaceable ">NETWORK_CONFIGURATION</em></code>
        </p>
       </td><td>
        <p>
         Set up and start the network. See <a class="xref" href="appendix.linuxrc.html#ay.adv_network" title="C.3. Advanced Network Setup">Section C.3, “Advanced Network Setup”</a> for
         more information.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">insmod: <em class="replaceable ">MODULE</em></code>
        </p>
       </td><td>
        <p>
         Load <em class="replaceable ">MODULE</em>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">install: <em class="replaceable ">URL</em></code>
        </p>
       </td><td>
        <p>
         Install from the repository specified with
         <em class="replaceable ">URL</em>. For the syntax of
         <em class="replaceable ">URL</em> refer to <a class="link" href="https://en.opensuse.org/SDB:Linuxrc#url_descr" target="_blank">https://en.opensuse.org/SDB:Linuxrc#url_descr</a>.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">keytable: de-lat1-nd</code>
        </p>
       </td><td>
        <p>
         Virtual console keyboard map to load.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">language: de_DE</code>
        </p>
       </td><td>
        <p>
         Language preselected for the installation.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">loghost: 10.10.0.22</code>
        </p>
       </td><td>
        <p>
         Enable remote logging via syslog.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">memloadimage: 50000</code>
        </p>
       </td><td>
        <p>
         Load installation system into RAM disk if free memory is above
         50000 KB.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">memlimit: 10000</code>
        </p>
       </td><td>
        <p>
         Ask for swap if free memory drops below 10000 KB.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">memYaST: 20000</code>
        </p>
       </td><td>
        <p>
         Run YaST in text mode if free memory is below 20000 KB.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">memYaSTText: 10000</code>
        </p>
       </td><td>
        <p>
         Ask for swap before starting YaST if free memory is below
         10000 KB.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">proxy: 10.10.0.1</code>
        </p>
       </td><td>
        <p>
         Proxy (either FTP or HTTP).
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">rescue: 1|nfs://server/dir</code>
        </p>
       </td><td>
        <p>
         Load the rescue system; the URL variant specifies the location of the
         rescue image explicitly.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">rescueimage: /suse/images/rescue</code>
        </p>
       </td><td>
        <p>
         Location of the rescue system image.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">rootimage: /suse/images/root</code>
        </p>
       </td><td>
        <p>
         Location of the installation system image.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">textmode: 1</code>
        </p>
       </td><td>
        <p>
         Start YaST in text mode.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">usbwait: 4</code>
        </p>
       </td><td>
        <p>
         Wait 4 seconds after loading the USB modules.
        </p>
       </td></tr><tr><td>
        <p>
         <code class="literal">y2confirm</code>
        </p>
       </td><td>
        <p>
         Overrides the confirm parameter in a control file and requests
         confirmation of installation proposal.
        </p>
       </td></tr></tbody></table></div></div></div><div class="sect1 " id="ay.adv_network"><div class="titlepage"><div><div><h2 class="title" id="ay.adv_network"><span class="number">C.3 </span><span class="name">Advanced Network Setup</span> <a title="Permalink" class="permalink" href="appendix.linuxrc.html#ay.adv_network">#</a></h2></div></div></div><p>
    Even if parameters like <code class="literal">hostip</code>,
    <code class="literal">nameserver</code>, and <code class="literal">gateway</code> are passed to
    linuxrc, the network is only started when it is needed (for example, when
    installing via SSH or VNC). Since <code class="literal">autoyast</code> is not a linuxrc
    parameter (this parameter is ignored by linuxrc and only passed to YaST),
    the network will <span class="emphasis"><em>not</em></span> be started automatically when
    specifying a remote location for the AutoYaST profile.
   </p><p>
    Therefore the network needs to be started explicitly. This used to be done
    with the linuxrc parameter <code class="literal">netsetup</code>. Starting with
    <span class="productname"><span class="phrase">openSUSE Leap</span></span> <span class="phrase">13.2</span>, the parameter <code class="literal">ifcfg</code> is
    available. It offers more configuration options, for example configuring
    more than one interface. <code class="literal">ifcfg</code> directly controls the
    content of the <code class="filename">/etc/sysconfig/network/ifcfg-*</code> files.
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm139980351893728"><span class="term ">DHCP Network Configuration</span></dt><dd><p>
       The general syntax to configure DHCP is
      </p><div class="verbatim-wrap"><pre class="screen"> ifcfg=<em class="replaceable ">INTERFACE</em>=<em class="replaceable ">DHCP*</em>,<em class="replaceable ">OPTION1</em>=<em class="replaceable ">VALUE1</em>,<em class="replaceable ">OPTION2</em>=<em class="replaceable ">VALUE2</em></pre></div><p>
       where <em class="replaceable ">INTERFACE</em> is the interface name, for
       example <code class="literal">eth0</code>, or <code class="literal">eth*</code> for all
       interfaces. <em class="replaceable ">DHCP*</em> can either be
       <code class="literal">dhcp</code> (IPv4 and IPv6), <code class="literal">dhcp4</code>, or
       <code class="literal">dhcp6</code>.
      </p><p>
       To set up DHCP for <code class="literal">eth0</code> use:
      </p><div class="verbatim-wrap"><pre class="screen">ifcfg=eth0=dhcp</pre></div><p>
       To set up DHCP on all interfaces use:
      </p><div class="verbatim-wrap"><pre class="screen">ifcfg=eth*=dhcp</pre></div></dd><dt id="idm139980351882992"><span class="term ">Static Network Configuration</span></dt><dd><p>
       The general syntax to configure a static network is
      </p><div class="verbatim-wrap"><pre class="screen">ifcfg=<em class="replaceable ">INTERFACE</em>=<em class="replaceable ">IP_LIST</em>,<em class="replaceable ">GATEWAY_LIST</em>,<em class="replaceable ">NAMESERVER_LIST</em>,<em class="replaceable ">DOMAINSEARCH_LIST</em>,\
<em class="replaceable ">OPTION1=value1</em>,...</pre></div><p>
       where <em class="replaceable ">INTERFACE</em> is the interface name, for
       example <code class="literal">eth0</code>. If using <code class="literal">eth*</code>, the
       first device available will be used. The other parameters need to be
       replaced with the respective values in the given order. Example:
      </p><div class="verbatim-wrap"><pre class="screen">ifcfg=eth0=192.168.2.100/24,192.168.5.1,192.168.1.116,example.com</pre></div><p>
       When specifying multiple addresses for a parameter, use spaces to separate
       them and quote the complete string. The following example uses two
       name servers and a search list containing two domains.
      </p><div class="verbatim-wrap"><pre class="screen">ifcfg="eth0=192.168.2.100/24,192.168.5.1,192.168.1.116 192.168.1.117,example.com example.net"</pre></div></dd></dl></div><p>
    For more information refer to <a class="link" href="https://en.opensuse.org/SDB:Linuxrc#Network_Configuration" target="_blank">https://en.opensuse.org/SDB:Linuxrc#Network_Configuration</a>.
   </p></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="bk07apd.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Appendix D </span>GNU Licenses</span></a><a class="nav-link" href="app.ay.faq.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Appendix B </span>AutoYaST FAQ - Frequently Asked Questions</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p></div></div></body></html>