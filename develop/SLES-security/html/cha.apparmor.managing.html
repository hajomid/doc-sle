<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Managing Profiled Applications | Security Guide | SUSE Linux Enterprise Server 15</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 2.4.0 using SUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise Server" /><meta name="product-number" content="15" /><meta name="book-title" content="Security Guide" /><meta name="chapter-title" content="Chapter 28. Managing Profiled Applications" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="Beta SUSE Linux Enterprise Server 15" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Server Documentation" /><link rel="up" href="part.apparmor.html" title="Part IV. Confining Privileges with AppArmor" /><link rel="prev" href="cha.apparmor.pam.html" title="Chapter 27. Confining Users with pam_apparmor" /><link rel="next" href="cha.apparmor.support.html" title="Chapter 29. Support" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.security.html">Security Guide</a><span> › </span><a class="crumb" href="part.apparmor.html">Confining Privileges with AppArmor</a><span> › </span><a class="crumb" href="cha.apparmor.managing.html">Managing Profiled Applications</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Security Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface.security.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="cha.security.html"><span class="number">1 </span><span class="name">Security and Confidentiality</span></a></li><li class="inactive"><a href="part.auth.html"><span class="number">I </span><span class="name">Authentication</span></a><ol><li class="inactive"><a href="cha.pam.html"><span class="number">2 </span><span class="name">Authentication with PAM</span></a></li><li class="inactive"><a href="cha.nis.html"><span class="number">3 </span><span class="name">Using NIS</span></a></li><li class="inactive"><a href="cha.security.auth.html"><span class="number">4 </span><span class="name">Setting Up Authentication Servers and Clients Using YaST</span></a></li><li class="inactive"><a href="cha.security.ldap.html"><span class="number">5 </span><span class="name">LDAP—A Directory Service</span></a></li><li class="inactive"><a href="cha.security.kerberos.html"><span class="number">6 </span><span class="name">Network Authentication with Kerberos</span></a></li><li class="inactive"><a href="cha.security.ad.html"><span class="number">7 </span><span class="name">Active Directory Support</span></a></li></ol></li><li class="inactive"><a href="part.local_security.html"><span class="number">II </span><span class="name">Local Security</span></a><ol><li class="inactive"><a href="cha.security.yast_security.html"><span class="number">8 </span><span class="name">Configuring Security Settings with YaST</span></a></li><li class="inactive"><a href="cha.security.policykit.html"><span class="number">9 </span><span class="name">Authorization with PolKit</span></a></li><li class="inactive"><a href="cha.security.acls.html"><span class="number">10 </span><span class="name">Access Control Lists in Linux</span></a></li><li class="inactive"><a href="cha.security.cryptofs.html"><span class="number">11 </span><span class="name">Encrypting Partitions and Files</span></a></li><li class="inactive"><a href="cha.certstore.html"><span class="number">12 </span><span class="name">Certificate Store</span></a></li><li class="inactive"><a href="cha.aide.html"><span class="number">13 </span><span class="name">Intrusion Detection with AIDE</span></a></li></ol></li><li class="inactive"><a href="part.network_security.html"><span class="number">III </span><span class="name">Network Security</span></a><ol><li class="inactive"><a href="cha.xauth.html"><span class="number">14 </span><span class="name">X Window System and X Authentication</span></a></li><li class="inactive"><a href="cha.ssh.html"><span class="number">15 </span><span class="name">SSH: Secure Network Operations</span></a></li><li class="inactive"><a href="cha.security.firewall.html"><span class="number">16 </span><span class="name">Masquerading and Firewalls</span></a></li><li class="inactive"><a href="cha.security.vpnserver.html"><span class="number">17 </span><span class="name">Configuring a VPN Server</span></a></li><li class="inactive"><a href="cha.security.yast_ca.html"><span class="number">18 </span><span class="name">Managing X.509 Certification</span></a></li></ol></li><li class="inactive"><a href="part.apparmor.html"><span class="number">IV </span><span class="name">Confining Privileges with <span class="phrase">AppArmor</span></span></a><ol><li class="inactive"><a href="cha.apparmor.intro.html"><span class="number">19 </span><span class="name">Introducing <span class="phrase">AppArmor</span></span></a></li><li class="inactive"><a href="cha.apparmor.start.html"><span class="number">20 </span><span class="name">Getting Started</span></a></li><li class="inactive"><a href="cha.apparmor.concept.html"><span class="number">21 </span><span class="name">Immunizing Programs</span></a></li><li class="inactive"><a href="cha.apparmor.profiles.html"><span class="number">22 </span><span class="name">Profile Components and Syntax</span></a></li><li class="inactive"><a href="cha.apparmor.repos.html"><span class="number">23 </span><span class="name"><span class="phrase">AppArmor</span> Profile Repositories</span></a></li><li class="inactive"><a href="cha.apparmor.yast.html"><span class="number">24 </span><span class="name">Building and Managing Profiles with YaST</span></a></li><li class="inactive"><a href="cha.apparmor.commandline.html"><span class="number">25 </span><span class="name">Building Profiles from the Command Line</span></a></li><li class="inactive"><a href="cha.apparmor.hat.html"><span class="number">26 </span><span class="name">Profiling Your Web Applications Using ChangeHat</span></a></li><li class="inactive"><a href="cha.apparmor.pam.html"><span class="number">27 </span><span class="name">Confining Users with <code class="systemitem">pam_apparmor</code></span></a></li><li class="inactive"><a href="cha.apparmor.managing.html"><span class="number">28 </span><span class="name">Managing Profiled Applications</span></a></li><li class="inactive"><a href="cha.apparmor.support.html"><span class="number">29 </span><span class="name">Support</span></a></li><li class="inactive"><a href="cha.apparmor.glossary.html"><span class="number">30 </span><span class="name"><span class="phrase">AppArmor</span> Glossary</span></a></li></ol></li><li class="inactive"><a href="part.selinux.html"><span class="number">V </span><span class="name">SELinux</span></a><ol><li class="inactive"><a href="cha.selinux.html"><span class="number">31 </span><span class="name">Configuring SELinux</span></a></li></ol></li><li class="inactive"><a href="part.audit.html"><span class="number">VI </span><span class="name"><em class="citetitle ">The Linux Audit Framework</em></span></a><ol><li class="inactive"><a href="cha.audit.comp.html"><span class="number">32 </span><span class="name">Understanding Linux Audit</span></a></li><li class="inactive"><a href="cha.audit.setup.html"><span class="number">33 </span><span class="name">Setting Up the Linux Audit Framework</span></a></li><li class="inactive"><a href="cha.audit.scenarios.html"><span class="number">34 </span><span class="name">Introducing an Audit Rule Set</span></a></li><li class="inactive"><a href="cha.audit.moreinfo.html"><span class="number">35 </span><span class="name">Useful Resources</span></a></li></ol></li><li class="inactive"><a href="app.pcidss.html"><span class="number">A </span><span class="name">Achieving PCI-DSS Compliance</span></a></li><li class="inactive"><a href="bk06apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 27. Confining Users with pam_apparmor" href="cha.apparmor.pam.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 29. Support" href="cha.apparmor.support.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.security.html">Security Guide</a><span> › </span><a class="crumb" href="part.apparmor.html">Confining Privileges with AppArmor</a><span> › </span><a class="crumb" href="cha.apparmor.managing.html">Managing Profiled Applications</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 27. Confining Users with pam_apparmor" href="cha.apparmor.pam.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 29. Support" href="cha.apparmor.support.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.apparmor.managing"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">15</span></span></span></div><div><h2 class="title"><span class="number">28 </span><span class="name">Managing Profiled Applications</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>apparmor_managing.xml</li><li><span class="ds-label">ID: </span>cha.apparmor.managing</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.apparmor.managing.html#sec.apparmor.managing.react"><span class="number">28.1 </span><span class="name">Reacting to Security Event Rejections</span></a></span></dt><dt><span class="sect1"><a href="cha.apparmor.managing.html#sec.apparmor.managing.maintain"><span class="number">28.2 </span><span class="name">Maintaining Your Security Profiles</span></a></span></dt></dl></div></div><p>
  After creating profiles and immunizing your applications,
  <span class="productname"><span class="phrase">SUSE® Linux Enterprise Server</span></span> becomes more efficient and better protected as long as
  you perform <span class="phrase">AppArmor®</span> profile maintenance (which involves analyzing log
  files, refining your profiles, backing up your set of profiles and keeping
  it up-to-date). You can deal with these issues before they become a
  problem by setting up event notification by e-mail, updating profiles from
  system log entries by running the aa-logprof tool, and dealing with
  maintenance issues.
 </p><div class="sect1 " id="sec.apparmor.managing.react"><div class="titlepage"><div><div><h2 class="title" id="sec.apparmor.managing.react"><span class="number">28.1 </span><span class="name">Reacting to Security Event Rejections</span> <a title="Permalink" class="permalink" href="cha.apparmor.managing.html#sec.apparmor.managing.react">#</a></h2></div></div></div><p>
   When you receive a security event rejection, examine the access violation
   and determine if that event indicated a threat or was part of normal
   application behavior. Application-specific knowledge is required to make
   the determination. If the rejected action is part of normal application
   behavior, run <code class="command">aa-logprof</code> at the command line.
  </p><p>
   If the rejected action is not part of normal application behavior, this
   access should be considered a possible intrusion attempt (that was
   prevented) and this notification should be passed to the person
   responsible for security within your organization.
  </p></div><div class="sect1 " id="sec.apparmor.managing.maintain"><div class="titlepage"><div><div><h2 class="title" id="sec.apparmor.managing.maintain"><span class="number">28.2 </span><span class="name">Maintaining Your Security Profiles</span> <a title="Permalink" class="permalink" href="cha.apparmor.managing.html#sec.apparmor.managing.maintain">#</a></h2></div></div></div><p>
   In a production environment, you should plan on maintaining profiles for
   all of the deployed applications. The security policies are an integral
   part of your deployment. You should plan on taking steps to back up and
   restore security policy files, plan for software changes, and allow any
   needed modification of security policies that your environment dictates.
  </p><div class="sect2 " id="sec.apparmor.managing.maintain.backup"><div class="titlepage"><div><div><h3 class="title" id="sec.apparmor.managing.maintain.backup"><span class="number">28.2.1 </span><span class="name">Backing Up Your Security Profiles</span> <a title="Permalink" class="permalink" href="cha.apparmor.managing.html#sec.apparmor.managing.maintain.backup">#</a></h3></div></div></div><p>
    Backing up profiles might save you from having to re-profile all your
    programs after a disk crash. Also, if profiles are changed, you can
    easily restore previous settings by using the backed up files.
   </p><p>
    Back up profiles by copying the profile files to a specified directory.
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      You should first archive the files into one file. To do this, open a
      terminal window and enter the following as <code class="systemitem">root</code>:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code><code class="command">sudo</code> tar zclpf profiles.tgz /etc/apparmor.d</pre></div><p>
      The simplest method to ensure that your security policy files are
      regularly backed up is to include the directory
      <code class="filename">/etc/apparmor.d</code> in the list of directories that
      your backup system archives.
     </p></li><li class="step "><p>
      You can also use <code class="command">scp</code> or a file manager like
      Nautilus to store the files on some kind of storage media, the
      network, or another computer.
     </p></li></ol></div></div></div><div class="sect2 " id="sec.apparmor.managing.maintain.change"><div class="titlepage"><div><div><h3 class="title" id="sec.apparmor.managing.maintain.change"><span class="number">28.2.2 </span><span class="name">Changing Your Security Profiles</span> <a title="Permalink" class="permalink" href="cha.apparmor.managing.html#sec.apparmor.managing.maintain.change">#</a></h3></div></div></div><p>
    Maintenance of security profiles includes changing them if you decide
    that your system requires more or less security for its applications. To
    change your profiles in <span class="phrase">AppArmor</span>, refer to
    <a class="xref" href="cha.apparmor.yast.html#sec.apparmor.yast.edit" title="24.2. Editing Profiles">Section 24.2, “Editing Profiles”</a>.
   </p></div><div class="sect2 " id="sec.apparmor.managing.maintain.change.new_software"><div class="titlepage"><div><div><h3 class="title" id="sec.apparmor.managing.maintain.change.new_software"><span class="number">28.2.3 </span><span class="name">Introducing New Software into Your Environment</span> <a title="Permalink" class="permalink" href="cha.apparmor.managing.html#sec.apparmor.managing.maintain.change.new_software">#</a></h3></div></div></div><p>
    When you add a new application version or patch to your system, you
    should always update the profile to fit your needs. You have several
    options, depending on your company's software deployment strategy. You
    can deploy your patches and upgrades into a test or production
    environment. The following explains how to do this with each method.
   </p><p>
    If you intend to deploy a patch or upgrade in a test environment, the
    best method for updating your profiles is to run
    <code class="command">aa-logprof</code> in a terminal as <code class="systemitem">root</code>. For
    detailed instructions, refer to
    <a class="xref" href="cha.apparmor.commandline.html#sec.apparmor.commandline.profiling.summary.logprof" title="25.7.3.9. aa-logprof—Scanning the System Log">Section 25.7.3.9, “aa-logprof—Scanning the System Log”</a>.
   </p><p>
    If you intend to deploy a patch or upgrade directly into a production
    environment, the best method for updating your profiles is to monitor
    the system frequently to determine if any new rejections should be added
    to the profile and update as needed using <code class="command">aa-logprof</code>.
    For detailed instructions, refer to
    <a class="xref" href="cha.apparmor.commandline.html#sec.apparmor.commandline.profiling.summary.logprof" title="25.7.3.9. aa-logprof—Scanning the System Log">Section 25.7.3.9, “aa-logprof—Scanning the System Log”</a>.
   </p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.apparmor.support.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 29 </span>Support</span></a><a class="nav-link" href="cha.apparmor.pam.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 27 </span>Confining Users with <code class="systemitem">pam_apparmor</code></span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>