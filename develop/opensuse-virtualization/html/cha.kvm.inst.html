<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Guest Installation | Virtualization Guide | openSUSE Leap 42.3</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><link rel="stylesheet" type="text/css" href="static/css/brand.css" /><meta name="generator" content="DAPS 2.4.0 using openSUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="openSUSE Leap" /><meta name="product-number" content="42.3" /><meta name="book-title" content="Virtualization Guide" /><meta name="chapter-title" content="Chapter 8. Guest Installation" /><meta name="tracker-url" content="https://bugzilla.opensuse.org/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="openSUSE Distribution" /><meta name="tracker-bsc-version" content="Leap 42.2" /><link rel="home" href="index.html" title="openSUSE Leap Documentation" /><link rel="up" href="part.virt.libvirt.html" title="Part II. Managing Virtual Machines with libvirt" /><link rel="prev" href="cha.libvirt.overview.html" title="Chapter 7. Starting and Stopping libvirtd" /><link rel="next" href="cha.libvirt.managing.html" title="Chapter 9. Basic VM Guest Management" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="openSUSE Leap Documentation"><span class="book-icon">openSUSE Leap Documentation</span></a><span> › </span><a class="crumb" href="book.virt.html">Virtualization Guide</a><span> › </span><a class="crumb" href="part.virt.libvirt.html">Managing Virtual Machines with libvirt</a><span> › </span><a class="crumb" href="cha.kvm.inst.html">Guest Installation</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Virtualization Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="cha.kvm.html"><span class="number"> </span><span class="name">About This Manual</span></a></li><li class="inactive"><a href="part.virt.intro.html"><span class="number">I </span><span class="name">Introduction</span></a><ol><li class="inactive"><a href="chap.virtualization.introduction.html"><span class="number">1 </span><span class="name">Virtualization Technology</span></a></li><li class="inactive"><a href="cha.xen.basics.html"><span class="number">2 </span><span class="name">Introduction to Xen Virtualization</span></a></li><li class="inactive"><a href="cha.kvm.intro.html"><span class="number">3 </span><span class="name">Introduction to KVM Virtualization</span></a></li><li class="inactive"><a href="cha.containers.intro.html"><span class="number">4 </span><span class="name">Introduction to Linux Containers</span></a></li><li class="inactive"><a href="cha.tools.intro.html"><span class="number">5 </span><span class="name">Virtualization Tools</span></a></li><li class="inactive"><a href="cha.vt.installation.html"><span class="number">6 </span><span class="name">Installation of Virtualization Components</span></a></li></ol></li><li class="inactive"><a href="part.virt.libvirt.html"><span class="number">II </span><span class="name">Managing Virtual Machines with <code class="systemitem">libvirt</code></span></a><ol><li class="inactive"><a href="cha.libvirt.overview.html"><span class="number">7 </span><span class="name">Starting and Stopping <code class="systemitem">libvirtd</code></span></a></li><li class="inactive"><a href="cha.kvm.inst.html"><span class="number">8 </span><span class="name">Guest Installation</span></a></li><li class="inactive"><a href="cha.libvirt.managing.html"><span class="number">9 </span><span class="name">Basic VM Guest Management</span></a></li><li class="inactive"><a href="cha.libvirt.connect.html"><span class="number">10 </span><span class="name">Connecting and Authorizing</span></a></li><li class="inactive"><a href="cha.libvirt.storage.html"><span class="number">11 </span><span class="name">Managing Storage</span></a></li><li class="inactive"><a href="cha.libvirt.networks.html"><span class="number">12 </span><span class="name">Managing Networks</span></a></li><li class="inactive"><a href="cha.libvirt.config.html"><span class="number">13 </span><span class="name">Configuring Virtual Machines</span></a></li></ol></li><li class="inactive"><a href="part.virt.common.html"><span class="number">III </span><span class="name">Hypervisor-Independent Features</span></a><ol><li class="inactive"><a href="cha.cachemodes.html"><span class="number">14 </span><span class="name">Disk Cache Modes</span></a></li><li class="inactive"><a href="sec.kvm.managing.clock.html"><span class="number">15 </span><span class="name">VM Guest Clock Settings</span></a></li><li class="inactive"><a href="chap.guestfs.html"><span class="number">16 </span><span class="name">libguestfs</span></a></li></ol></li><li class="inactive"><a href="part.virt.xen.html"><span class="number">IV </span><span class="name">Managing Virtual Machines with Xen</span></a><ol><li class="inactive"><a href="cha.xen.vhost.html"><span class="number">17 </span><span class="name">Setting Up a Virtual Machine Host</span></a></li><li class="inactive"><a href="cha.xen.network.html"><span class="number">18 </span><span class="name">Virtual Networking</span></a></li><li class="inactive"><a href="cha.xen.manage.html"><span class="number">19 </span><span class="name">Managing a Virtualization Environment</span></a></li><li class="inactive"><a href="cha.xen.vbd.html"><span class="number">20 </span><span class="name">Block Devices in Xen</span></a></li><li class="inactive"><a href="cha.xen.config.html"><span class="number">21 </span><span class="name">Virtualization: Configuration Options and Settings</span></a></li><li class="inactive"><a href="cha.xen.admin.html"><span class="number">22 </span><span class="name">Administrative Tasks</span></a></li><li class="inactive"><a href="cha.xen.xenstore.html"><span class="number">23 </span><span class="name">XenStore: Configuration Database Shared between Domains</span></a></li><li class="inactive"><a href="cha.xen.ha.html"><span class="number">24 </span><span class="name">Xen as a High-Availability Virtualization Host</span></a></li></ol></li><li class="inactive"><a href="part.virt.qemu.html"><span class="number">V </span><span class="name">Managing Virtual Machines with QEMU</span></a><ol><li class="inactive"><a href="cha.qemu.overview.html"><span class="number">25 </span><span class="name">QEMU Overview</span></a></li><li class="inactive"><a href="cha.qemu.host.html"><span class="number">26 </span><span class="name">Setting Up a KVM VM Host Server</span></a></li><li class="inactive"><a href="cha.qemu.guest_inst.html"><span class="number">27 </span><span class="name">Guest Installation</span></a></li><li class="inactive"><a href="cha.qemu.running.html"><span class="number">28 </span><span class="name">Running Virtual Machines with qemu-system-ARCH</span></a></li><li class="inactive"><a href="cha.qemu.monitor.html"><span class="number">29 </span><span class="name">Virtual Machine Administration Using QEMU Monitor</span></a></li></ol></li><li class="inactive"><a href="part.virt.lxc.html"><span class="number">VI </span><span class="name">Managing Virtual Machines with LXC</span></a><ol><li class="inactive"><a href="cha.lxc.html"><span class="number">30 </span><span class="name">Linux Containers</span></a></li><li class="inactive"><a href="cha.lxc2libvirt.html"><span class="number">31 </span><span class="name">Migration from LXC to <code class="systemitem">libvirt-lxc</code></span></a></li></ol></li><li class="inactive"><a href="gloss.vt.glossary.html"><span class="number"> </span><span class="name">Glossary</span></a></li><li class="inactive"><a href="app.kvm.html"><span class="number">A </span><span class="name">Appendix</span></a></li><li class="inactive"><a href="cha.xmtoxl.html"><span class="number">B </span><span class="name">XM, XL Toolstacks and Libvirt framework</span></a></li><li class="inactive"><a href="bk06apc.html"><span class="number">C </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 7. Starting and Stopping libvirtd" href="cha.libvirt.overview.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 9. Basic VM Guest Management" href="cha.libvirt.managing.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="openSUSE Leap Documentation"><span class="book-icon">openSUSE Leap Documentation</span></a><span> › </span><a class="crumb" href="book.virt.html">Virtualization Guide</a><span> › </span><a class="crumb" href="part.virt.libvirt.html">Managing Virtual Machines with libvirt</a><span> › </span><a class="crumb" href="cha.kvm.inst.html">Guest Installation</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 7. Starting and Stopping libvirtd" href="cha.libvirt.overview.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 9. Basic VM Guest Management" href="cha.libvirt.managing.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.kvm.inst"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">openSUSE Leap</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">42.3</span></span></span></div><div><h2 class="title"><span class="number">8 </span><span class="name">Guest Installation</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>libvirt_guest_installation.xml</li><li><span class="ds-label">ID: </span>cha.kvm.inst</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.kvm.inst.html#sec.libvirt.inst.vmm"><span class="number">8.1 </span><span class="name">GUI-Based Guest Installation</span></a></span></dt><dt><span class="sect1"><a href="cha.kvm.inst.html#sec.libvirt.inst.virt-install"><span class="number">8.2 </span><span class="name">Installing from the Command Line with <code class="command">virt-install</code></span></a></span></dt><dt><span class="sect1"><a href="cha.kvm.inst.html#sec.libvirt.inst.advanced"><span class="number">8.3 </span><span class="name">Advanced Guest Installation Scenarios</span></a></span></dt></dl></div></div><p>
  A VM Guest consists of an image containing an operating system and data
  files and a configuration file describing the VM Guest's virtual hardware
  resources. VM Guests are hosted on and controlled by the VM Host Server. This
  section provides generalized instructions for installing a VM Guest. 
 </p><p>
  Virtual machines have few if any requirements above those required to run the
  operating system. If the operating system has not been optimized for the
  virtual machine host environment, it can only run on
  <a class="xref" href="gloss.vt.glossary.html#gloss.vt.hwassisted" title="hardware-assisted">hardware-assisted</a> virtualization computer hardware, in
  full virtualization mode, and requires specific device drivers to be loaded.
  The hardware that is presented to the VM Guest depends on the configuration
  of the host.
 </p><p>
  You should be aware of any licensing issues related to running a single
  licensed copy of an operating system on multiple virtual machines. Consult
  the operating system license agreement for more information.
 </p><div class="sect1 " id="sec.libvirt.inst.vmm"><div class="titlepage"><div><div><h2 class="title" id="sec.libvirt.inst.vmm"><span class="number">8.1 </span><span class="name">GUI-Based Guest Installation</span> <a title="Permalink" class="permalink" href="cha.kvm.inst.html#sec.libvirt.inst.vmm">#</a></h2></div></div></div><p>
   The <span class="guimenu">New VM</span> wizard helps you through the steps required to
   create a virtual machine and install its operating system. There are two
   ways to start it: Within Virtual Machine Manager, either click <span class="guimenu">Create New Virtual
   Machine</span> or choose <span class="guimenu">File</span> › <span class="guimenu">New Virtual Machine</span>. Alternatively, start
   YaST and choose <span class="guimenu">Virtualization</span> › <span class="guimenu">Create Virtual Machines for Xen and KVM</span>.
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Start the <span class="guimenu">New VM</span> wizard either from YaST or Virtual Machine Manager.
    </p></li><li class="step "><p>
     Choose an installation source—either a locally available media or a
     network installation source. If you want to set up your VM Guest from an
     existing image, choose <span class="guimenu">import existing disk image</span>.
    </p><p>
     On a VM Host Server running the Xen hypervisor, you can choose whether to
     install a paravirtualized or a fully virtualized guest. The respective
     option is available under <span class="guimenu">Architecture Options</span>.
     Depending on this choice, not all installation options may be available.
    </p></li><li class="step "><p>
     Depending on your choice in the previous step, you need to provide the
     following data:
    </p><div class="variablelist "><dl class="variablelist"><dt id="idm140661851302112"><span class="term "><span class="guimenu">Local Installation Media (ISO image or CDROM)</span>
      </span></dt><dd><p>
        Specify the path on the VM Host Server to an iso image containing the
        installation data. If it is available as a volume in a libvirt storage
        pool, you can also select it using <span class="guimenu">Browse</span>. For more
        information, see <a class="xref" href="cha.libvirt.storage.html" title="Chapter 11. Managing Storage">Chapter 11, <em>Managing Storage</em></a>.
       </p><p>
        Alternatively, choose a physical CD-ROM or DVD inserted in the optical
        drive of the VM Host Server.
       </p></dd><dt id="idm140661851298224"><span class="term "><span class="guimenu">Network Installation (HTTP, FTP, or NFS)</span>
      </span></dt><dd><p>
        Provide the <span class="guimenu">URL</span> pointing to the installation source.
        Valid URL prefixes are, for example, <code class="literal">ftp://</code>,
        <code class="literal">http://</code>, <code class="literal">https://</code>, and
        <code class="literal">nfs://</code>.
       </p><p>
        Under <span class="guimenu">URL Options</span>, provide a path to an
        auto-installation file (AutoYaST or Kickstart, for example) and kernel
        parameters. Having provided a URL, the operating system should be
        automatically detected correctly. If this is not the case, deselect
        <span class="guimenu">Automatically Detect Operating System Based on
        Install-Media</span> and manually select the <span class="guimenu">OS
        Type</span> and <span class="guimenu">Version</span>.
       </p></dd><dt id="idm140661851291440"><span class="term "><span class="guimenu">Network Boot (PXE)</span>
      </span></dt><dd><p>
        When booting via PXE, you only need to provide the <span class="guimenu">OS
        Type</span> and the <span class="guimenu">Version</span>.
       </p></dd><dt id="idm140661851288496"><span class="term "><span class="guimenu">Import Existing Disk Image</span>
      </span></dt><dd><p>
        To set up the VM Guest from an existing image, you need to specify the
        path on the VM Host Server to the image. If it is available as a volume in a
        libvirt storage pool, you can also select it using
        <span class="guimenu">Browse</span>. For more information, see
        <a class="xref" href="cha.libvirt.storage.html" title="Chapter 11. Managing Storage">Chapter 11, <em>Managing Storage</em></a>.
       </p></dd></dl></div></li><li class="step "><p>
     Choose the memory size and number of CPUs for the new virtual machine.
    </p></li><li class="step "><p>
     This step is omitted when <span class="guimenu">Import an Existing Image</span> is
     chosen in the first step.
    </p><p>
     Set up a virtual hard disk for the VM Guest. Either create a new disk
     image or choose an existing one from a storage pool (for more information,
     see <a class="xref" href="cha.libvirt.storage.html" title="Chapter 11. Managing Storage">Chapter 11, <em>Managing Storage</em></a>). If you choose to create a
     disk, a <code class="literal">qcow2</code> image will be created. By default, it is
     stored under <code class="filename">/var/lib/libvirt/images</code>.
    </p><p>
     Setting up a disk is optional. If you are running a live system directly
     from CD or DVD, for example, you can omit this step by deactivating
     <span class="guimenu">Enable Storage for this Virtual Machine</span>.
    </p></li><li class="step "><p>
     On the last screen of the wizard, specify the name for the virtual
     machine. To be offered the possibility to review and make changes to the
     virtualized hardware selection, activate <span class="guimenu">Customize configuration
     before install</span>. Find options to specify the network device under
     <span class="guimenu">Network Selection</span>.
    </p><p>
     Click <span class="guimenu">Finish</span>.
    </p></li><li class="step "><p><span class="step-optional">(Optional)</span> 
     If you kept the defaults in the previous step, the installation will now
     start. If you selected <span class="guimenu">Customize configuration before
     install</span>, a VM Guest configuration dialog opens. For more
     information about configuring VM Guests, see
     <a class="xref" href="cha.libvirt.config.html" title="Chapter 13. Configuring Virtual Machines">Chapter 13, <em>Configuring Virtual Machines</em></a>.
    </p><p>
     When you are done configuring, click <span class="guimenu">Begin
     Installation</span>.
    </p></li></ol></div></div><div id="tip.libvirt.inst.vmm.sticky" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Passing Key Combinations to Virtual Machines</h6><p>
    The installation starts in a Virtual Machine Manager console window. Some key combinations,
    such as <span class="keycap">Ctrl</span><span class="key-connector">–</span><span class="keycap">Alt</span><span class="key-connector">–</span><span class="keycap">F1</span>, are recognized by the VM Host Server but are not
    passed to the virtual machine. To bypass the VM Host Server, Virtual Machine Manager provides the
    <span class="quote">“<span class="quote">sticky key</span>”</span> functionality. Pressing
    <span class="keycap">Ctrl</span>, <span class="keycap">Alt</span>, or
    <span class="keycap">Shift</span> three times makes the key sticky, then you can
    press the remaining keys to pass the combination to the virtual machine.
   </p><p>
    For example, to pass <span class="keycap">Ctrl</span><span class="key-connector">–</span><span class="keycap">Alt</span><span class="key-connector">–</span><span class="keycap">F2</span> to a Linux virtual
    machine, press <span class="keycap">Ctrl</span> three times, then press
    <span class="keycap">Alt</span><span class="key-connector">–</span><span class="keycap">F2</span>. You
    can also press <span class="keycap">Alt</span> three times, then press <span class="keycap">Ctrl</span><span class="key-connector">–</span><span class="keycap">F2</span>.
   </p><p>
    The sticky key functionality is available in the Virtual Machine Manager during and after
    installing a VM Guest.
   </p></div></div><div class="sect1 " id="sec.libvirt.inst.virt-install"><div class="titlepage"><div><div><h2 class="title" id="sec.libvirt.inst.virt-install"><span class="number">8.2 </span><span class="name">Installing from the Command Line with <code class="command">virt-install</code></span> <a title="Permalink" class="permalink" href="cha.kvm.inst.html#sec.libvirt.inst.virt-install">#</a></h2></div></div></div><p>
   <code class="command">virt-install</code> is a command line tool that helps you create
   new virtual machines using the <code class="systemitem">libvirt</code> library. It is useful if you cannot
   use the graphical user interface, or need to automatize the process of
   creating virtual machines.
  </p><p>
   <code class="command">virt-install</code> is a complex script with a lot of command
   line switches. The following are required. For more information, see the man
   page of <code class="command">virt-install</code> (1).
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140661851254512"><span class="term ">General Options</span></dt><dd><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        <code class="option">--name <em class="replaceable ">VM_GUEST_NAME</em></code>:
        Specify the name of the new virtual machine. The name must be unique
        across all guests known to the hypervisor on the same connection. It is
        used to create and name the guest’s configuration file and you can
        access the guest with this name from <code class="command">virsh</code>.
        Alphanumeric and <code class="literal">_-.:+</code> characters are allowed.
       </p></li><li class="listitem "><p>
        <code class="option">--memory <em class="replaceable ">REQUIRED_MEMORY</em></code>:
        Specify the amount of memory to allocate for the new virtual machine in
        megabytes.
       </p></li><li class="listitem "><p>
        <code class="option">--vcpus <em class="replaceable ">NUMBER_OF_CPUS</em></code>:
        Specify the number of virtual CPUs. For best performance, the number of
        virtual processors should be less than or equal to the number of
        physical processors.
       </p></li></ul></div></dd><dt id="idm140661851245808"><span class="term ">Virtualization Type</span></dt><dd><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        <code class="option">--paravirt</code>: Set up a paravirtualized guest. This is
        the default if the VM Host Server supports paravirtualization and full
        virtualization.
       </p></li><li class="listitem "><p>
        <code class="option">--hvm</code>: Set up a fully virtualized guest.
       </p></li><li class="listitem "><p>
        <code class="option">--virt-type <em class="replaceable ">HYPERVISOR</em></code>:
        Specify the hypervisor. Supported values are <code class="literal">kvm</code>,
        <code class="literal">xen</code>, or <code class="literal">lxc</code>.
       </p></li></ul></div></dd><dt id="idm140661851237600"><span class="term ">Guest Storage</span></dt><dd><p>
      Specify one of <code class="option">--disk</code>, <code class="option">--filesystem</code> or
      <code class="option">--nodisks</code> the type of the storage for the new virtual
      machine. For example, <code class="option">--disk size=10</code> creates 10 GB disk
      in the default image location for the hypervisor and uses it for the
      VM Guest. <code class="option">--filesystem
      <em class="replaceable ">/export/path/on/vmhost</em></code> specifies the
      directory on the VM Host Server to be exported to the guest. And
      <code class="option">--nodisks</code> sets up a VM Guest without a local storage
      (good for Live CDs).
     </p></dd><dt id="idm140661851232720"><span class="term ">Installation Method</span></dt><dd><p>
      Specify the installation method using one of <code class="option">--location</code>,
      <code class="option">--cdrom</code>, <code class="option">--pxe</code>,
      <code class="option">--import</code>, or <code class="option">--boot </code>.
     </p></dd><dt id="idm140661851228656"><span class="term ">Accessing the Installation</span></dt><dd><p>
      Use the <code class="option">--graphics <em class="replaceable ">VALUE</em></code>
      option to specify how to access the installation. <span class="productname"><span class="phrase">openSUSE Leap</span></span> supports
      the values <code class="literal">vnc</code> or <code class="literal">none</code>.
     </p><p>
      If using vnc <code class="command">virt-install</code> tries to launch
      <code class="command">virt-viewer</code>. If it is not installed or cannot be run,
      connect to the VM Guest manually with you preferred viewer. To
      explicitly prevent <code class="command">virt-install</code> from launching the
      viewer use <code class="option">--noautoconsole</code>. To define a password for
      accessing the VNC session, use the following syntax: <code class="option">--graphics
      vnc,password=<em class="replaceable ">PASSWORD</em></code>.
     </p><p>
      In case you are using <code class="option">--graphics none</code>, you can access
      the VM Guest through operating system supported services, such as SSH or
      VNC. Refer to the operating system installation manual on how to set up
      these services in the installation system.
     </p></dd><dt id="idm140661851219888"><span class="term ">Enabling the Console</span></dt><dd><p>
      By default, the console is not enabled for new virtual machines installed
      using <code class="command">virt-install</code>. To enable it, use
      <code class="option">--extra-args="console=ttyS0 textmode=1"</code> as in the
      following example:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>virt-install --virt-type kvm --name sles12 --memory 1024 \
 --disk /var/lib/libvirt/images/disk1.qcow2 --os-variant sles12
 --extra-args="console=ttyS0 textmode=1" --graphics none</pre></div><p>
      After the installation finished, the
      <code class="filename">/etc/default/grub</code> file in the VM image will be
      updated with the <code class="option">console=ttyS0</code> option on the
      <code class="literal">GRUB_CMDLINE_LINUX_DEFAULT</code> line.
     </p></dd></dl></div><div class="complex-example"><div class="example" id="ex.libvirt.inst.virt-install.example"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 8.1: </span><span class="name">Example of a <code class="command">virt-install</code> command line </span><a title="Permalink" class="permalink" href="cha.kvm.inst.html#ex.libvirt.inst.virt-install.example">#</a></h6></div><div class="example-contents"><p>
    The following command line example creates a new SUSE Linux Enterprise Desktop 12 virtual machine
    with a virtio accelerated disk and network card. It creates a new 10 GB
    qcow2 disk image as a storage, the source installation media being the host
    CD-ROM drive. It will use VNC graphics, and it will auto-launch the
    graphical client.
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm140661851211088"><span class="term ">KVM</span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>virt-install --connect qemu:///system --virt-type kvm  --name sled12 \
--memory 1024 --disk size=10 --cdrom /dev/cdrom --graphics vnc \
--os-variant sled12</pre></div></dd><dt id="idm140661851208864"><span class="term ">Xen</span></dt><dd><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>virt-install --connect xen:// --virt-type xen  --name sled12 \
--memory 1024 --disk size=10 --cdrom /dev/cdrom --graphics vnc \
--os-variant sled12</pre></div></dd></dl></div></div></div></div></div><div class="sect1 " id="sec.libvirt.inst.advanced"><div class="titlepage"><div><div><h2 class="title" id="sec.libvirt.inst.advanced"><span class="number">8.3 </span><span class="name">Advanced Guest Installation Scenarios</span> <a title="Permalink" class="permalink" href="cha.kvm.inst.html#sec.libvirt.inst.advanced">#</a></h2></div></div></div><p>
   This section provides instructions for operations exceeding the scope of a
   normal installation, such as including modules and extensions packages.
  </p><div class="sect2 " id="cha.kvm.inst.virtman_advanced.addons"><div class="titlepage"><div><div><h3 class="title" id="cha.kvm.inst.virtman_advanced.addons"><span class="number">8.3.1 </span><span class="name">Including Add-on Products in the Installation</span> <a title="Permalink" class="permalink" href="cha.kvm.inst.html#cha.kvm.inst.virtman_advanced.addons">#</a></h3></div></div></div><p>
    Some operating systems such as <span class="productname"><span class="phrase">openSUSE Leap</span></span> offer to include add-on products in
    the installation process. In case the add-on product installation source is
    provided via network, no special VM Guest configuration is needed. If it
    is provided via CD/DVD or ISO image, it is necessary to provide the
    VM Guest installation system with both, the standard installation medium
    and an image for the add-on product.
   </p><p>
    In case you are using the GUI-based installation, select <span class="guimenu">Customize
    Configuration Before Install</span> in the last step of the wizard and
    add the add-on product ISO image via <span class="guimenu">Add
    Hardware</span> › <span class="guimenu">Storage</span>. Specify the
    path to the image and set the <span class="guimenu">Device Type</span> to
    <span class="guimenu">CD-ROM</span>.
   </p><p>
    If installing from the command line, you need to set up the virtual CD/DVD
    drives with the <code class="option">--disk</code> parameter rather than with
    <code class="option">--cdrom</code>. The device that is specified first is used for
    booting. The following example will install SUSE Linux Enterprise Server 12 plus SDK:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">tux &gt; </code>virt-install --name sles12+sdk --memory 1024 --disk size=10 \
--disk /virt/iso/SLES12.iso,device=cdrom \
--disk /virt/iso/SLES12_SDK.iso,device=cdrom \
--graphics vnc --os-variant sles12</pre></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.libvirt.managing.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 9 </span>Basic VM Guest Management</span></a><a class="nav-link" href="cha.libvirt.overview.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 7 </span>Starting and Stopping <code class="systemitem">libvirtd</code></span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p></div></div></body></html>