<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Gathering System Information for Support | Administration Guide | SUSE Linux Enterprise Server 12 SP2</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 2.4.0 using SUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise Server" /><meta name="product-number" content="12 SP2" /><meta name="book-title" content="Administration Guide" /><meta name="chapter-title" content="Chapter 37. Gathering System Information for Support" /><meta name="description" content="For a quick overview of all relevant system information of a machine, SUSE Linux Enterprise Server offers the hostinfo package. It also helps system administrators to check for tainted Kernels (that are not supported) or any third-party packages installed on a machine. In case of problems, a detailed system report may be created with either the supportconfig command line tool or the YaST Support module. Both will collect information about the system such as: current Kernel version, hardware, installed packages, partition setup, and much more. The result is a TAR archive of files. After opening a Service Request (SR), you can upload the TAR archive to Global Technical Support. It will help to locate the issue you reported and to assist you in solving the problem. Additionally, you can analyze the supportconfig output for known issues to help resolve problems faster. For this purpose, SUSE Linux Enterprise Server provides both an appliance and a command line tool for Supportconfig Analysis (SCA)." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP2" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Server Documentation" /><link rel="up" href="part.trouble.html" title="Part V. Troubleshooting" /><link rel="prev" href="cha.adminhelp.html" title="Chapter 36. Help and Documentation" /><link rel="next" href="cha.trouble.html" title="Chapter 38. Common Problems and Their Solutions" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.sle.admin.html">Administration Guide</a><span> › </span><a class="crumb" href="part.trouble.html">Troubleshooting</a><span> › </span><a class="crumb" href="cha.adm.support.html">Gathering System Information for Support</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Administration Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="pre.sle.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="part.administration.html"><span class="number">I </span><span class="name">Common Tasks</span></a><ol><li class="inactive"><a href="cha.adm.shell.html"><span class="number">1 </span><span class="name">Bash and Bash Scripts</span></a></li><li class="inactive"><a href="cha.adm.sudo.html"><span class="number">2 </span><span class="name">sudo
</span></a></li><li class="inactive"><a href="cha.onlineupdate.you.html"><span class="number">3 </span><span class="name">YaST Online Update</span></a></li><li class="inactive"><a href="cha.yast.text.html"><span class="number">4 </span><span class="name">YaST in Text Mode</span></a></li><li class="inactive"><a href="cha.sw_cl.html"><span class="number">5 </span><span class="name">Managing Software with Command Line Tools</span></a></li><li class="inactive"><a href="cha.snapper.html"><span class="number">6 </span><span class="name">System Recovery and Snapshot Management with Snapper</span></a></li><li class="inactive"><a href="cha.vnc.html"><span class="number">7 </span><span class="name">Remote Access with VNC</span></a></li><li class="inactive"><a href="cha.net.sync.html"><span class="number">8 </span><span class="name">File Synchronization</span></a></li></ol></li><li class="inactive"><a href="part.system.html"><span class="number">II </span><span class="name">System</span></a><ol><li class="inactive"><a href="cha.64bit.html"><span class="number">9 </span><span class="name">32-Bit and 64-Bit Applications in a 64-Bit System Environment</span></a></li><li class="inactive"><a href="cha.boot.html"><span class="number">10 </span><span class="name">Booting a Linux System</span></a></li><li class="inactive"><a href="cha.grub2.html"><span class="number">11 </span><span class="name">The Boot Loader GRUB 2</span></a></li><li class="inactive"><a href="cha.uefi.html"><span class="number">12 </span><span class="name">UEFI (Unified Extensible Firmware Interface)</span></a></li><li class="inactive"><a href="cha.systemd.html"><span class="number">13 </span><span class="name">The <code class="systemitem">systemd</code> Daemon</span></a></li><li class="inactive"><a href="cha.journalctl.html"><span class="number">14 </span><span class="name"><code class="command">journalctl</code>: Query the <code class="systemitem">systemd</code> Journal</span></a></li><li class="inactive"><a href="cha.basicnet.html"><span class="number">15 </span><span class="name">Basic Networking</span></a></li><li class="inactive"><a href="cha.p.html"><span class="number">16 </span><span class="name">Printer Operation</span></a></li><li class="inactive"><a href="cha.x11.html"><span class="number">17 </span><span class="name">The X Window System</span></a></li><li class="inactive"><a href="cha.fuse.html"><span class="number">18 </span><span class="name">Accessing File Systems with FUSE</span></a></li><li class="inactive"><a href="cha.udev.html"><span class="number">19 </span><span class="name">Dynamic Kernel Device Management with <code class="systemitem">udev</code></span></a></li><li class="inactive"><a href="cha.kgraft.html"><span class="number">20 </span><span class="name">Live Patching the Linux Kernel Using kGraft</span></a></li><li class="inactive"><a href="cha.suse.html"><span class="number">21 </span><span class="name">Special System Features</span></a></li></ol></li><li class="inactive"><a href="part.services.html"><span class="number">III </span><span class="name">Services</span></a><ol><li class="inactive"><a href="cha.netz.xntp.html"><span class="number">22 </span><span class="name">Time Synchronization with NTP</span></a></li><li class="inactive"><a href="cha.dns.html"><span class="number">23 </span><span class="name">The Domain Name System</span></a></li><li class="inactive"><a href="cha.dhcp.html"><span class="number">24 </span><span class="name">DHCP</span></a></li><li class="inactive"><a href="cha.nfs.html"><span class="number">25 </span><span class="name">Sharing File Systems with NFS</span></a></li><li class="inactive"><a href="cha.samba.html"><span class="number">26 </span><span class="name">Samba</span></a></li><li class="inactive"><a href="cha.autofs.html"><span class="number">27 </span><span class="name">On-Demand Mounting with Autofs</span></a></li><li class="inactive"><a href="cha.slp.html"><span class="number">28 </span><span class="name">SLP</span></a></li><li class="inactive"><a href="cha.apache2.html"><span class="number">29 </span><span class="name">The Apache HTTP Server</span></a></li><li class="inactive"><a href="cha.ftp.html"><span class="number">30 </span><span class="name">Setting Up an FTP Server with YaST</span></a></li><li class="inactive"><a href="cha.squid.html"><span class="number">31 </span><span class="name">The Proxy Server Squid</span></a></li><li class="inactive"><a href="cha.wbem.html"><span class="number">32 </span><span class="name">Web Based Enterprise Management Using SFCB</span></a></li></ol></li><li class="inactive"><a href="part.mobile.html"><span class="number">IV </span><span class="name">Mobile Computers</span></a><ol><li class="inactive"><a href="cha.mobile.html"><span class="number">33 </span><span class="name">Mobile Computing with Linux</span></a></li><li class="inactive"><a href="cha.nm.html"><span class="number">34 </span><span class="name">Using NetworkManager</span></a></li><li class="inactive"><a href="cha.pmanage.html"><span class="number">35 </span><span class="name">Power Management</span></a></li></ol></li><li class="inactive"><a href="part.trouble.html"><span class="number">V </span><span class="name">Troubleshooting</span></a><ol><li class="inactive"><a href="cha.adminhelp.html"><span class="number">36 </span><span class="name">Help and Documentation</span></a></li><li class="inactive"><a href="cha.adm.support.html"><span class="number">37 </span><span class="name">Gathering System Information for Support</span></a></li><li class="inactive"><a href="cha.trouble.html"><span class="number">38 </span><span class="name">Common Problems and Their Solutions</span></a></li></ol></li><li class="inactive"><a href="app.admin.docupdates.html"><span class="number">A </span><span class="name">Documentation Updates</span></a></li><li class="inactive"><a href="app.nwscheme.html"><span class="number">B </span><span class="name">An Example Network</span></a></li><li class="inactive"><a href="bk01apc.html"><span class="number">C </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 36. Help and Documentation" href="cha.adminhelp.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 38. Common Problems and Their Solutions" href="cha.trouble.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.sle.admin.html">Administration Guide</a><span> › </span><a class="crumb" href="part.trouble.html">Troubleshooting</a><span> › </span><a class="crumb" href="cha.adm.support.html">Gathering System Information for Support</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 36. Help and Documentation" href="cha.adminhelp.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 38. Common Problems and Their Solutions" href="cha.trouble.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.adm.support"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">12 SP2</span></span></span></div><div><h2 class="title"><span class="number">37 </span><span class="name">Gathering System Information for Support</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>adm_support.xml</li><li><span class="ds-label">ID: </span>cha.adm.support</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha.adm.support.html#idm139674641829440">#</a></h6></div><p>
    For a quick overview of all relevant system information of a machine,
    <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> offers the
    <code class="systemitem">hostinfo</code> package. It also helps
    system administrators to check for tainted Kernels (that are not supported)
    or any third-party packages installed on a machine.
   </p><p>
    In case of problems, a detailed system report may be created with either
    the <code class="command">supportconfig</code> command line tool or the YaST
    <span class="guimenu">Support</span> module. Both will collect information about the
    system such as: current Kernel version, hardware, installed packages,
    partition setup, and much more. The result is a TAR archive of files. After
    opening a Service Request (SR), you can upload the TAR archive to Global
    Technical Support. It will help to locate the issue you reported and to
    assist you in solving the problem.
   </p><p>
    Additionally, you can analyze the <code class="command">supportconfig</code> output
    for known issues to help resolve problems faster. For this purpose,
    <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> provides both an appliance and a command line tool for
    <code class="literal">Supportconfig Analysis</code> (SCA).
   </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.adm.support.html#sec.admsupport.hostinfo"><span class="number">37.1 </span><span class="name">Displaying Current System Information</span></a></span></dt><dt><span class="sect1"><a href="cha.adm.support.html#sec.admsupport.supportconfig"><span class="number">37.2 </span><span class="name">Collecting System Information with Supportconfig</span></a></span></dt><dt><span class="sect1"><a href="cha.adm.support.html#sec.admsupport.submit"><span class="number">37.3 </span><span class="name">Submitting Information to Global Technical Support</span></a></span></dt><dt><span class="sect1"><a href="cha.adm.support.html#sec.admsupport.sca"><span class="number">37.4 </span><span class="name">Analyzing System Information</span></a></span></dt><dt><span class="sect1"><a href="cha.adm.support.html#sec.admsupport.install"><span class="number">37.5 </span><span class="name">Gathering Information During the Installation</span></a></span></dt><dt><span class="sect1"><a href="cha.adm.support.html#sec.admsupport.kernel"><span class="number">37.6 </span><span class="name">Support of Kernel Modules</span></a></span></dt><dt><span class="sect1"><a href="cha.adm.support.html#sec.admsupport.moreinfo"><span class="number">37.7 </span><span class="name">For More Information</span></a></span></dt></dl></div></div><a id="idm139674641820576" class="indexterm"></a><a id="idm139674641820000" class="indexterm"></a><div class="sect1 " id="sec.admsupport.hostinfo"><div class="titlepage"><div><div><h2 class="title" id="sec.admsupport.hostinfo"><span class="number">37.1 </span><span class="name">Displaying Current System Information</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.hostinfo">#</a></h2></div></div></div><p>
   For a quick and easy overview of all relevant system information when
   logging in to a server, use the package
   <code class="systemitem">hostinfo</code>. After it has been
   installed on a machine, the console displays the following information to
   any <code class="systemitem">root</code> user that logs in to this machine:
  </p><div class="example" id="ex.support.hostinfo"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 37.1: </span><span class="name">Output of <code class="command">hostinfo</code> When Logging In as <code class="systemitem">root</code> </span><a title="Permalink" class="permalink" href="cha.adm.support.html#ex.support.hostinfo">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">Hostname:                 earth
Current As Of:            Wed 12 Mar 2014 03:57:05 PM CET
Distribution:             SUSE Linux Enterprise Server 12
 -Service Pack:           0
Architecture:             x86_64
Kernel Version:           3.12.12-3-default
 -Installed:              Mon 10 Mar 2014 03:15:05 PM CET
 -Status:                 Not Tainted
Last Updated Package:     Wed 12 Mar 2014 03:56:43 PM CET
 -Patches Needed:         0
 -Security:               0
 -3rd Party Packages:     0
IPv4 Address:             ens3 192.168.1.1
Total/Free/+Cache Memory: 983/95/383 MB (38% Free)
Hard Disk:                /dev/sda 10 GB</pre></div></div></div><p>
   In case the output shows a <code class="literal">tainted</code> Kernel status, see
   <a class="xref" href="cha.adm.support.html#sec.admsupport.kernel" title="37.6. Support of Kernel Modules">Section 37.6, “Support of Kernel Modules”</a> for more details.
  </p></div><div class="sect1 " id="sec.admsupport.supportconfig"><div class="titlepage"><div><div><h2 class="title" id="sec.admsupport.supportconfig"><span class="number">37.2 </span><span class="name">Collecting System Information with Supportconfig</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.supportconfig">#</a></h2></div></div></div><p>
   To create a TAR archive with detailed system information that you can hand
   over to Global Technical Support, use either the
   <code class="command">supportconfig</code> command line tool directly or the YaST
   <span class="guimenu">Support</span> module. The command line tool is provided by the
   package <code class="systemitem">supportutils</code> which is installed by default.
   The YaST <span class="guimenu">Support</span> module is also based on the command
   line tool.
  </p><div class="sect2 " id="sec.admsupport.supportconfig.sr"><div class="titlepage"><div><div><h3 class="title" id="sec.admsupport.supportconfig.sr"><span class="number">37.2.1 </span><span class="name">Creating a Service Request Number</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.supportconfig.sr">#</a></h3></div></div></div><p>
    Supportconfig archives can be generated at any time. However, for
    handing over the supportconfig data to Global Technical Support, you need
    to generate a service request number first. You will need it to upload the
    archive to support.
   </p><p>
    To create a service request, go to
    <a class="link" href="http://www.novell.com/center/eservice" target="_blank">http://www.novell.com/center/eservice</a> and follow the
    instructions on the screen. Write down your 11-digit service request
    number.
   </p><div id="idm139674641804160" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Privacy Statement</h6><p>
     SUSE and Novell treat system reports as confidential data. For details
     about our privacy commitment, see
     <a class="link" href="http://www.novell.com/company/legal/privacy/" target="_blank">http://www.novell.com/company/legal/privacy/</a>.
    </p></div></div><div class="sect2 " id="sec.admsupport.supportconfig.upload"><div class="titlepage"><div><div><h3 class="title" id="sec.admsupport.supportconfig.upload"><span class="number">37.2.2 </span><span class="name">Upload Targets</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.supportconfig.upload">#</a></h3></div></div></div><p>
    After having created a service request number, you can upload your
    supportconfig archives to Global Technical Support as described in
    <a class="xref" href="cha.adm.support.html#pro.admsupport.submit.yast" title="Submitting Information to Support with YaST">Procedure 37.1, “Submitting Information to Support with YaST”</a> or
    <a class="xref" href="cha.adm.support.html#pro.admsupport.submit.cli" title="Submitting Information to Support from Command Line">Procedure 37.2, “Submitting Information to Support from Command Line”</a>. Use one of the following
    upload targets:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      US customers: <a class="link" href="ftp://ftp.novell.com/incoming" target="_blank">ftp://ftp.novell.com/incoming</a>
     </p></li><li class="listitem "><p>
      EMEA, Europe, the Middle East, and Africa:
      <a class="link" href="ftp://support-ftp.suse.com/in" target="_blank">ftp://support-ftp.suse.com/in</a>
     </p></li></ul></div><p>
    Alternatively, you can manually attach the TAR archive to your service
    request using the service request URL:
    <a class="link" href="http://www.novell.com/center/eservice" target="_blank">http://www.novell.com/center/eservice</a>.
   </p></div><div class="sect2 " id="sec.admsupport.yast"><div class="titlepage"><div><div><h3 class="title" id="sec.admsupport.yast"><span class="number">37.2.3 </span><span class="name">Creating a Supportconfig Archive with YaST</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.yast">#</a></h3></div></div></div><p>
    To use YaST to gather your system information, proceed as follows:
    
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Start YaST and open the <span class="guimenu">Support</span> module.
     </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/yast2-support-main.png"><img src="images/yast2-support-main.png" width="" /></a></div></div></li><li class="step "><p>
      Click <span class="guimenu">Create report tarball</span>.
     </p></li><li class="step "><p>
      In the next window, select one of the supportconfig options from the
      radio button list. <span class="guimenu">Use Custom (Expert) Settings</span> is
      preselected by default. If you want to test the report function first,
      use <span class="guimenu">Only gather a minimum amount of info</span>. For some
      background information on the other options, refer to the
      <code class="command">supportconfig</code> man page.
     </p><p>
      Proceed with <span class="guimenu">Next</span>.
     </p></li><li class="step " id="step.supportconfig.contact"><p>
      Enter your contact information. It will be written to a file called
      <code class="filename">basic-environment.txt</code> and included in the archive to
      be created.
     </p></li><li class="step " id="step.supportconfig.upload.target"><p>
      If you want to submit the archive to Global Technical Support at the end
      of the information collection process, <span class="guimenu">Upload
      Information</span> is required. YaST automatically proposes an
      upload server. If you want to modify it, refer to
      <a class="xref" href="cha.adm.support.html#sec.admsupport.supportconfig.upload" title="37.2.2. Upload Targets">Section 37.2.2, “Upload Targets”</a> for details of
      which upload servers are available.
     </p><p>
      If you want to submit the archive later on, you can leave the
      <span class="guimenu">Upload Information</span> empty for now.
     </p></li><li class="step "><p>
      Proceed with <span class="guimenu">Next</span>.
     </p></li><li class="step "><p>
      The information gathering begins.
     </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/yast2-support-conf.png"><img src="images/yast2-support-conf.png" width="" /></a></div></div><p>
      After the process is finished, continue with <span class="guimenu">Next</span>.
     </p></li><li class="step "><p>
      Review the data collection: Select the <span class="guimenu">File Name</span> of a
      log file to view its contents in YaST. To remove any files you want
      excluded from the TAR archive before submitting it to support, use
      <span class="guimenu">Remove from Data</span>. Continue with
      <span class="guimenu">Next</span>.
     </p></li><li class="step "><p>
      Save the TAR archive. If you started the YaST module as <code class="systemitem">root</code>
      user, by default YaST proposes to save the archive to
      <code class="filename">/var/log</code> (otherwise, to your home directory). The
      file name format is
      <code class="filename">nts_<em class="replaceable ">HOST</em>_<em class="replaceable ">DATE</em>_<em class="replaceable ">TIME</em>.tbz</code>.
     </p></li><li class="step "><p>
      If you want to upload the archive to support directly, make sure
      <span class="guimenu">Upload log files tarball to URL</span> is activated. The
      <span class="guimenu">Upload Target</span> shown here is the one that YaST
      proposes in <a class="xref" href="cha.adm.support.html#step.supportconfig.upload.target" title="Step 5">Step 5</a>. If you
      want to modify the upload target, find detailed information of which
      upload servers are available in
      <a class="xref" href="cha.adm.support.html#sec.admsupport.supportconfig.upload" title="37.2.2. Upload Targets">Section 37.2.2, “Upload Targets”</a>.
     </p></li><li class="step "><p>
      If you want to skip the upload, deactivate <span class="guimenu">Upload log files
      tarball to URL</span>.
     </p></li><li class="step "><p>
      Confirm your changes to close the YaST module.
     </p></li></ol></div></div></div><div class="sect2 " id="sec.admsupport.cli"><div class="titlepage"><div><div><h3 class="title" id="sec.admsupport.cli"><span class="number">37.2.4 </span><span class="name">Creating a Supportconfig Archive from Command Line</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.cli">#</a></h3></div></div></div><p>
    The following procedure shows how to create a supportconfig archive, but
    without submitting it to support directly. For uploading it, you need to
    run the command with certain options as described in
    <a class="xref" href="cha.adm.support.html#pro.admsupport.submit.cli" title="Submitting Information to Support from Command Line">Procedure 37.2, “Submitting Information to Support from Command Line”</a>.
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Open a shell and become <code class="systemitem">root</code>.
     </p></li><li class="step "><p>
      Run <code class="command">supportconfig</code> without any options. This gathers
      the default system information.
     </p></li><li class="step "><p>
      Wait for the tool to complete the operation.
     </p></li><li class="step "><p>
      The default archive location is <code class="filename">/var/log</code>, with the
      file name format being
      <code class="filename">nts_<em class="replaceable ">HOST</em>_<em class="replaceable ">DATE</em>_<em class="replaceable ">TIME</em>.tbz</code>
     </p></li></ol></div></div></div><div class="sect2 " id="sec.admsupport.options"><div class="titlepage"><div><div><h3 class="title" id="sec.admsupport.options"><span class="number">37.2.5 </span><span class="name">Common Supportconfig Options</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.options">#</a></h3></div></div></div><p>
    The <code class="command">supportconfig</code> utility is usually called without any
    options. Display a list of all options with
    <code class="command">supportconfig</code> <code class="option">-h</code> or refer to the man
    page. The following list gives a brief overview of some common use cases:
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm139674641741152"><span class="term ">Reducing the Size of the Information Being Gathered</span></dt><dd><p>
       Use the minimal option (<code class="option">-m</code>):
      </p><div class="verbatim-wrap"><pre class="screen">supportconfig -m</pre></div></dd><dt id="idm139674641738416"><span class="term ">Limiting the Information to a Specific Topic</span></dt><dd><p>
       If you have already localized a problem with the default
       <code class="command">supportconfig</code> output and have found that it relates
       to a specific area or feature set only, you should limit the collected
       information to the specific area for the next
       <code class="command">supportconfig</code> run. For example, if you detected
       problems with LVM and want to test a recent change that you did to the
       LVM configuration, it makes sense to gather the minimum supportconfig
       information around LVM only:
      </p><div class="verbatim-wrap"><pre class="screen">supportconfig -i LVM</pre></div><p>
       For a complete list of feature keywords that you can use for limiting
       the collected information to a specific area, run
      </p><div class="verbatim-wrap"><pre class="screen">supportconfig -F</pre></div></dd><dt id="idm139674641733776"><span class="term ">Including Additional Contact Information in the Output:</span></dt><dd><div class="verbatim-wrap"><pre class="screen">supportconfig -E tux@example.org -N "Tux Penguin" -O "Penguin Inc." ...</pre></div><p>
       (all in one line)
      </p></dd><dt id="idm139674641731440"><span class="term ">Collecting Already Rotated Log Files</span></dt><dd><div class="verbatim-wrap"><pre class="screen">supportconfig -l</pre></div><p>
       This is especially useful in high logging environments or after a Kernel
       crash when syslog rotates the log files after a reboot.
      </p></dd></dl></div></div></div><div class="sect1 " id="sec.admsupport.submit"><div class="titlepage"><div><div><h2 class="title" id="sec.admsupport.submit"><span class="number">37.3 </span><span class="name">Submitting Information to Global Technical Support</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.submit">#</a></h2></div></div></div><p>
   Use the YaST <span class="guimenu">Support</span> module or the
   <code class="command">supportconfig</code> command line utility to submit system
   information to the Global Technical Support. When you experience a server
   issue and want the support's assistance, you will need to open a service
   request first. For details, see
   <a class="xref" href="cha.adm.support.html#sec.admsupport.supportconfig.sr" title="37.2.1. Creating a Service Request Number">Section 37.2.1, “Creating a Service Request Number”</a>.
  </p><p>
   The following examples use <em class="replaceable ">12345678901</em> as a
   placeholder for your service request number. Replace
   <em class="replaceable ">12345678901</em> with the service request number you
   created in <a class="xref" href="cha.adm.support.html#sec.admsupport.supportconfig.sr" title="37.2.1. Creating a Service Request Number">Section 37.2.1, “Creating a Service Request Number”</a>.
  </p><div class="procedure " id="pro.admsupport.submit.yast"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 37.1: </span><span class="name">Submitting Information to Support with YaST </span><a title="Permalink" class="permalink" href="cha.adm.support.html#pro.admsupport.submit.yast">#</a></h6></div><div class="procedure-contents"><p>
    The following procedure assumes that you have already created a
    supportconfig archive, but have not uploaded it yet. Make sure to have
    included your contact information in the archive as described in
    <a class="xref" href="cha.adm.support.html#sec.admsupport.yast" title="37.2.3. Creating a Supportconfig Archive with YaST">Section 37.2.3, “Creating a Supportconfig Archive with YaST”</a>,
    <a class="xref" href="cha.adm.support.html#step.supportconfig.contact" title="Step 4">Step 4</a>.
    For instructions on how to generate and submit a supportconfig archive in
    one go, see <a class="xref" href="cha.adm.support.html#sec.admsupport.yast" title="37.2.3. Creating a Supportconfig Archive with YaST">Section 37.2.3, “Creating a Supportconfig Archive with YaST”</a>.
   </p><ol class="procedure" type="1"><li class="step "><p>
     Start YaST and open the <span class="guimenu">Support</span> module.
    </p></li><li class="step "><p>
     Click <span class="guimenu">Upload</span>.
    </p></li><li class="step "><p>
     In <span class="guimenu">Package with log files</span> specify the path to the
     existing supportconfig archive or <span class="guimenu">Browse</span> for it.
    </p></li><li class="step " id="step.supportcfg.submit.upltarget"><p>
     YaST automatically proposes an upload server. If you want to modify it,
     refer to <a class="xref" href="cha.adm.support.html#sec.admsupport.supportconfig.upload" title="37.2.2. Upload Targets">Section 37.2.2, “Upload Targets”</a> for details
     of which upload servers are available.
    </p><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/yast2-support-conf-upload.png"><img src="images/yast2-support-conf-upload.png" width="" /></a></div></div><p>
     
     Proceed with <span class="guimenu">Next</span>.
    </p></li><li class="step "><p>
     Click <span class="guimenu">Finish</span>.
    </p></li></ol></div></div><div class="procedure " id="pro.admsupport.submit.cli"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 37.2: </span><span class="name">Submitting Information to Support from Command Line </span><a title="Permalink" class="permalink" href="cha.adm.support.html#pro.admsupport.submit.cli">#</a></h6></div><div class="procedure-contents"><p>
    The following procedure assumes that you have already created a
    supportconfig archive, but have not uploaded it yet. For instructions on
    how to generate and submit a supportconfig archive in one go, see
    <a class="xref" href="cha.adm.support.html#sec.admsupport.yast" title="37.2.3. Creating a Supportconfig Archive with YaST">Section 37.2.3, “Creating a Supportconfig Archive with YaST”</a>.
   </p><ol class="procedure" type="1"><li class="step "><p>
     Servers with Internet connectivity:
    </p><ol type="a" class="substeps "><li class="step "><p>
       To use the default upload target, run:
      </p><div class="verbatim-wrap"><pre class="screen">supportconfig -ur <em class="replaceable ">12345678901</em></pre></div></li><li class="step "><p>
       For the secure upload target, use the following:
      </p><div class="verbatim-wrap"><pre class="screen">supportconfig -ar <em class="replaceable ">12345678901</em></pre></div></li></ol></li><li class="step "><p>
     Servers <span class="emphasis"><em>without</em></span> Internet connectivity
    </p><ol type="a" class="substeps "><li class="step "><p>
       Run the following:
      </p><div class="verbatim-wrap"><pre class="screen">supportconfig -r <em class="replaceable ">12345678901</em></pre></div></li><li class="step "><p>
       Manually upload the
       <code class="filename">/var/log/nts_<em class="replaceable ">SR12345678901</em>*tbz</code>
       archive to one of our FTP servers. Which one to use depends on your
       location in the world. For an overview, see
       <a class="xref" href="cha.adm.support.html#sec.admsupport.supportconfig.upload" title="37.2.2. Upload Targets">Section 37.2.2, “Upload Targets”</a>.
      </p></li></ol></li><li class="step "><p>
     After the TAR archive arrives in the incoming directory of our FTP server,
     it becomes automatically attached to your service request.
    </p></li></ol></div></div></div><div class="sect1 " id="sec.admsupport.sca"><div class="titlepage"><div><div><h2 class="title" id="sec.admsupport.sca"><span class="number">37.4 </span><span class="name">Analyzing System Information</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca">#</a></h2></div></div></div><p>
   System reports created with <code class="command">supportconfig</code> can be analyzed
   for known issues to help resolve problems faster. For this purpose,
   <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> provides both an appliance and a command line tool for
   <code class="literal">Supportconfig Analysis</code> (SCA). The SCA appliance is a
   server-side tool which is non-interactive. The SCA tool
   (<code class="command">scatool</code>) runs on the client-side and is executed from
   command line. Both tools analyze supportconfig archives from affected
   servers. The initial server analysis takes place on the SCA appliance or the
   workstation on which scatool is running. No analysis cycles happen on the
   production server.
  </p><p>
   Both the appliance and the command line tool additionally need
   product-specific patterns that enable them to analyze the supportconfig
   output for the associated products. Each pattern is a script that parses and
   evaluates a supportconfig archive for one known issue. The patterns are
   available as RPM packages.
  </p><p>
   For example, if you want to analyze supportconfig archives that have been
   generated on a SUSE Linux Enterprise 11 machine, you need to install the package
   <code class="systemitem">sca-patterns-sle11</code> together with
   the SCA tool (or on the machine that you want to use as the SCA appliance
   server). To analyze supportconfig archives generated on a SUSE Linux Enterprise 10 machine,
   you need the package
   <code class="systemitem">sca-patterns-sle10</code>.
  </p><p>
   You can also develop your own patterns as briefly described in
   <a class="xref" href="cha.adm.support.html#sec.admsupport.sca.patterns" title="37.4.3. Developing Custom Analysis Patterns">Section 37.4.3, “Developing Custom Analysis Patterns”</a>.
  </p><div class="sect2 " id="sec.admsupport.sca.tool"><div class="titlepage"><div><div><h3 class="title" id="sec.admsupport.sca.tool"><span class="number">37.4.1 </span><span class="name">SCA Command Line Tool</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.tool">#</a></h3></div></div></div><p>
    The SCA command line tool lets you analyze a local machine using both
    <code class="command">supportconfig</code> and the analysis patterns for the specific
    product that is installed on the local machine. The tool creates an HTML
    report showing its analysis results. For an example, see
    <a class="xref" href="cha.adm.support.html#fig.scatool.html" title="HTML Report Generated by SCA Tool">Figure 37.1, “HTML Report Generated by SCA Tool”</a>.
   </p><div class="figure" id="fig.scatool.html"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/sca_tool_report_html.png"><img src="images/sca_tool_report_html.png" width="" alt="HTML Report Generated by SCA Tool" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 37.1: </span><span class="name">HTML Report Generated by SCA Tool </span><a title="Permalink" class="permalink" href="cha.adm.support.html#fig.scatool.html">#</a></h6></div></div><p>
    The <code class="command">scatool</code> command is provided by the
    <code class="systemitem">sca-server-report</code> package. It is
    not installed by default. Additionally, you need the
    <code class="systemitem">sca-patterns-base</code> package and any
    of the product-specific
    <code class="systemitem">sca-patterns-*</code> packages that
    matches the product installed on the machine where you want to run the
    <code class="command">scatool</code> command.
   </p><p>
    Execute the <code class="command">scatool</code> command either as <code class="systemitem">root</code> user or
    with <code class="command">sudo</code>. When calling the SCA tool, you can either
    analyze an existing <code class="command">supportconfig</code> TAR archive or you can
    let it generate and analyze a new archive in one go. The tool also provides
    an interactive console (with tab completion) and the possibility to run
    <code class="command">supportconfig</code> on an external machine and to execute the
    subsequent analysis on the local machine.
   </p><p>
    Find some example commands below:
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm139674641665632"><span class="term "><code class="command">sudo scatool</code><code class="option">-s</code>
     </span></dt><dd><p>
       Calls <code class="command">supportconfig</code> and generates a new supportconfig
       archive on the local machine. Analyzes the archive for known issues by
       applying the SCA analysis patterns that match the installed product.
       Displays the path to the HTML report that is generated from the results
       of the analysis. It is usually written to the same directory where the
       supportconfig archive can be found.
      </p></dd><dt id="idm139674641662432"><span class="term "><code class="command">sudo scatool </code><code class="option">-s</code> <code class="option">-o</code> <em class="replaceable ">/opt/sca/reports/</em> 
     </span></dt><dd><p>
       Same as <code class="command">sudo scatool</code> <code class="option">-s</code>, only that
       the HTML report is written to the path specified with
       <code class="option">-o</code>.
      </p></dd><dt id="idm139674641657760"><span class="term "><code class="command">sudo scatool </code><code class="option">-a</code> <em class="replaceable ">PATH_TO_TARBALL_OR_DIR</em> 
     </span></dt><dd><p>
       Analyzes the specified supportconfig archive file (or the specified
       directory to where the supportconfig archive has been extracted). The
       generated HTML report is saved in the same location as the supportconfig
       archive or directory.
      </p></dd><dt id="idm139674641654688"><span class="term "><code class="command">sudo scatool </code><code class="option">-a</code> <em class="replaceable ">sles_server.company.com</em> 
     </span></dt><dd><p>
       Establishes an SSH connection to an external server
       <em class="replaceable ">sles_server.company.com</em> and runs
       <code class="command">supportconfig</code> on the server. The supportconfig
       archive is then copied back to the local machine and is analyzed there.
       The generated HTML report is saved to the default
       <code class="filename">/var/log</code> directory. (Only the supportconfig archive
       is created on <em class="replaceable ">sles_server.company.com</em>).
      </p></dd><dt id="idm139674641649824"><span class="term "><code class="command">sudo scatool</code><code class="option">-c</code>
     </span></dt><dd><p>
       Starts the interactive console for <code class="command">scatool</code>. Press
       <span class="keycap">→|</span> twice to see the available commands.
      </p></dd></dl></div><p>
    For further options and information, run <code class="command">sudo scatool -h</code>
    or see the <code class="command">scatool</code> man page.
   </p></div><div class="sect2 " id="sec.admsupport.sca.appliance"><div class="titlepage"><div><div><h3 class="title" id="sec.admsupport.sca.appliance"><span class="number">37.4.2 </span><span class="name">SCA Appliance</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance">#</a></h3></div></div></div><p>
    If you decide to use the SCA appliance for analyzing the supportconfig
    archives, you need to configure a dedicated server (or virtual machine) as
    the SCA appliance server. The SCA appliance server can then be used to
    analyze supportconfig archives from all machines in your enterprise running
    SUSE Linux Enterprise Server or SUSE Linux Enterprise Desktop. You can simply upload supportconfig archives to the
    appliance server for analysis. Interaction is not required. In a MariaDB
    database, the SCA appliance keeps track of all supportconfig archives that
    have been analyzed . You can read the SCA reports directly from the
    appliance Web interface. Alternatively, you can have the appliance send the
    HTML report to any administrative user via e-mail. For details, see
    <a class="xref" href="cha.adm.support.html#sec.admsupport.sca.appliance.config.mail" title="37.4.2.5.4. Sending SCA Reports via E-Mail">Section 37.4.2.5.4, “Sending SCA Reports via E-Mail”</a>.
   </p><div class="sect3 " id="sec.admsupport.sca.appliance.installquick"><div class="titlepage"><div><div><h4 class="title" id="sec.admsupport.sca.appliance.installquick"><span class="number">37.4.2.1 </span><span class="name">Installation Quick Start</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.installquick">#</a></h4></div></div></div><p>
     To install and set up the SCA appliance in a very fast way from the
     command line, follow the instructions here. The procedure is intended for
     experts and focuses on the bare installation and setup commands. For more
     information, refer to the more detailed description in
     <a class="xref" href="cha.adm.support.html#sec.admsupport.sca.appliance.pre" title="37.4.2.2. Prerequisites">Section 37.4.2.2, “Prerequisites”</a> to
     <a class="xref" href="cha.adm.support.html#sec.admsupport.sca.appliance.install" title="37.4.2.3. Installation and Basic Setup">Section 37.4.2.3, “Installation and Basic Setup”</a>.
    </p><div class="itemizedlist "><div class="itemizedlist-title-wrap"><h6 class="itemizedlist-title"><span class="name">Prerequisites </span><a title="Permalink" class="permalink" href="cha.adm.support.html#idm139674641638448">#</a></h6></div><ul class="itemizedlist"><li class="listitem "><p>
       Web and LAMP Pattern
      </p></li><li class="listitem "><p>
       Web and Scripting Module (you must register the machine to be able to
       select this module).
      </p></li></ul></div><div id="idm139674641635104" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: <code class="systemitem">root</code> Privileges Required</h6><p>
      All commands in the following procedure must be run as <code class="systemitem">root</code>.
     </p></div><div class="procedure " id="idm139674641632432"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 37.3: </span><span class="name">Installation Using Anonymous FTP for Upload </span><a title="Permalink" class="permalink" href="cha.adm.support.html#idm139674641632432">#</a></h6></div><div class="procedure-contents"><p>
      After the appliance is set up and running, no more manual interaction is
      required. This way of setting up the appliance is therefore ideal for
      using cron jobs to create and upload supportconfig archives.
     </p><ol class="procedure" type="1"><li class="step "><p>
       On the machine on which to install the appliance, log in to a console
       and execute the following commands:
      </p><div class="verbatim-wrap"><pre class="screen">zypper install sca-appliance-* sca-patterns-* vsftpd
systemctl enable apache2
systemctl start apache2
systemctl enable vsftpd
systemctl start vsftpd
yast ftp-server</pre></div></li><li class="step "><p>
       In YaST FTP Server, select <span class="guimenu">Authentication</span> › <span class="guimenu">Enable Upload</span> › <span class="guimenu">Anonymous Can Upload</span> › <span class="guimenu">Finish</span> › <span class="guimenu">Yes</span> to <span class="guimenu">Create
       /srv/ftp/upload</span>.
      </p></li><li class="step "><p>
       Execute the following commands:
      </p><div class="verbatim-wrap"><pre class="screen">systemctl enable mysql
systemctl start mysql
mysql_secure_installation
setup-sca -f</pre></div><p>
       The mysql_secure_installation will create a MariaDB <code class="systemitem">root</code> password.
      </p></li></ol></div></div><div class="procedure " id="idm139674641622592"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 37.4: </span><span class="name">Installation Using SCP/tmp for Upload </span><a title="Permalink" class="permalink" href="cha.adm.support.html#idm139674641622592">#</a></h6></div><div class="procedure-contents"><p>
      This way of setting up the appliance requires manual interaction when
      typing the SSH password.
     </p><ol class="procedure" type="1"><li class="step "><p>
       On the machine on which to install the appliance, log in to a console.
      </p></li><li class="step "><p>
       Execute the following commands:
      </p><div class="verbatim-wrap"><pre class="screen">zypper install sca-appliance-* sca-patterns-*
systemctl enable apache2
systemctl start apache2
sudo systemctl enable mysql
systemctl start mysql
mysql_secure_installation
setup-sca</pre></div></li></ol></div></div></div><div class="sect3 " id="sec.admsupport.sca.appliance.pre"><div class="titlepage"><div><div><h4 class="title" id="sec.admsupport.sca.appliance.pre"><span class="number">37.4.2.2 </span><span class="name">Prerequisites</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.pre">#</a></h4></div></div></div><p>
     To run an SCA appliance server, you need the following prerequisites:
    </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       All <code class="systemitem">sca-appliance-*</code> packages.
      </p></li><li class="listitem "><p>
       The <code class="systemitem">sca-patterns-base</code> package.
       Additionally, any of the product-specific
       <code class="systemitem">sca-patterns-*</code> for the type of
       supportconfig archives that you want to analyze with the appliance.
      </p></li><li class="listitem "><p>
       Apache
      </p></li><li class="listitem "><p>
       PHP
      </p></li><li class="listitem "><p>
       MariaDB
      </p></li><li class="listitem "><p>
       anonymous FTP server (optional)
      </p></li></ul></div></div><div class="sect3 " id="sec.admsupport.sca.appliance.install"><div class="titlepage"><div><div><h4 class="title" id="sec.admsupport.sca.appliance.install"><span class="number">37.4.2.3 </span><span class="name">Installation and Basic Setup</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.install">#</a></h4></div></div></div><p>
     As listed in <a class="xref" href="cha.adm.support.html#sec.admsupport.sca.appliance.pre" title="37.4.2.2. Prerequisites">Section 37.4.2.2, “Prerequisites”</a>, the SCA
     appliance has several dependencies on other packages. Therefore you need
     do so some preparations before installing and setting up the SCA appliance
     server:
    </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
       For Apache and MariaDB, install the <code class="systemitem">Web</code> and
       <code class="systemitem">LAMP</code> installation patterns.
      </p></li><li class="step "><p>
       Set up Apache, MariaDB, and optionally an anonymous FTP server.
       <span class="phrase"> For more information, see
       <a class="xref" href="cha.apache2.html" title="Chapter 29. The Apache HTTP Server">Chapter 29, <em>The Apache HTTP Server</em></a> and <a class="xref" href="cha.ftp.html" title="Chapter 30. Setting Up an FTP Server with YaST">Chapter 30, <em>Setting Up an FTP Server with YaST</em></a>. </span>
      </p></li><li class="step "><p>
       Configure Apache and MariaDB to start at boot time:
      </p><div class="verbatim-wrap"><pre class="screen">sudo systemctl enable apache2 mysql</pre></div></li><li class="step "><p>
       Start both services:
      </p><div class="verbatim-wrap"><pre class="screen">sudo systemctl start apache2 mysql</pre></div></li></ol></div></div><p>
     Now you can install the SCA appliance and set it up as described in
     <a class="xref" href="cha.adm.support.html#pro.sca.appl.install" title="Installing and Configuring the SCA Appliance">Procedure 37.5, “Installing and Configuring the SCA Appliance”</a>.
    </p><div class="procedure " id="pro.sca.appl.install"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 37.5: </span><span class="name">Installing and Configuring the SCA Appliance </span><a title="Permalink" class="permalink" href="cha.adm.support.html#pro.sca.appl.install">#</a></h6></div><div class="procedure-contents"><p>
      After installing the packages, use the <code class="command">setup-sca</code>
      script for the basic configuration of the MariaDB administration and
      report database that is used by the SCA appliance.
     </p><p>
      It can be used to configure the following options you have for uploading
      the supportconfig archives from your machines to the SCA appliance:
     </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        <code class="command">scp</code>
       </p></li><li class="listitem "><p>
        anonymous FTP server
       </p></li></ul></div><ol class="procedure" type="1"><li class="step "><p>
       Install the appliance and the SCA base-pattern library:
      </p><div class="verbatim-wrap"><pre class="screen">sudo zypper install sca-appliance-* sca-patterns-base</pre></div></li><li class="step "><p>
       Additionally, install the pattern packages for the types of
       supportconfig archives you want to analyze. For example, if you have
       SUSE Linux Enterprise Server 11 and SUSE Linux Enterprise Server 12 servers in your environment, install both the
       <code class="systemitem">sca-patterns-sle11</code> and
       <code class="systemitem">sca-patterns-sle12</code> packages.
      </p><p>
       To install all available patterns:
      </p><div class="verbatim-wrap"><pre class="screen">zypper install sca-patterns-*</pre></div></li><li class="step "><p>
       For basic setup of the SCA appliance, use the
       <code class="command">setup-sca</code> script. How to call it depends on how you
       want to upload the supportconfig archives to the SCA appliance server:
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
         If you have configured an anonymous FTP server that uses the
         <code class="filename">/srv/ftp/upload</code> directory, execute the setup
         script with the <code class="option">-f</code> option and follow the instructions
         on the screen:
        </p><div class="verbatim-wrap"><pre class="screen">setup-sca -f</pre></div><div id="idm139674641581904" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: FTP Server Using Another Directory</h6><p>
          If your FTP server uses another directory than
          <code class="filename">/srv/ftp/upload</code>, adjust the following
          configuration files first to make them point to the correct
          directory: <code class="filename">/etc/sca/sdagent.conf</code> and
          <code class="filename">/etc/sca/sdbroker.conf</code> .
         </p></div></li><li class="listitem "><p>
         If you want to upload supportconfig files to the
         <code class="filename">/tmp</code> directory of the SCA appliance server via
         <code class="command">scp</code>, call the setup script without any parameters
         and follow the instructions on the screen:
        </p><div class="verbatim-wrap"><pre class="screen">setup-sca</pre></div></li></ul></div><p>
       The setup script runs a few checks regarding its requirements and
       configures the needed components. It will prompt you for two passwords:
       the MySQL <code class="systemitem">root</code> password of the MariaDB that you have set up, and a
       Web user password with which to log in to the Web interface of the SCA
       appliance.
      </p></li><li class="step "><p>
       Enter the existing MariaDB <code class="systemitem">root</code> password. It will allow the SCA
       appliance to connect to the MariaDB.
      </p></li><li class="step "><p>
       Define a password for the Web user. It will be written to
       <code class="filename">/srv/www/htdocs/sca/web-config.php</code> and will be set
       as the password for the user
       <code class="systemitem">scdiag</code>. Both user name and
       password can be changed at any time later, see
       <a class="xref" href="cha.adm.support.html#sec.admsupport.sca.appliance.config.passwd" title="37.4.2.5.1. Password for the Web Interface">Section 37.4.2.5.1, “Password for the Web Interface”</a>.
      </p></li></ol></div></div><p>
     After successful installation and setup, the SCA appliance is ready for
     use, see <a class="xref" href="cha.adm.support.html#sec.admsupport.sca.appliance.use" title="37.4.2.4. Using the SCA Appliance">Section 37.4.2.4, “Using the SCA Appliance”</a>. However, you
     should modify some options such as changing the password for the Web
     interface, changing the source for the SCA pattern updates, enabling
     archiving mode or configuring e-mail notifications. For details on that,
     see <a class="xref" href="cha.adm.support.html#sec.admsupport.sca.appliance.config" title="37.4.2.5. Customizing the SCA Appliance">Section 37.4.2.5, “Customizing the SCA Appliance”</a>.
    </p><div id="idm139674641568064" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Data Protection</h6><p>
      As the reports on the SCA appliance server contain security-relevant
      information of the machines whose supportconfig archives have been
      analyzed, make sure to protect the data on the SCA appliance server
      against unauthorized access.
     </p></div></div><div class="sect3 " id="sec.admsupport.sca.appliance.use"><div class="titlepage"><div><div><h4 class="title" id="sec.admsupport.sca.appliance.use"><span class="number">37.4.2.4 </span><span class="name">Using the SCA Appliance</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.use">#</a></h4></div></div></div><p>
     You can upload existing supportconfig archives to the SCA appliance
     manually or create new supportconfig archives and upload them to the SCA
     appliance in one step. Uploading can be done via FTP or SCP. For both, you
     need to know the URL where the SCA appliance can be reached. For upload
     via FTP, an FTP server needs to be configured for the SCA appliance, see
     <a class="xref" href="cha.adm.support.html#pro.sca.appl.install" title="Installing and Configuring the SCA Appliance">Procedure 37.5, “Installing and Configuring the SCA Appliance”</a>.
    </p><div class="sect4 " id="sec.admsupport.sca.appliance.use.upload"><div class="titlepage"><div><div><h5 class="title" id="sec.admsupport.sca.appliance.use.upload"><span class="number">37.4.2.4.1 </span><span class="name">Uploading Supportconfig Archives to the SCA Appliance</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.use.upload">#</a></h5></div></div></div><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        For creating a supportconfig archive and uploading it via (anonymous)
        FTP:
       </p><div class="verbatim-wrap"><pre class="screen">sudo supportconfig -U “ftp://<em class="replaceable ">sca-appliance.company.com</em>/upload”</pre></div></li><li class="listitem "><p>
        For creating a supportconfig archive and uploading it via SCP:
       </p><div class="verbatim-wrap"><pre class="screen">sudo supportconfig -U “scp://<em class="replaceable ">sca-appliance.company.com</em>/tmp”</pre></div><p>
        You will be prompted for the <code class="systemitem">root</code> user password of the server
        running the SCA appliance.
       </p></li><li class="listitem "><p>
        If you want to manually upload one or multiple archives, copy the
        existing archive files (usually located
        at<code class="filename">/var/log/nts_*.tbz</code>) to the SCA appliance. As
        target, use either the appliance server's <code class="filename">/tmp</code>
        directory or the <code class="filename">/srv/ftp/upload</code> directory (if FTP
        is configured for the SCA appliance server).
       </p></li></ul></div></div><div class="sect4 " id="sec.admsupport.sca.appliance.use.view"><div class="titlepage"><div><div><h5 class="title" id="sec.admsupport.sca.appliance.use.view"><span class="number">37.4.2.4.2 </span><span class="name">Viewing SCA Reports</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.use.view">#</a></h5></div></div></div><p>
      SCA reports can be viewed from any machine that has a browser installed
      and can access the report index page of the SCA appliance.
     </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
        Start a Web browser and make sure that JavaScript and cookies are
        enabled.
       </p></li><li class="step "><p>
        As a URL, enter the report index page of the SCA appliance.
       </p><div class="verbatim-wrap"><pre class="screen">https://sca-appliance.company.com/sca</pre></div><p>
        If in doubt, ask your system administrator.
       </p></li><li class="step "><p>
        You will be prompted for a user name and a password to log in.
       </p><div class="figure" id="fig.sca.appl.html"><div class="figure-contents"><div class="mediaobject"><a xmlns="" href="images/sca_appl_report_html.png"><img src="images/sca_appl_report_html.png" width="" alt="HTML Report Generated by SCA Appliance" /></a></div></div><div class="figure-title-wrap"><h6 class="figure-title"><span class="number">Figure 37.2: </span><span class="name">HTML Report Generated by SCA Appliance </span><a title="Permalink" class="permalink" href="cha.adm.support.html#fig.sca.appl.html">#</a></h6></div></div></li><li class="step "><p>
        After logging in, click the date of the report you want to read.
       </p></li><li class="step "><p>
        Click the <span class="guimenu">Basic Health</span> category first to expand it.
       </p></li><li class="step "><p>
        In the <span class="guimenu">Message</span> column, click an individual entry.

        This opens the corresponding article in the SUSE Knowledgebase. Read
        the proposed solution and follow the instructions.
       </p></li><li class="step "><p>
        If the <span class="guimenu">Solutions</span> column of the
        <span class="guimenu">Supportconfig Analysis Report</span> shows any additional
        entries, click them. Read the proposed solution and follow the
        instructions.
       </p></li><li class="step "><p>
        Check the SUSE Knowledgebase
        (<a class="link" href="http://www.suse.com/support/kb/" target="_blank">http://www.suse.com/support/kb/</a>) for results that
        directly relate to the problem identified by SCA. Work at resolving
        them.
       </p></li><li class="step "><p>
        Check for results that can be addressed proactively to avoid future
        problems.
       </p></li></ol></div></div></div></div><div class="sect3 " id="sec.admsupport.sca.appliance.config"><div class="titlepage"><div><div><h4 class="title" id="sec.admsupport.sca.appliance.config"><span class="number">37.4.2.5 </span><span class="name">Customizing the SCA Appliance</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.config">#</a></h4></div></div></div><p>
     The following sections show how to change the password for the Web
     interface, how to change the source for the SCA pattern updates, how to
     enable archiving mode, and how to configure e-mail notifications.
    </p><div class="sect4 " id="sec.admsupport.sca.appliance.config.passwd"><div class="titlepage"><div><div><h5 class="title" id="sec.admsupport.sca.appliance.config.passwd"><span class="number">37.4.2.5.1 </span><span class="name">Password for the Web Interface</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.config.passwd">#</a></h5></div></div></div><p>
      The SCA Appliance Web interface requires a user name and password for
      logging in. The default user name is <code class="literal">scdiag</code> and the
      default password is <code class="literal">linux</code> (if not specified otherwise,
      see <a class="xref" href="cha.adm.support.html#pro.sca.appl.install" title="Installing and Configuring the SCA Appliance">Procedure 37.5, “Installing and Configuring the SCA Appliance”</a>). Change the default password
      to a secure password at the earliest possibility. You can also modify the
      user name.
     </p><div class="procedure " id="pro.sca.passwd.change"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 37.6: </span><span class="name">Changing User Name or Password for the Web Interface </span><a title="Permalink" class="permalink" href="cha.adm.support.html#pro.sca.passwd.change">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
        Log in as <code class="systemitem">root</code> user at the system console of the SCA appliance
        server.
       </p></li><li class="step "><p>
        Open <code class="filename">/srv/www/htdocs/sca/web-config.php</code> in an
        editor.
       </p></li><li class="step "><p>
        Change the values of <code class="literal">$username</code> and
        <code class="literal">$password</code> as desired.
       </p></li><li class="step "><p>
        Save the file and exit.
       </p></li></ol></div></div></div><div class="sect4 " id="sec.admsupport.sca.appliance.config.upd"><div class="titlepage"><div><div><h5 class="title" id="sec.admsupport.sca.appliance.config.upd"><span class="number">37.4.2.5.2 </span><span class="name">Updates of SCA Patterns</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.config.upd">#</a></h5></div></div></div><p>
      By default, all <code class="systemitem">sca-patterns-*</code>
      packages are updated regularly by a <code class="systemitem">root</code> cron job that executes the
      <code class="filename">sdagent-patterns</code> script nightly, which in turn runs
      <code class="command">zypper update sca-patterns-*</code>. A regular system update
      will update all SCA appliance and pattern packages. To update the SCA
      appliance and patterns manually, run:
     </p><div class="verbatim-wrap"><pre class="screen">sudo zypper update sca-*</pre></div><p>
      The updates are installed from the SUSE Linux Enterprise <span class="productnumber"><span class="phrase">12 SP2</span></span> update
      repository by default. You can change the source for the updates to an
      SMT server, if desired. When <code class="filename">sdagent-patterns</code> runs
      <code class="command">zypper update sca-patterns-*</code>, it gets the updates from
      the currently configured update channel. If that channel is located on an
      SMT server, the packages will be pulled from there.
     </p><div class="procedure " id="idm139674641513808"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 37.7: </span><span class="name">Disabling Automatic Updates of SCA Patterns </span><a title="Permalink" class="permalink" href="cha.adm.support.html#idm139674641513808">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
        Log in as <code class="systemitem">root</code> user at the system console of the SCA appliance
        server.
       </p></li><li class="step "><p>

        Open <code class="filename">/etc/sca/sdagent-patterns.conf</code> in an editor.
       </p></li><li class="step "><p>
        Change the entry
       </p><div class="verbatim-wrap"><pre class="screen">UPDATE_FROM_PATTERN_REPO=1</pre></div><p>
        to
       </p><div class="verbatim-wrap"><pre class="screen">UPDATE_FROM_PATTERN_REPO=0</pre></div></li><li class="step "><p>
        Save the file and exit. The machine does not require any restart to
        apply the change.
       </p></li></ol></div></div></div><div class="sect4 " id="sec.admsupport.sca.appliance.config.archive"><div class="titlepage"><div><div><h5 class="title" id="sec.admsupport.sca.appliance.config.archive"><span class="number">37.4.2.5.3 </span><span class="name">Archiving Mode</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.config.archive">#</a></h5></div></div></div><p>
      All supportconfig archives are deleted from the SCA appliance after they
      have been analyzed and their results have been stored in the MariaDB
      database. However, for troubleshooting purposes it can be useful to keep
      copies of supportconfig archives from a machine. By default, archiving
      mode is disabled.
     </p><div class="procedure " id="idm139674641504336"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 37.8: </span><span class="name">Enabling Archiving Mode in the SCA Appliance </span><a title="Permalink" class="permalink" href="cha.adm.support.html#idm139674641504336">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
        Log in as <code class="systemitem">root</code> user at the system console of the SCA appliance
        server.
       </p></li><li class="step "><p>
        Open <code class="filename">/etc/sca/sdagent.conf</code> in an editor.
       </p></li><li class="step "><p>
        Change the entry
       </p><div class="verbatim-wrap"><pre class="screen">ARCHIVE_MODE=0</pre></div><p>
        to
       </p><div class="verbatim-wrap"><pre class="screen">ARCHIVE_MODE=1</pre></div></li><li class="step "><p>
        Save the file and exit. The machine does not require any restart to
        apply the change.
       </p></li></ol></div></div><p>
      After having enabled archive mode, the SCA appliance will save the
      supportconfig files to the <code class="filename">/var/log/archives/saved</code>
      directory, instead of deleting them.
     </p></div><div class="sect4 " id="sec.admsupport.sca.appliance.config.mail"><div class="titlepage"><div><div><h5 class="title" id="sec.admsupport.sca.appliance.config.mail"><span class="number">37.4.2.5.4 </span><span class="name">Sending SCA Reports via E-Mail</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.config.mail">#</a></h5></div></div></div><p>
      The SCA appliance can e-mail a report HTML file for each supportconfig
      analyzed. This feature is disabled by default. When enabling it, you can
      define a list of e-mail addresses to which the reports should be sent,
      and define a level of status messages that trigger the sending of reports
      (<code class="literal">STATUS_NOTIFY_LEVEL</code>).
     </p><div class="variablelist " id="vl.sca.mails.notify.level"><div class="variablelist-title-wrap"><h6 class="variablelist-title"><span class="name">Possible Values for <code class="literal">STATUS_NOTIFY_LEVEL</code> </span><a title="Permalink" class="permalink" href="cha.adm.support.html#vl.sca.mails.notify.level">#</a></h6></div><dl class="variablelist"><dt id="idm139674641492032"><span class="term ">$STATUS_OFF</span></dt><dd><p>
         Deactivate sending of HTML reports.
        </p></dd><dt id="idm139674641490208"><span class="term ">$STATUS_CRITICAL</span></dt><dd><p>
         Send only SCA reports that include a CRITICAL.
        </p></dd><dt id="idm139674641488368"><span class="term ">$STATUS_WARNING </span></dt><dd><p>
         Send only SCA reports that include a WARNING or CRITICAL.
        </p></dd><dt id="idm139674641486512"><span class="term ">$STATUS_RECOMMEND</span></dt><dd><p>
         Send only SCA reports that include a RECOMMEND, WARNING or CRITICAL.
        </p></dd><dt id="idm139674641484656"><span class="term ">$STATUS_SUCCESS</span></dt><dd><p>
         Send SCA reports that include a SUCCESS, RECOMMEND, WARNING or
         CRITICAL.
        </p></dd></dl></div><div class="procedure " id="idm139674641482624"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 37.9: </span><span class="name">Configuring E-Mail Notifications for SCA Reports </span><a title="Permalink" class="permalink" href="cha.adm.support.html#idm139674641482624">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
        Log in as <code class="systemitem">root</code> user at the system console of the SCA appliance
        server.
       </p></li><li class="step "><p>
        Open <code class="filename">/etc/sca/sdagent.conf</code> in an editor.
       </p></li><li class="step "><p>
        Search for the entry <code class="systemitem">STATUS_NOTIFY_LEVEL</code>. By
        default, it is set to <code class="literal">$STATUS_OFF</code> (e-mail
        notifications are disabled).
       </p></li><li class="step "><p>
        To enable e-mail notifications, change <code class="literal">$STATUS_OFF</code>
        to the level of status messages that you want to have e-mail reports
        for, for example:
       </p><div class="verbatim-wrap"><pre class="screen">STATUS_NOTIFY_LEVEL=$STATUS_SUCCESS</pre></div><p>
        For details, see <a class="xref" href="cha.adm.support.html#vl.sca.mails.notify.level" title="Possible Values for STATUS_NOTIFY_LEVEL">Possible Values for <code class="literal">STATUS_NOTIFY_LEVEL</code></a>.
       </p></li><li class="step "><p>
        To define the list of recipients to which the reports should be sent:
       </p><ol type="a" class="substeps "><li class="step "><p>
          Search for the entry <code class="literal">EMAIL_REPORT='root'</code>.
         </p></li><li class="step "><p>
          Replace <code class="literal">root</code> with a list of e-mail addresses to
          which SCA reports should be sent. The e-mail addresses must be
          separated by spaces. For example:
         </p><div class="verbatim-wrap"><pre class="screen">EMAIL_REPORT='tux@my.company.com wilber@your.company.com'</pre></div></li></ol></li><li class="step "><p>
        Save the file and exit. The machine does not require any restart to
        apply the changes. All future SCA reports will be e-mailed to the
        specified addresses.
       </p></li></ol></div></div></div></div><div class="sect3 " id="sec.admsupport.sca.appliance.backup"><div class="titlepage"><div><div><h4 class="title" id="sec.admsupport.sca.appliance.backup"><span class="number">37.4.2.6 </span><span class="name">Backing Up and Restoring the Database</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.appliance.backup">#</a></h4></div></div></div><p>
     To back up and restore the MariaDB database that stores the SCA reports,
     use the <code class="command">scadb</code> command as described below.
    </p><div class="procedure " id="idm139674641465264"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 37.10: </span><span class="name">Backing Up the Database </span><a title="Permalink" class="permalink" href="cha.adm.support.html#idm139674641465264">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
       Log in as <code class="systemitem">root</code> user at the system console of the server running
       the SCA appliance.
      </p></li><li class="step "><p>
       Put the appliance into maintenance mode by executing:
      </p><div class="verbatim-wrap"><pre class="screen">scadb maint</pre></div></li><li class="step "><p>
       Start the backup with:
      </p><div class="verbatim-wrap"><pre class="screen">scadb backup</pre></div><p>
       The data is saved to a TAR archive:
       <code class="filename">sca-backup-*sql.gz</code>.
      </p></li><li class="step "><p>
       If you are using the pattern creation database to develop your own
       patterns (see <a class="xref" href="cha.adm.support.html#sec.admsupport.sca.patterns" title="37.4.3. Developing Custom Analysis Patterns">Section 37.4.3, “Developing Custom Analysis Patterns”</a>), back up
       this data, too:
      </p><div class="verbatim-wrap"><pre class="screen">sdpdb backup</pre></div><p>
       The data is saved to a TAR archive:
       <code class="filename">sdp-backup-*sql.gz</code>.
      </p></li><li class="step "><p>
       Copy the following data to another machine or an external storage
       medium:
      </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
         <code class="filename">sca-backup-*sql.gz</code>
        </p></li><li class="listitem "><p>
         <code class="filename">sdp-backup-*sql.gz</code>
        </p></li><li class="listitem "><p>
         <code class="filename">/usr/lib/sca/patterns/local</code> (only needed if you
         have created custom patterns)
        </p></li></ul></div></li><li class="step "><p>
       Reactivate the SCA appliance with:
      </p><div class="verbatim-wrap"><pre class="screen">scadb reset agents</pre></div></li></ol></div></div><div class="procedure " id="idm139674641448608"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 37.11: </span><span class="name">Restoring the Database </span><a title="Permalink" class="permalink" href="cha.adm.support.html#idm139674641448608">#</a></h6></div><div class="procedure-contents"><p>
      To restore the database from your backup, proceed as follows:
     </p><ol class="procedure" type="1"><li class="step "><p>
       Log in as <code class="systemitem">root</code> user at the system console of the server running
       the SCA appliance.
      </p></li><li class="step "><p>
       Copy the newest <code class="filename">sca-backup-*sql.gz</code> and
       <code class="filename">sdp-backup-*sql.gz</code> TAR archives to the SCA
       appliance server.
      </p></li><li class="step "><p>
       To decompress the files, run:
      </p><div class="verbatim-wrap"><pre class="screen">gzip -d *-backup-*sql.gz</pre></div></li><li class="step "><p>
       To import the data into the database, execute:
      </p><div class="verbatim-wrap"><pre class="screen">scadb import sca-backup-*sql</pre></div></li><li class="step "><p>
       If you are using the pattern creation database to create your own
       patterns, also import the following data with:
      </p><div class="verbatim-wrap"><pre class="screen">sdpdb import sdp-backup-*sql</pre></div></li><li class="step "><p>
       If you are using custom patterns, also restore
       <code class="filename">/usr/lib/sca/patterns/local</code> from your backup data.
      </p></li><li class="step "><p>
       Reactivate the SCA appliance with:
      </p><div class="verbatim-wrap"><pre class="screen">scadb reset agents</pre></div></li><li class="step "><p>
       Update the pattern modules in the database with:
      </p><div class="verbatim-wrap"><pre class="screen">sdagent-patterns -u</pre></div></li></ol></div></div></div></div><div class="sect2 " id="sec.admsupport.sca.patterns"><div class="titlepage"><div><div><h3 class="title" id="sec.admsupport.sca.patterns"><span class="number">37.4.3 </span><span class="name">Developing Custom Analysis Patterns</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.sca.patterns">#</a></h3></div></div></div><p>
    The SCA appliance comes with a complete pattern development environment
    (the SCA Pattern Database) that enables you to develop your own, custom
    patterns. Patterns can be written in any programming language. To make them
    available for the supportconfig analysis process, they need to be saved to
    <code class="filename">/usr/lib/sca/patterns/local</code> and to be made executable.
    Both the SCA appliance and the SCA tool will then run the custom patterns
    against new supportconfig archives as part of the analysis report. For
    detailed instructions on how to create (and test) your own patterns, see
    <a class="link" href="http://www.suse.com/communities/conversations/sca-pattern-development/" target="_blank">http://www.suse.com/communities/conversations/sca-pattern-development/</a>.
   </p></div></div><div class="sect1 " id="sec.admsupport.install"><div class="titlepage"><div><div><h2 class="title" id="sec.admsupport.install"><span class="number">37.5 </span><span class="name">Gathering Information During the Installation</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.install">#</a></h2></div></div></div><p>
   During the installation, <code class="command">supportconfig</code> is not available.
   However, you can collect log files from YaST by using
   <code class="command">save_y2logs</code>. This command will create a
   <code class="filename">.tar.xz</code> archive in the directory
   <code class="filename">/tmp</code>.
  </p><p>
   If issues appear very early during installation, you may be able to gather
   information from the log file created by
   <code class="command">linuxrc</code>. <code class="command">linuxrc</code> is a small command
   that runs before YaST starts. This log file is available at
   <code class="filename">/var/log/linuxrc.log</code>.
  </p><div id="idm139674641425760" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Installation Log Files Not Available in the Installed System</h6><p>
    The log files available during the installation are not available in the
    installed system anymore. Properly save the installation log files while
    the installer is still running.
   </p></div></div><div class="sect1 " id="sec.admsupport.kernel"><div class="titlepage"><div><div><h2 class="title" id="sec.admsupport.kernel"><span class="number">37.6 </span><span class="name">Support of Kernel Modules</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.kernel">#</a></h2></div></div></div><p>
   An important requirement for every enterprise operating system is the level
   of support you receive for your environment. Kernel modules are the most
   relevant connector between hardware (<span class="quote">“<span class="quote">controllers</span>”</span>) and the
   operating system. Every Kernel module in SUSE Linux Enterprise has a
   <code class="literal">supported</code> flag that can take three possible values:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     <span class="quote">“<span class="quote">yes</span>”</span>, thus <code class="literal">supported</code>
    </p></li><li class="listitem "><p>
     <span class="quote">“<span class="quote">external</span>”</span>, thus <code class="literal">supported</code>
    </p></li><li class="listitem "><p>
     <span class="quote">“<span class="quote"></span>”</span> (empty, not set), thus <code class="literal">unsupported</code>
    </p></li></ul></div><p>
   The following rules apply:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     All modules of a self-recompiled Kernel are by default marked as
     unsupported.
    </p></li><li class="listitem "><p>
     Kernel modules supported by SUSE partners and delivered using
     <code class="literal">SUSE SolidDriver Program</code> are marked
     <span class="quote">“<span class="quote">external</span>”</span>.
    </p></li><li class="listitem "><p>
     If the <code class="literal">supported</code> flag is not set, loading this module
     will taint the Kernel. Tainted Kernels are not supported. Unsupported
     Kernel modules are included in an extra RPM package
     (<code class="systemitem">kernel-<em class="replaceable ">FLAVOR</em>-extra</code>)
     that is only available for SUSE Linux Enterprise Desktop and the SUSE Linux Enterprise Workstation Extension.
     Those kernels will not be loaded by default
     (<em class="replaceable ">FLAVOR</em>=<code class="literal">default</code>|<code class="literal">xen</code>|...).
     In addition, these unsupported modules are not available in the installer,
     and the
     <code class="systemitem">kernel-<em class="replaceable ">FLAVOR</em>-extra</code>
     package is not part of the SUSE Linux Enterprise media.
    </p></li><li class="listitem "><p>
     Kernel modules not provided under a license compatible to the license of
     the Linux Kernel will also taint the Kernel. For details, see
     <code class="filename">/usr/src/linux/Documentation/sysctl/kernel.txt</code> and
     the state of <code class="filename">/proc/sys/kernel/tainted</code>.
    </p></li></ul></div><div class="sect2 " id="sec.admsupport.kernel.background"><div class="titlepage"><div><div><h3 class="title" id="sec.admsupport.kernel.background"><span class="number">37.6.1 </span><span class="name">Technical Background</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.kernel.background">#</a></h3></div></div></div><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      Linux Kernel: The value of
      <code class="filename">/proc/sys/kernel/unsupported</code> defaults to
      <code class="literal">2</code> on SUSE Linux Enterprise <span class="productnumber"><span class="phrase">12 SP2</span></span> (<code class="literal">do not warn in
      syslog when loading unsupported modules</code>). This default is used
      in the installer and in the installed system. See
      <code class="filename">/usr/src/linux/Documentation/sysctl/kernel.txt</code> for
      more information.
     </p></li><li class="listitem "><p>
      <code class="command">modprobe</code>: The <code class="command">modprobe</code> utility for
      checking module dependencies and loading modules appropriately checks for
      the value of the <code class="literal">supported</code> flag. If the value is
      <span class="quote">“<span class="quote">yes</span>”</span> or <span class="quote">“<span class="quote">external</span>”</span> the module will be loaded,
      otherwise it will not. For information on how to override this behavior,
      see <a class="xref" href="cha.adm.support.html#sec.admsupport.kernel.unsupported" title="37.6.2. Working with Unsupported Modules">Section 37.6.2, “Working with Unsupported Modules”</a>.
     </p><div id="idm139674641393408" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Support</h6><p>
       SUSE does not generally support the removal of storage modules via
       <code class="command">modprobe -r</code>.
      </p></div></li></ul></div></div><div class="sect2 " id="sec.admsupport.kernel.unsupported"><div class="titlepage"><div><div><h3 class="title" id="sec.admsupport.kernel.unsupported"><span class="number">37.6.2 </span><span class="name">Working with Unsupported Modules</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.kernel.unsupported">#</a></h3></div></div></div><p>
    While general supportability is important, situations can occur where
    loading an unsupported module is required (for example, for testing or
    debugging purposes, or if your hardware vendor provides a hotfix).
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      To override the default, edit
      <code class="filename">/etc/modprobe.d/10-unsupported-modules.conf</code> and
      change the value of the variable
      <code class="varname">allow_unsupported_modules</code> to <code class="literal">1</code>. If
      an unsupported module is needed in the initrd, do not forget to run
      <code class="command">dracut</code> <code class="option">-f</code> to update the initrd.
     </p><p>
      If you only want to try loading a module once, you can use the
      <code class="option">--allow-unsupported-modules</code> option with
      <code class="command">modprobe</code>. For more information, see the
      <code class="command">modprobe</code> man page.
     </p></li><li class="listitem "><p>
      During installation, unsupported modules may be added through driver
      update disks, and they will be loaded. To enforce loading of unsupported
      modules during boot and afterward, use the Kernel command line option
      <code class="option">oem-modules</code>. While installing and initializing the
      <code class="systemitem">suse-module-tools</code> package, the
      Kernel flag <code class="literal">TAINT_NO_SUPPORT</code>
      (<code class="filename">/proc/sys/kernel/tainted</code>) will be evaluated. If the
      Kernel is already tainted, <code class="literal">allow_unsupported_modules</code>
      will be enabled. This will prevent unsupported modules from failing in
      the system being installed. If no unsupported modules are present during
      installation and the other special Kernel command line option
      (<code class="option">oem-modules=1</code>) is not used, the default still is to
      disallow unsupported modules.
     </p></li></ul></div><p>
    Remember that loading and running unsupported modules will make the Kernel
    and the whole system unsupported by SUSE.
   </p></div></div><div class="sect1 " id="sec.admsupport.moreinfo"><div class="titlepage"><div><div><h2 class="title" id="sec.admsupport.moreinfo"><span class="number">37.7 </span><span class="name">For More Information</span> <a title="Permalink" class="permalink" href="cha.adm.support.html#sec.admsupport.moreinfo">#</a></h2></div></div></div><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     <code class="command">man supportconfig</code>—The
     <code class="command">supportconfig</code> man page.
    </p></li><li class="listitem "><p>
     <code class="command">man supportconfig.conf</code>—The man page of the
     supportconfig configuration file.
    </p></li><li class="listitem "><p>
     <code class="command">man scatool</code>—The <code class="command">scatool</code> man
     page.
    </p></li><li class="listitem "><p>
     <code class="command">man scadb</code>—The <code class="command">scadb</code> man page.
    </p></li><li class="listitem "><p>
     <code class="command">man setup-sca</code>—The <code class="command">setup-sca</code>
     man page.
    </p></li><li class="listitem "><p>
     <a class="link" href="https://mariadb.com/kb/en/" target="_blank">https://mariadb.com/kb/en/</a>—The MariaDB
     documentation.
    </p></li><li class="listitem "><p>
     <a class="link" href="http://httpd.apache.org/docs/" target="_blank">http://httpd.apache.org/docs/</a> and
     <a class="xref" href="cha.apache2.html" title="Chapter 29. The Apache HTTP Server">Chapter 29, <em>The Apache HTTP Server</em></a>—Documentation about the Apache Web
     server.
    </p></li><li class="listitem "><p>
     <a class="xref" href="cha.ftp.html" title="Chapter 30. Setting Up an FTP Server with YaST">Chapter 30, <em>Setting Up an FTP Server with YaST</em></a>—Documentation of how to set up an FTP
     server.
    </p></li><li class="listitem "><p>
     <a class="link" href="http://www.suse.com/communities/conversations/sca-pattern-development/" target="_blank">http://www.suse.com/communities/conversations/sca-pattern-development/</a>—Instructions
     on how to create (and test) your own SCA patterns.
    </p></li><li class="listitem "><p>
     <a class="link" href="http://www.suse.com/communities/conversations/basic-server-health-check-supportconfig/" target="_blank">http://www.suse.com/communities/conversations/basic-server-health-check-supportconfig/</a>—A
     Basic Server Health Check with Supportconfig.
    </p></li><li class="listitem "><p>
     <a class="link" href="https://www.novell.com/communities/coolsolutions/cool_tools/create-your-own-supportconfig-plugin/" target="_blank">https://www.novell.com/communities/coolsolutions/cool_tools/create-your-own-supportconfig-plugin/</a>—Create
     Your Own Supportconfig Plugin.
    </p></li><li class="listitem "><p>
     <a class="link" href="http://www.suse.com/communities/conversations/creating-a-central-supportconfig-repository/" target="_blank">http://www.suse.com/communities/conversations/creating-a-central-supportconfig-repository/</a>—Creating
     a Central Supportconfig Repository.
    </p><p>
     
    </p></li></ul></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.trouble.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 38 </span>Common Problems and Their Solutions</span></a><a class="nav-link" href="cha.adminhelp.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 36 </span>Help and Documentation</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>