<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Preparing the Boot of the Target System | Deployment Guide | SUSE Linux Enterprise Desktop 12 SP2</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 2.4.0 using SUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise Desktop" /><meta name="product-number" content="12 SP2" /><meta name="book-title" content="Deployment Guide" /><meta name="chapter-title" content="Chapter 5. Preparing the Boot of the Target System" /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Desktop 12 SP2" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Desktop Documentation" /><link rel="up" href="part.installserver.html" title="Part III. Setting up an Installation Server" /><link rel="prev" href="cha.deployment.instserver.html" title="Chapter 4. Setting Up the Server Holding the Installation Sources" /><link rel="next" href="part.remoteinstall.html" title="Part IV. Remote Installation" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.sle.deployment.html">Deployment Guide</a><span> › </span><a class="crumb" href="part.installserver.html">Setting up an Installation Server</a><span> › </span><a class="crumb" href="cha.deployment.prep_boot.html">Preparing the Boot of the Target System</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Deployment Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface.deployment.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="cha.sled_plan.html"><span class="number">1 </span><span class="name">Planning for SUSE Linux Enterprise Desktop</span></a></li><li class="inactive"><a href="part.prep.html"><span class="number">I </span><span class="name">Installation Preparation</span></a><ol><li class="inactive"><a href="cha.x86.html"><span class="number">2 </span><span class="name">Installation on AMD64 and Intel 64</span></a></li></ol></li><li class="inactive"><a href="part.mandeploy.html"><span class="number">II </span><span class="name">The Installation Workflow</span></a><ol><li class="inactive"><a href="cha.inst.html"><span class="number">3 </span><span class="name">Installation with YaST</span></a></li></ol></li><li class="inactive"><a href="part.installserver.html"><span class="number">III </span><span class="name">Setting up an Installation Server</span></a><ol><li class="inactive"><a href="cha.deployment.instserver.html"><span class="number">4 </span><span class="name">Setting Up the Server Holding the Installation Sources</span></a></li><li class="inactive"><a href="cha.deployment.prep_boot.html"><span class="number">5 </span><span class="name">Preparing the Boot of the Target System</span></a></li></ol></li><li class="inactive"><a href="part.remoteinstall.html"><span class="number">IV </span><span class="name">Remote Installation</span></a><ol><li class="inactive"><a href="cha.deployment.remoteinst.html"><span class="number">6 </span><span class="name">Remote Installation</span></a></li></ol></li><li class="inactive"><a href="part.sysconfig.html"><span class="number">V </span><span class="name">Initial System Configuration</span></a><ol><li class="inactive"><a href="cha.y2.hw.html"><span class="number">7 </span><span class="name">Setting Up Hardware Components with YaST</span></a></li><li class="inactive"><a href="cha.advdisk.html"><span class="number">8 </span><span class="name">Advanced Disk Setup</span></a></li><li class="inactive"><a href="cha.y2.sw.html"><span class="number">9 </span><span class="name">Installing or Removing Software</span></a></li><li class="inactive"><a href="cha.add-ons.html"><span class="number">10 </span><span class="name">Installing Modules, Extensions, and Third Party Add-On Products</span></a></li><li class="inactive"><a href="cha.tuning.multikernel.html"><span class="number">11 </span><span class="name">Installing Multiple Kernel Versions</span></a></li><li class="inactive"><a href="cha.y2.userman.html"><span class="number">12 </span><span class="name">Managing Users with YaST</span></a></li><li class="inactive"><a href="cha.y2.lang.html"><span class="number">13 </span><span class="name">Changing Language and Country Settings with YaST</span></a></li></ol></li><li class="inactive"><a href="part.update.html"><span class="number">VI </span><span class="name">Updating and Upgrading SUSE Linux Enterprise</span></a><ol><li class="inactive"><a href="cha.update.background.html"><span class="number">14 </span><span class="name">Life Cycle and Support</span></a></li><li class="inactive"><a href="cha.update.sle.html"><span class="number">15 </span><span class="name">Upgrading SUSE Linux Enterprise</span></a></li><li class="inactive"><a href="cha.update.spmigration.html"><span class="number">16 </span><span class="name">Service Pack Migration</span></a></li><li class="inactive"><a href="cha.update.backporting.html"><span class="number">17 </span><span class="name">Backporting Source Code</span></a></li></ol></li><li class="inactive"><a href="app.deployment.docupdates.html"><span class="number">A </span><span class="name">Documentation Updates</span></a></li><li class="inactive"><a href="bk02apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 4. Setting Up the Server Holding the Installation Sources" href="cha.deployment.instserver.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part IV. Remote Installation" href="part.remoteinstall.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Desktop Documentation"><span class="book-icon">SUSE Linux Enterprise Desktop Documentation</span></a><span> › </span><a class="crumb" href="book.sle.deployment.html">Deployment Guide</a><span> › </span><a class="crumb" href="part.installserver.html">Setting up an Installation Server</a><span> › </span><a class="crumb" href="cha.deployment.prep_boot.html">Preparing the Boot of the Target System</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 4. Setting Up the Server Holding the Installation Sources" href="cha.deployment.instserver.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part IV. Remote Installation" href="part.remoteinstall.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.deployment.prep_boot"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">12 SP2</span></span></span></div><div><h2 class="title"><span class="number">5 </span><span class="name">Preparing the Boot of the Target System</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>deployment_prep_boot.xml</li><li><span class="ds-label">ID: </span>cha.deployment.prep_boot</li></ul></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.dhcp"><span class="number">5.1 </span><span class="name">Setting Up a DHCP Server</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.tftp"><span class="number">5.2 </span><span class="name">Setting Up a TFTP Server</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.pxe"><span class="number">5.3 </span><span class="name">Using PXE Boot</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.pxeopts"><span class="number">5.4 </span><span class="name">PXELINUX Configuration Options</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.pxeprep"><span class="number">5.5 </span><span class="name">Preparing the Target System for PXE Boot</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.wolprep"><span class="number">5.6 </span><span class="name">Preparing the Target System for Wake on LAN</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.wol"><span class="number">5.7 </span><span class="name">Wake on LAN</span></a></span></dt><dt><span class="sect1"><a href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.wolyast"><span class="number">5.8 </span><span class="name">Wake on LAN with YaST</span></a></span></dt></dl></div></div><p>
  <span class="productname"><span class="phrase">SUSE® Linux Enterprise Desktop</span></span> can be installed in different ways. Apart from the usual
  media installation covered in <a class="xref" href="cha.inst.html" title="Chapter 3. Installation with YaST">Chapter 3, <em>Installation with YaST</em></a>, you can choose from
  various network-based approaches or even take a completely hands-off approach
  to the installation of <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span>.
 </p><p>
  Each method is introduced by means of two short checklists: one listing the
  prerequisites for this method and the other illustrating the basic procedure.
  More detail is then provided for all the techniques used in these
  installation scenarios.
 </p><div id="idm140298459793056" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Terminology</h6><p>
   In the following sections, the system to hold your new <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span>
   installation is called <span class="emphasis"><em>target system</em></span> or
   <span class="emphasis"><em>installation target</em></span>. The term
   <span class="emphasis"><em>repository</em></span> (previously called <span class="quote">“<span class="quote">installation
   source</span>”</span>) is used for all sources of installation data. This includes
   physical media, such as CD and DVD, and network servers distributing the
   installation data in your network.
  </p></div><p>
  This section covers the configuration tasks needed in complex boot scenarios.
  It contains ready-to-apply configuration examples for DHCP, PXE boot, TFTP,
  and Wake on LAN.
 </p><div class="sect1 " id="sec.deployment.prep_boot.dhcp"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.prep_boot.dhcp"><span class="number">5.1 </span><span class="name">Setting Up a DHCP Server</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.dhcp">#</a></h2></div></div></div><p>
   There are two ways to set up a DHCP server. For <span class="productname"><span class="phrase">SUSE Linux Enterprise Desktop</span></span>, YaST
   provides a graphical interface to the process. Users can also manually edit
   the configuration files.
  </p><div class="sect2 " id="sec.deployment.prep_boot.dhcp.yast"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.prep_boot.dhcp.yast"><span class="number">5.1.1 </span><span class="name">Setting Up a DHCP Server with YaST</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.dhcp.yast">#</a></h3></div></div></div><p>
    To announce the TFTP server's location to the network clients and specify
    the boot image file the installation target should use, add two
    declarations to your DHCP server configuration.
   </p><div class="procedure " id="proc.deployment.prep_boot.dhcp.yast"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Log in as <code class="systemitem">root</code> to the machine hosting the DHCP server.
     </p></li><li class="step "><p>
      Start <span class="guimenu">YaST</span> › <span class="guimenu">Network
      Services</span> › <span class="guimenu">DHCP Server</span>.
     </p></li><li class="step "><p>
      Complete the setup wizard for basic DHCP server setup.
     </p></li><li class="step " id="st.deployment.prep_boot.dhcp.yast.expert"><p>
      Select <span class="guimenu">Expert Settings</span> and select
      <span class="guimenu">Yes</span> when warned about leaving the start-up dialog.
     </p></li><li class="step "><p>
      In the <span class="guimenu">Configured Declarations</span> dialog, select the
      subnet in which the new system should be located and click
      <span class="guimenu">Edit</span>.
     </p></li><li class="step "><p>
      In the <span class="guimenu">Subnet Configuration</span> dialog select
      <span class="guimenu">Add</span> to add a new option to the subnet's configuration.
     </p></li><li class="step "><p>
      Select <code class="option">filename</code> and enter <code class="literal">pxelinux.0</code>
      as the value.
     </p></li><li class="step "><p>
      Add another option (<code class="option">next-server</code>) and set its value to
      the address of the TFTP server.
     </p></li><li class="step "><p>
      Select <span class="guimenu">OK</span> and <span class="guimenu">Finish</span> to complete
      the DHCP server configuration.
     </p></li></ol></div></div><p>
    To configure DHCP to provide a static IP address to a specific host, enter
    the <span class="guimenu">Expert Settings</span> of the DHCP server configuration
    module
    (<a class="xref" href="cha.deployment.prep_boot.html#st.deployment.prep_boot.dhcp.yast.expert" title="Step 4">Step 4</a>)
    and add a new declaration of the host type. Add the options
    <code class="option">hardware</code> and <code class="option">fixed-address</code> to this host
    declaration and provide the appropriate values.
   </p></div><div class="sect2 " id="sec.deployment.prep_boot.dhcp.man"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.prep_boot.dhcp.man"><span class="number">5.1.2 </span><span class="name">Setting Up a DHCP Server Manually</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.dhcp.man">#</a></h3></div></div></div><p>
    All the DHCP server needs to do, apart from providing automatic address
    allocation to your network clients, is to announce the IP address of the
    TFTP server and the file that needs to be pulled in by the installation
    routines on the target machine.
   </p><div class="procedure " id="proc.deployment.prep_boot.dhcp.man"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Log in as <code class="systemitem">root</code> to the machine hosting the DHCP server.
     </p></li><li class="step "><p>
      Append the following lines to a subnet configuration of your DHCP
      server's configuration file located under
      <code class="filename">/etc/dhcpd.conf</code>:
     </p><div class="verbatim-wrap"><pre class="screen">subnet 192.168.1.0 netmask 255.255.255.0 {
  range dynamic-bootp 192.168.1.200 192.168.1.228;
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <em class="replaceable ">ip_tftp_server</em>;
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename  "pxelinux.0";
}</pre></div><p>
      Replace

      <em class="replaceable ">ip_of_the_tftp_server</em> with the actual IP
      address of the TFTP server. For more information about the options
      available in <code class="filename">dhcpd.conf</code>, refer to the
      <code class="systemitem">dhcpd.conf</code> manual page.
     </p></li><li class="step "><p>
      Restart the DHCP server by executing <code class="command">systemctl restart
      dhcpd</code>.
     </p></li></ol></div></div><p>
    If you plan on using SSH for the remote control of a PXE and Wake on LAN
    installation, explicitly specify the IP address DHCP should provide to the
    installation target. To achieve this, modify the above mentioned DHCP
    configuration according to the following example:
   </p><div class="verbatim-wrap"><pre class="screen">group {
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <em class="replaceable ">ip_tftp_server</em>:
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename "pxelinux.0";
  host test {
    hardware ethernet <em class="replaceable ">mac_address</em>;
    fixed-address <em class="replaceable ">some_ip_address</em>;
    }
}</pre></div><p>
    The host statement introduces the host name of the installation target. To
    bind the host name and IP address to a specific host, you must know and
    specify the system's hardware (MAC) address. Replace all the variables used
    in this example with the actual values that match your environment.
   </p><p>
    After restarting the DHCP server, it provides a static IP to the host
    specified, enabling you to connect to the system via SSH.
   </p></div></div><div class="sect1 " id="sec.deployment.prep_boot.tftp"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.prep_boot.tftp"><span class="number">5.2 </span><span class="name">Setting Up a TFTP Server</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.tftp">#</a></h2></div></div></div><p>
   If using a SUSE based installation, you may use YaST to set up a TFTP
   Server. Alternatively, set it up manually. The TFTP server delivers the boot
   image to the target system after it boots and sends a request for it.
  </p><div class="sect2 " id="sec.deployment.prep_boot.tftp.yast"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.prep_boot.tftp.yast"><span class="number">5.2.1 </span><span class="name">Setting Up a TFTP Server Using YaST</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.tftp.yast">#</a></h3></div></div></div><div class="procedure " id="proc.deployment.prep_boot.tftp.yast"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Log in as <code class="systemitem">root</code>.
     </p></li><li class="step "><p>
      Start <span class="guimenu">YaST</span> › <span class="guimenu">Network
      Services</span> › <span class="guimenu">TFTP Server</span> and
      install the requested package.
     </p></li><li class="step "><p>
      Click <span class="guimenu">Enable</span> to make sure that the server is started
      and included in the boot routines. No further action from your side is
      required to secure this. xinetd starts tftpd at boot time.
     </p></li><li class="step "><p>
      Click <span class="guimenu">Open Port in Firewall</span> to open the appropriate
      port in the firewall running on your machine. If there is no firewall
      running on your server, this option is not available.
     </p></li><li class="step "><p>
      Click <span class="guimenu">Browse</span> to browse for the boot image directory.
      The default directory <code class="filename">/tftpboot</code> is created and
      selected automatically.
     </p></li><li class="step "><p>
      Click <span class="guimenu">Finish</span> to apply your settings and start the
      server.
     </p></li></ol></div></div></div><div class="sect2 " id="sec.deployment.prep_boot.tftp.man"><div class="titlepage"><div><div><h3 class="title" id="sec.deployment.prep_boot.tftp.man"><span class="number">5.2.2 </span><span class="name">Setting Up a TFTP Server Manually</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.tftp.man">#</a></h3></div></div></div><div class="procedure " id="proc.deployment.prep_boot.tftp.man"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Log in as <code class="systemitem">root</code> and install the packages
      <code class="systemitem">tftp</code> and <code class="systemitem">xinetd</code>.
     </p></li><li class="step "><p>
      If unavailable, create <code class="filename">/srv/tftpboot</code> and
      <code class="filename">/srv/tftpboot/pxelinux.cfg</code> directories.
     </p></li><li class="step "><p>
      Add the appropriate files needed for the boot image as described in
      <a class="xref" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.pxe" title="5.3. Using PXE Boot">Section 5.3, “Using PXE Boot”</a>.
     </p></li><li class="step "><p>
      Modify the configuration of xinetd located under
      <code class="filename">/etc/xinetd.d</code> to make sure that the TFTP server is
      started on boot:
     </p><ol type="a" class="substeps "><li class="step "><p>
        If it does not exist, create a file called <code class="filename">tftp</code>
        under this directory with <code class="command">touch tftp</code>. Then run
        <code class="command">chmod 755 tftp</code>.
       </p></li><li class="step "><p>
        Open the file <code class="filename">tftp</code> and add the following lines:
       </p><div class="verbatim-wrap"><pre class="screen">service tftp
{
        socket_type            = dgram
        protocol               = udp
        wait                   = yes
        user                   = root
        server                 = /usr/sbin/in.tftpd
        server_args            = -s /srv/tftpboot
        disable                = no
}</pre></div></li><li class="step "><p>
        Save the file and restart xinetd with <code class="command">systemctl restart
         xinetd</code>.
       </p></li></ol></li></ol></div></div></div></div><div class="sect1 " id="sec.deployment.prep_boot.pxe"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.prep_boot.pxe"><span class="number">5.3 </span><span class="name">Using PXE Boot</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.pxe">#</a></h2></div></div></div><p>
   Some technical background information and PXE's complete specifications are
   available in the Preboot Execution Environment (PXE) Specification
   (<a class="link" href="http://www.pix.net/software/pxeboot/archive/pxespec.pdf" target="_blank">http://www.pix.net/software/pxeboot/archive/pxespec.pdf</a>).
  </p><div class="procedure " id="proc.deployment.prep_boot.pxe"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Change to the directory
     <code class="filename">boot/&lt;architecture&gt;/loader</code> of your installation
     repository and copy the <code class="filename">linux</code>,
     <code class="filename">initrd</code>, <code class="filename">message</code>,
     <code class="filename">biostest</code>, and <code class="filename">memtest</code> files to
     the <code class="filename">/srv/tftpboot</code> directory by entering the
     following:
    </p><div class="verbatim-wrap"><pre class="screen">cp -a linux initrd message biostest memtest /srv/tftpboot</pre></div></li><li class="step "><p>
     Install the <code class="systemitem">syslinux</code> package directly from your
     installation DVDs with YaST.
    </p></li><li class="step "><p>
     Copy the <code class="filename">/usr/share/syslinux/pxelinux.0</code> file to the
     <code class="filename">/srv/tftpboot</code> directory by entering the following:
    </p><div class="verbatim-wrap"><pre class="screen">cp -a /usr/share/syslinux/pxelinux.0 /srv/tftpboot</pre></div></li><li class="step "><p>
     Change to the directory of your installation repository and copy the
     <code class="filename">isolinux.cfg</code> file to <code class="filename">
     /srv/tftpboot/pxelinux.cfg/default</code> by entering the following:
    </p><div class="verbatim-wrap"><pre class="screen">cp -a boot/&lt;architecture&gt;/loader/isolinux.cfg /srv/tftpboot/pxelinux.cfg/default</pre></div></li><li class="step "><p>
     Edit the <code class="filename">/srv/tftpboot/pxelinux.cfg/default</code> file and
     remove the lines beginning with <code class="literal">readinfo</code> and
     <code class="literal">framebuffer</code>.
    </p></li><li class="step "><p>

     Insert the following entries in the append lines of the default
     <code class="option">failsafe</code> and <code class="option">apic</code> labels:
    </p><div class="variablelist "><dl class="variablelist"><dt id="idm140298459699168"><span class="term "><code class="option">insmod=<em class="replaceable ">kernel module</em></code>
      </span></dt><dd><p>
        By means of this entry, enter the network Kernel module needed to
        support network installation on the PXE client. Replace
        <em class="replaceable ">kernel module</em> with the appropriate module
        name for your network device.
       </p></dd><dt id="idm140298459696160"><span class="term "><code class="option">netdevice=<em class="replaceable ">interface</em></code>
      </span></dt><dd><p>
        This entry defines the client's network interface that must be used for
        the network installation. It is only necessary if the client is
        equipped with several network cards and must be adapted accordingly. In
        case of a single network card, this entry can be omitted.
       </p></dd><dt id="idm140298459693504"><span class="term ">
<code class="option">install=nfs://<em class="replaceable ">ip_instserver</em>/<em class="replaceable ">path_to_repository</em>/DVD1</code>
      </span></dt><dd><p>
        This entry defines the NFS server and the repository for the client
        installation. Replace

        <em class="replaceable ">ip_instserver</em> with the actual IP address of
        your installation server. <em class="replaceable ">path_to_repository</em>
        should be replaced with the actual path to the repository. HTTP, FTP,
        or SMB repositories are addressed in a similar manner, except for the
        protocol prefix, which should read <code class="literal">http</code>,
        <code class="literal">ftp</code>, or <code class="literal">smb</code>.
       </p><div id="idm140298459688112" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Adding Boot Options</h6><p>
         If you need to pass other boot options to the installation routines,
         such as SSH or VNC boot parameters, append them to the
         <code class="option">install</code> entry. An overview of parameters and some
         examples are given in
         <a class="xref" href="cha.deployment.remoteinst.html#sec.deployment.remoteinst.bootinst" title="6.2. Booting the Target System for Installation">Section 6.2, “Booting the Target System for Installation”</a>.
        </p></div></dd></dl></div><div id="idm140298459685056" class="admonition tip normal"><img class="symbol" alt="Tip" title="Tip" src="static/images/icon-tip.png" /><h6>Tip: Changing Kernel and initrd File Names</h6><p>
      It is possible to use different file names for Kernel and initrd images.
      This is useful if you want to provide different operating systems from
      the same boot server. However, you should be aware that only one dot is
      permitted in the file names that are provided by TFTP for the PXE boot.
     </p></div><p>
     An example <code class="option">/srv/tftpboot/pxelinux.cfg/default</code> file
     follows. Adjust the protocol prefix for the repository to match your
     network setup and specify your preferred method of connecting to the
     installer by adding the <code class="literal">vnc</code> and
     <code class="literal">VNCPassword</code> or the <code class="literal">ssh</code> and
     <code class="literal">ssh.password</code> options to the <code class="literal">install</code>
     entry. The lines separated by <code class="literal">\</code> must be entered as one
     continuous line without a line break and without the <code class="literal">\</code>.
    </p><div class="verbatim-wrap"><pre class="screen">default harddisk

# default
label linux
  kernel linux
  append initrd=initrd ramdisk_size=65536 \
     install=nfs://<em class="replaceable ">ip_instserver</em>/<em class="replaceable ">path_to_repository</em>/<em class="replaceable ">product</em>/DVD1

# repair
label repair
  kernel linux
  append initrd=initrd splash=silent repair=1 showopts

# rescue
label rescue
  kernel linux
  append initrd=initrd ramdisk_size=65536 rescue=1

# bios test
label firmware
  kernel linux
  append initrd=biostest,initrd splash=silent install=exec:/bin/run_biostest showopts

#  memory test
label memtest
  kernel memtest

#  hard disk
label harddisk
  localboot 0

implicit     0
display      message
prompt       1
timeout      100</pre></div></li><li class="step "><p>
     Replace

     <em class="replaceable ">ip_instserver</em> and
     <em class="replaceable ">path_to_repository</em> with the values used in your
     setup.
    </p><p>
     The following section serves as a short reference to the PXELINUX options
     used in this setup. Find more information about the options available in
     the documentation of the <code class="systemitem">syslinux</code> package located
     under <code class="filename">/usr/share/doc/packages/syslinux/</code>.
    </p></li></ol></div></div></div><div class="sect1 " id="sec.deployment.prep_boot.pxeopts"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.prep_boot.pxeopts"><span class="number">5.4 </span><span class="name">PXELINUX Configuration Options</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.pxeopts">#</a></h2></div></div></div><p>
   The options listed here are a subset of all the options available for the
   PXELINUX configuration file.
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140298459670848"><span class="term "><code class="option">APPEND <em class="replaceable ">options... </em></code>
    </span></dt><dd><p>
      Add one or more options to the Kernel command line. These are added for
      both automatic and manual boots. The options are added at the very
      beginning of the Kernel command line, usually permitting explicitly
      entered Kernel options to override them.
     </p></dd><dt id="idm140298459668224"><span class="term "><code class="option">APPEND -</code>
    </span></dt><dd><p>
      Append nothing. <code class="option">APPEND</code> with a single hyphen as argument
      in a <code class="option">LABEL</code> section can be used to override a global
      <code class="option">APPEND</code>.
     </p></dd><dt id="idm140298459664736"><span class="term "><code class="option">DEFAULT <em class="replaceable ">kernel options</em>...</code>
    </span></dt><dd><p>
      Sets the default Kernel command line. If PXELINUX boots automatically, it
      acts as if the entries after DEFAULT had been typed in at the boot
      prompt, except the auto option is automatically added, indicating an
      automatic boot.
     </p><p>
      If no configuration file exists or no DEFAULT entry is defined in the
      configuration file, the default is the Kernel name <span class="quote">“<span class="quote">linux</span>”</span>
      with no options.
     </p></dd><dt id="idm140298459660944"><span class="term "><code class="option">IFAPPEND <em class="replaceable ">FLAG</em></code>
    </span></dt><dd><p>
      Adds a specific option to the kernel command line depending on the
      <em class="replaceable ">FLAG</em> value. The <code class="option">IFAPPEND</code>
      option is available only on PXELINUX. <em class="replaceable ">FLAG</em>
      expects a value, described in
      <a class="xref" href="cha.deployment.prep_boot.html#tab.deployment.boot.pxeopts.ifappend" title="Generated and Added Kernel Command Line Options from IFAPPEND">Table 5.1, “Generated and Added Kernel Command Line Options from <code class="option">IFAPPEND</code>”</a>:
     </p><div class="table" id="tab.deployment.boot.pxeopts.ifappend"><div class="table-title-wrap"><h6 class="table-title"><span class="number">Table 5.1: </span><span class="name">Generated and Added Kernel Command Line Options from <code class="option">IFAPPEND</code> </span><a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#tab.deployment.boot.pxeopts.ifappend">#</a></h6></div><div class="table-contents"><table summary="Generated and Added Kernel Command Line Options from IFAPPEND" border="1"><colgroup><col /><col /></colgroup><thead><tr><th valign="middle">
          <p>
           Argument
          </p>
         </th><th>
          <p>
           Generated Kernel Command Line / Description
          </p>
         </th></tr></thead><tbody><tr><td>
          <p>
           <code class="option">1</code>
          </p>
         </td><td>
<div class="verbatim-wrap"><pre class="screen">ip=<em class="replaceable ">CLIENT_IP</em>:<em class="replaceable ">BOOT_SERVER_IP</em>:<em class="replaceable ">GW_IP</em>:<em class="replaceable ">NETMASK</em></pre></div>
          <p>
           The placeholders are replaced based on the input from the DHCP/BOOTP
           or PXE boot server.
          </p>
          <p>
           Note, this option is not a substitute for running a DHCP client in
           the booted system. Without regular renewals, the lease acquired by
           the PXE BIOS will expire, making the IP address available for reuse
           by the DHCP server.
          </p>
         </td></tr><tr><td>
          <p>
           <code class="option">2</code>
          </p>
         </td><td>
<div class="verbatim-wrap"><pre class="screen">BOOTIF=<em class="replaceable ">MAC_ADDRESS_OF_BOOT_INTERFACE</em></pre></div>
          <p>
           This option is useful if you want to avoid timeouts when the
           installation server probes one LAN interface after the other until
           it gets a reply from a DHCP server. Using this option allows an
           initrd program to determine from which interface the system has been
           booted. linuxrc reads this option and uses this network interface.
          </p>
         </td></tr><tr><td>
          <p>
           <code class="option">4</code>
          </p>
         </td><td>
<div class="verbatim-wrap"><pre class="screen">SYSUUID=<em class="replaceable ">SYSTEM_UUID</em></pre></div>
          <p>
           Adds UUIDs in lowercase hexadecimals, see
           <code class="filename">/usr/share/doc/packages/syslinux/pxelinux.txt</code>
          </p>
         </td></tr></tbody></table></div></div></dd><dt id="idm140298459636176"><span class="term "><code class="option">LABEL <em class="replaceable ">label</em> KERNEL <em class="replaceable ">image</em>
       APPEND <em class="replaceable ">options</em>...</code>
    </span></dt><dd><p>
      Indicates that if <em class="replaceable ">label</em> is entered as the
      Kernel to boot, PXELINUX should instead boot
      <em class="replaceable ">image</em> and the specified
      <code class="option">APPEND</code> options should be used instead of the ones
      specified in the global section of the file (before the first
      <code class="option">LABEL</code> command). The default for
      <em class="replaceable ">image</em> is the same as
      <em class="replaceable ">label</em> and, if no <code class="option">APPEND</code> is
      given, the default is to use the global entry (if any). Up to 128
      <code class="option">LABEL</code> entries are permitted.
     </p><p>
      PXELINUX uses the following syntax:
     </p><div class="verbatim-wrap"><pre class="screen">label <em class="replaceable ">mylabel</em>
  kernel <em class="replaceable ">mykernel</em>
  append <em class="replaceable ">myoptions</em></pre></div><p>
      Labels are mangled as if they were file names and they must be unique
      after mangling. For example, the two labels <span class="quote">“<span class="quote">v2.6.30</span>”</span> and
      <span class="quote">“<span class="quote">v2.6.31</span>”</span> would not be distinguishable under PXELINUX
      because both mangle to the same DOS file name.
     </p><p>
      The Kernel does not need to be a Linux Kernel; it can be a boot sector or
      a COMBOOT file.
     </p></dd><dt id="idm140298459624688"><span class="term "><code class="option">LOCALBOOT <em class="replaceable ">type</em></code>
    </span></dt><dd><p>
      On PXELINUX, specifying <code class="option">LOCALBOOT 0</code> instead of a
      <code class="option">KERNEL</code> option means invoking this particular label and
      causes a local disk boot instead of a Kernel boot.
     </p><div class="informaltable"><table border="1"><colgroup><col /><col /></colgroup><thead><tr><th>
          <p>
           Argument
          </p>
         </th><th>
          <p>
           Description
          </p>
         </th></tr></thead><tbody><tr><td>
          <p>
           <code class="literal">0</code>
          </p>
         </td><td>
          <p>
           Perform a normal boot
          </p>
         </td></tr><tr><td>
          <p>
           <code class="literal">4</code>
          </p>
         </td><td>
          <p>
           Perform a local boot with the Universal Network Driver Interface
           (UNDI) driver still resident in memory
          </p>
         </td></tr><tr><td>
          <p>
           <code class="literal">5</code>
          </p>
         </td><td>
          <p>
           Perform a local boot with the entire PXE stack, including the UNDI
           driver, still resident in memory
          </p>
         </td></tr></tbody></table></div><p>
      All other values are undefined. If you do not know what the UNDI or PXE
      stacks are, specify <code class="literal">0</code>.
     </p></dd><dt id="idm140298459389616"><span class="term "><code class="option">TIMEOUT <em class="replaceable ">time-out</em></code>
    </span></dt><dd><p>
      Indicates how long to wait at the boot prompt until booting
      automatically, in units of 1/10 second. The time-out is canceled when the
      user types anything on the keyboard, assuming the user will complete the
      command begun. A time-out of zero disables the time-out completely (this
      is also the default). The maximum possible time-out value is 35996 (just
      less than one hour).
     </p></dd><dt id="idm140298459386848"><span class="term "><code class="option">PROMPT<em class="replaceable "> flag_val</em></code>
    </span></dt><dd><p>
      If <code class="option">flag_val</code> is 0, displays the boot prompt only if
      <span class="keycap">Shift</span> or <span class="keycap">Alt</span> is pressed or
      <span class="keycap">Caps Lock</span> or <span class="keycap">Scroll Lock</span> is set (this
      is the default). If <code class="option">flag_val</code> is 1, always displays the
      boot prompt.
     </p><div class="verbatim-wrap"><pre class="screen">F2  <em class="replaceable ">filename</em>
F1  <em class="replaceable ">filename</em>
..etc...
F9  <em class="replaceable ">filename</em>
F10 <em class="replaceable ">filename</em></pre></div><p>
      Displays the indicated file on the screen when a function key is pressed
      at the boot prompt. This can be used to implement preboot online help
      (presumably for the Kernel command line options). For backward
      compatibility with earlier releases, <span class="keycap">F10</span> can be also
      entered as <code class="literal">F0</code>. Note that there is currently no way to
      bind file names to <span class="keycap">F11</span> and <span class="keycap">F12</span>.
     </p></dd></dl></div></div><div class="sect1 " id="sec.deployment.prep_boot.pxeprep"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.prep_boot.pxeprep"><span class="number">5.5 </span><span class="name">Preparing the Target System for PXE Boot</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.pxeprep">#</a></h2></div></div></div><p>
   Prepare the system's BIOS for PXE boot by including the PXE option in the
   BIOS boot order.
  </p><div id="idm140298459374704" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: BIOS Boot Order</h6><p>
    Do not place the PXE option ahead of the hard disk boot option in the BIOS.
    Otherwise this system would try to re-install itself every time you boot
    it.
   </p></div></div><div class="sect1 " id="sec.deployment.prep_boot.wolprep"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.prep_boot.wolprep"><span class="number">5.6 </span><span class="name">Preparing the Target System for Wake on LAN</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.wolprep">#</a></h2></div></div></div><p>
   Wake on LAN (WOL) requires the appropriate BIOS option to be enabled prior
   to the installation. Also, note down the MAC address of the target system.
   This data is needed to initiate Wake on LAN.
  </p></div><div class="sect1 " id="sec.deployment.prep_boot.wol"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.prep_boot.wol"><span class="number">5.7 </span><span class="name">Wake on LAN</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.wol">#</a></h2></div></div></div><p>
   Wake on LAN allows a machine to be turned on by a special network packet
   containing the machine's MAC address. Because every machine in the world has
   a unique MAC identifier, you do not need to worry about accidentally turning
   on the wrong machine.
  </p><div id="idm140298459369104" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Wake on LAN across Different Network Segments</h6><p>
    If the controlling machine is not located in the same network segment as
    the installation target that should be awakened, either configure the WOL
    requests to be sent as multicasts or remotely control a machine on that
    network segment to act as the sender of these requests.
   </p></div><p>
   Users of SUSE Linux Enterprise Server can use a YaST module called WOL to easily configure Wake
   on LAN. Users of other versions of SUSE Linux-based operating systems can
   use a command line tool.
  </p></div><div class="sect1 " id="sec.deployment.prep_boot.wolyast"><div class="titlepage"><div><div><h2 class="title" id="sec.deployment.prep_boot.wolyast"><span class="number">5.8 </span><span class="name">Wake on LAN with YaST</span> <a title="Permalink" class="permalink" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.wolyast">#</a></h2></div></div></div><div class="procedure " id="proc.deployment.prep_boot.wolyast"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Log in as <code class="systemitem">root</code>.
    </p></li><li class="step "><p>
     Start <span class="guimenu">YaST</span> › <span class="guimenu">Network
     Services</span> › <span class="guimenu">WOL</span>.
    </p></li><li class="step "><p>
     Click <span class="guimenu">Add</span> and enter the host name and MAC address of
     the target system.
    </p></li><li class="step "><p>
     To turn on this machine, select the appropriate entry and click
     <span class="guimenu">Wake up</span>.
    </p></li></ol></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="part.remoteinstall.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Part IV </span>Remote Installation</span></a><a class="nav-link" href="cha.deployment.instserver.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 4 </span>Setting Up the Server Holding the Installation Sources</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>