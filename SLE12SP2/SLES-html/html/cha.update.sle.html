<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Upgrading SUSE Linux Enterprise | Deployment Guide | SUSE Linux Enterprise Server 12 SP2</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 2.4.0 using SUSE XSL Stylesheets 2.0.8 (based on DocBook XSL Stylesheets 1.78.1) - chunked" /><meta name="product-name" content="SUSE Linux Enterprise Server" /><meta name="product-number" content="12 SP2" /><meta name="book-title" content="Deployment Guide" /><meta name="chapter-title" content="Chapter 18. Upgrading SUSE Linux Enterprise" /><meta name="description" content="SUSE® Linux Enterprise (SLE) allows to upgrade an existing system to the new version, for example, going from SLE 11 SP4 to the lates SLE 12 service pack. No new installation is needed. Existing data, such as home and data directories and system configuration, is kept intact. You can update from a local CD or DVD drive or from a central network installation source. This chapter explains how to manually upgrade your SUSE Linux Enterprise system, be it by DVD, network, an automated process, or SUSE Manager." /><meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi" /><meta name="tracker-type" content="bsc" /><meta name="tracker-bsc-assignee" content="fs@suse.com" /><meta name="tracker-bsc-component" content="Documentation" /><meta name="tracker-bsc-product" content="SUSE Linux Enterprise Server 12 SP2" /><link rel="home" href="index.html" title="SUSE Linux Enterprise Server Documentation" /><link rel="up" href="part.update.html" title="Part VI. Updating and Upgrading SUSE Linux Enterprise" /><link rel="prev" href="cha.update.background.html" title="Chapter 17. Life Cycle and Support" /><link rel="next" href="cha.update.spmigration.html" title="Chapter 19. Service Pack Migration" /><script type="text/javascript">

var protocol = window.location.protocol.toLowerCase();
if ( protocol != 'file:' ) {
  var agent = navigator.userAgent.toLowerCase();
  var wanted = ( protocol == 'https:') ? 'https' : 'http';
  var file = 'fonts.css';
  document.write('<link rel="stylesheet" type="text/css" href="' + wanted + '://static.opensuse.org/fonts/'+ file +'"></link>');
}
else {
   document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="http://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="draft offline js-off"><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.sle.deployment.html">Deployment Guide</a><span> › </span><a class="crumb" href="part.update.html">Updating and Upgrading SUSE Linux Enterprise</a><span> › </span><a class="crumb" href="cha.update.sle.html">Upgrading SUSE Linux Enterprise</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>Deployment Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="preface.deployment.html"><span class="number"> </span><span class="name">About This Guide</span></a></li><li class="inactive"><a href="cha.planning.html"><span class="number">1 </span><span class="name">Planning for <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span></a></li><li class="inactive"><a href="part.prep.html"><span class="number">I </span><span class="name">Installation Preparation</span></a><ol><li class="inactive"><a href="cha.x86.html"><span class="number">2 </span><span class="name">Installation on AMD64 and Intel 64</span></a></li><li class="inactive"><a href="cha.power.html"><span class="number">3 </span><span class="name">Installation on IBM POWER</span></a></li><li class="inactive"><a href="cha.zseries.html"><span class="number">4 </span><span class="name">Installation on IBM z Systems</span></a></li><li class="inactive"><a href="cha.aarch64.html"><span class="number">5 </span><span class="name">Installation on ARM AArch64</span></a></li></ol></li><li class="inactive"><a href="part.mandeploy.html"><span class="number">II </span><span class="name">The Installation Workflow</span></a><ol><li class="inactive"><a href="cha.inst.html"><span class="number">6 </span><span class="name">Installation with YaST</span></a></li></ol></li><li class="inactive"><a href="part.installserver.html"><span class="number">III </span><span class="name">Setting up an Installation Server</span></a><ol><li class="inactive"><a href="cha.deployment.instserver.html"><span class="number">7 </span><span class="name">Setting Up the Server Holding the Installation Sources</span></a></li><li class="inactive"><a href="cha.deployment.prep_boot.html"><span class="number">8 </span><span class="name">Preparing the Boot of the Target System</span></a></li></ol></li><li class="inactive"><a href="part.remoteinstall.html"><span class="number">IV </span><span class="name">Remote Installation</span></a><ol><li class="inactive"><a href="cha.deployment.remoteinst.html"><span class="number">9 </span><span class="name">Remote Installation</span></a></li></ol></li><li class="inactive"><a href="part.sysconfig.html"><span class="number">V </span><span class="name">Initial System Configuration</span></a><ol><li class="inactive"><a href="cha.y2.hw.html"><span class="number">10 </span><span class="name">Setting Up Hardware Components with YaST</span></a></li><li class="inactive"><a href="cha.advdisk.html"><span class="number">11 </span><span class="name">Advanced Disk Setup</span></a></li><li class="inactive"><a href="cha.y2.sw.html"><span class="number">12 </span><span class="name">Installing or Removing Software</span></a></li><li class="inactive"><a href="cha.add-ons.html"><span class="number">13 </span><span class="name">Installing Modules, Extensions, and Third Party Add-On Products</span></a></li><li class="inactive"><a href="cha.tuning.multikernel.html"><span class="number">14 </span><span class="name">Installing Multiple Kernel Versions</span></a></li><li class="inactive"><a href="cha.y2.userman.html"><span class="number">15 </span><span class="name">Managing Users with YaST</span></a></li><li class="inactive"><a href="cha.y2.lang.html"><span class="number">16 </span><span class="name">Changing Language and Country Settings with YaST</span></a></li></ol></li><li class="inactive"><a href="part.update.html"><span class="number">VI </span><span class="name">Updating and Upgrading SUSE Linux Enterprise</span></a><ol><li class="inactive"><a href="cha.update.background.html"><span class="number">17 </span><span class="name">Life Cycle and Support</span></a></li><li class="inactive"><a href="cha.update.sle.html"><span class="number">18 </span><span class="name">Upgrading SUSE Linux Enterprise</span></a></li><li class="inactive"><a href="cha.update.spmigration.html"><span class="number">19 </span><span class="name">Service Pack Migration</span></a></li><li class="inactive"><a href="cha.update.backporting.html"><span class="number">20 </span><span class="name">Backporting Source Code</span></a></li></ol></li><li class="inactive"><a href="app.deployment.docupdates.html"><span class="number">A </span><span class="name">Documentation Updates</span></a></li><li class="inactive"><a href="bk02apb.html"><span class="number">B </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 17. Life Cycle and Support" href="cha.update.background.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 19. Service Pack Migration" href="cha.update.spmigration.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="SUSE Linux Enterprise Server Documentation"><span class="book-icon">SUSE Linux Enterprise Server Documentation</span></a><span> › </span><a class="crumb" href="book.sle.deployment.html">Deployment Guide</a><span> › </span><a class="crumb" href="part.update.html">Updating and Upgrading SUSE Linux Enterprise</a><span> › </span><a class="crumb" href="cha.update.sle.html">Upgrading SUSE Linux Enterprise</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 17. Life Cycle and Support" href="cha.update.background.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 19. Service Pack Migration" href="cha.update.spmigration.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class="draft "><div class="documentation"><div class="chapter " id="cha.update.sle"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname"><span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span></span> <span class="productnumber"><span class="productnumber"><span class="phrase">12 SP2</span></span></span></div><div><h2 class="title"><span class="number">18 </span><span class="name">Upgrading SUSE Linux Enterprise</span> </h2><div class="doc-status"><ul><li><span class="ds-label">Filename: </span>sle_update_upgrading.xml</li><li><span class="ds-label">ID: </span>cha.update.sle</li></ul></div></div><div><div class="abstract"><div class="abstract-title-wrap"><h6 class="abstract-title">Abstract<a title="Permalink" class="permalink" href="cha.update.sle.html#idm140275156251712">#</a></h6></div><p>
    SUSE® Linux Enterprise (SLE) allows to upgrade an existing system to the new version,
    for example, going from SLE 11 SP4 to the lates SLE 12 service
    pack. No new installation is needed. Existing data, such as home and data
    directories and system configuration, is kept intact. You can update from a
    local CD or DVD drive or from a central network installation source.
   </p><p>
    This chapter explains how to manually upgrade your SUSE Linux Enterprise system, be it by
    DVD, network, an automated process, or SUSE Manager.
   </p></div></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.prep"><span class="number">18.1 </span><span class="name">General Preparations</span></a></span></dt><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.disk"><span class="number">18.2 </span><span class="name">Disk Space</span></a></span></dt><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.proc.prep.paths"><span class="number">18.3 </span><span class="name">Supported Upgrade Paths for SLE</span></a></span></dt><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.sle12"><span class="number">18.4 </span><span class="name">Supported Methods for Upgrading SUSE Linux Enterprise</span></a></span></dt><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.sle12zseries"><span class="number">18.5 </span><span class="name">Upgrading on IBM z Systems</span></a></span></dt><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.sle12.manual"><span class="number">18.6 </span><span class="name">Upgrading Manually from SLE 11 SP3 or SP4 to SLE 12 SP2, Using an Installation Source</span></a></span></dt><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.sle12.automated"><span class="number">18.7 </span><span class="name">Migrating Automatically from SLE 11 SP3 or SP4 to SLE 12 SP2</span></a></span></dt><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.sle12.start.upgr.after.boot"><span class="number">18.8 </span><span class="name">Starting the Upgrade Process After Booting</span></a></span></dt><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.sle12.manager"><span class="number">18.9 </span><span class="name">Updating via SUSE Manager</span></a></span></dt><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.reg.status.after.rollback"><span class="number">18.10 </span><span class="name">Updating Registration Status After Rollback</span></a></span></dt><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.registersystem"><span class="number">18.11 </span><span class="name">Registering Your System</span></a></span></dt><dt><span class="sect1"><a href="cha.update.sle.html#sec.update.sle12.multiversion"><span class="number">18.12 </span><span class="name">Retaining Kernel Packages</span></a></span></dt></dl></div></div><div class="sect1 " id="sec.update.prep"><div class="titlepage"><div><div><h2 class="title" id="sec.update.prep"><span class="number">18.1 </span><span class="name">General Preparations</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.prep">#</a></h2></div></div></div><p>
   Before starting the update procedure, make sure your system is properly
   prepared. Among others, preparation involves backing up data and checking
   the release notes.
  </p><div class="sect2 " id="sec.update.prep.update"><div class="titlepage"><div><div><h3 class="title" id="sec.update.prep.update"><span class="number">18.1.1 </span><span class="name">Make Sure the Current System is Up-To-Date</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.prep.update">#</a></h3></div></div></div><p>
    Upgrading the system is only supported from the most recent
    patch-level. Make sure the latest system updates are installed by either
    running <code class="command">zypper patch</code> or by starting the YaST module
    <span class="guimenu">Online-Update</span>.
   </p></div><div class="sect2 " id="sec.update.prep.backup"><div class="titlepage"><div><div><h3 class="title" id="sec.update.prep.backup"><span class="number">18.1.2 </span><span class="name">Make a Backup</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.prep.backup">#</a></h3></div></div></div><p>
    Before updating, copy existing configuration files to a separate medium
    (such as tape device, removable hard disk, etc.) to back up the data. This
    primarily applies to files stored in <code class="filename">/etc</code> and some
    directories and files in <code class="filename">/var</code> and
    <code class="filename">/opt</code>. You may also want to write the user data in
    <code class="filename">/home</code> (the <code class="envar">HOME</code> directories) to a
    backup medium. Back up this data as <code class="systemitem">root</code>. Only <code class="systemitem">root</code> has read
    permissions for all local files.
   </p><p>
    If you have selected <span class="guimenu">Update an Existing System</span> as the
    installation mode in YaST, you can choose to do a (system) backup at a
    later point in time. You can choose to include all modified files and files
    from the <code class="filename">/etc/sysconfig</code> directory. However, this is
    not a complete backup, as all the other important directories mentioned
    above are missing. Find the backup in the
    <code class="filename">/var/adm/backup</code> directory.
   </p><div class="sect3 " id="sec.update.prep.backup.packagelist"><div class="titlepage"><div><div><h4 class="title" id="sec.update.prep.backup.packagelist"><span class="number">18.1.2.1 </span><span class="name">Listing Installed Packages and Repositories</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.prep.backup.packagelist">#</a></h4></div></div></div><p>
     It is often useful to have a list of installed packages,
     for example when doing a fresh install of a new major SLE release or reverting
     to the old version.
    </p><p>
     Be aware that not all installed packages or used repositories are
     available in newer releases of SUSE Linux Enterprise. Some may have been renamed and
     others replaced. It is also possible that some packages are still
     available for legacy purposes while another package is used by
     default. Therefore some manual editing of the files might be
     necessary. This can be done with any text editor.
    </p><p>
     Create a file named <code class="filename">repositories.bak</code> containing a
     list of all used repositories:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">zypper</code> lr -e repositories.bak</pre></div><p>
     Also create a file named <code class="filename">installed-software.bak</code>
     containing a list of all installed packages:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">rpm</code> -qa --queryformat '%{NAME}\n' &gt; installed-software.bak</pre></div><p>
     Back up both files. The repositories and installed packages can be
     restored with the following commands:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">zypper</code> ar repositories.bak
<code class="prompt root">root # </code><code class="command">zypper</code> install $(cat installed-software.bak)</pre></div><div id="note.update.prep.backup.package_amount" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: 
      Amount of Packages Increases with an Update to a new Major Release
     </h6><p>
      A system upgraded to a new major version
      (SLE <em class="replaceable ">X+1</em>) may contain more packages than
      the initial system (SLE <em class="replaceable ">X</em>). It will also
      contain more packages than a fresh installation of
      SLE <em class="replaceable ">X+1</em> with the same pattern
      selection. Reasons for this are:
     </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        Packages got split to allow a more fine-grained package selection. For
        example, 37 <span class="package">texlive</span> packages on SLE 11 were split
        into 422 packages on SLE 12.
       </p></li><li class="listitem "><p>
        When a package got split into other packages all new packages are
        installed in the upgrade case to retain the same functionality as with
        the previous version. However, the new default for a fresh installation
        of SLE <em class="replaceable ">X+1</em> may be to not install all
        packages.
       </p></li><li class="listitem "><p>
        Legacy packages from SLE <em class="replaceable ">X</em> may be kept
        for compatibility reasons.
       </p></li><li class="listitem "><p>
        Package dependencies and the scope of patterns may have changed.
       </p></li></ul></div></div></div></div><div class="sect2 " id="sec.update.prep.relnotes"><div class="titlepage"><div><div><h3 class="title" id="sec.update.prep.relnotes"><span class="number">18.1.3 </span><span class="name">Read the Release Notes</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.prep.relnotes">#</a></h3></div></div></div><p>
    In the release notes you can find additional information on changes
    since the previous release of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>. Check the release notes
    to see whether:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      your hardware needs special considerations.
     </p></li><li class="listitem "><p>
      any used software packages have changed significantly.
     </p></li><li class="listitem "><p>
      special precautions are necessary for your installation.
     </p></li></ul></div><p>
    The release notes also provide information that could not make it
    into the manual on time. They also contain notes about known issues.
   </p><p>
    If you are skipping one or more Service Packs, check the release
    notes of the skipped Service Packs as well. The release notes
    usually only contain the changes between two subsequent releases.
    You can miss important changes if you are only reading the
    current release notes.
   </p><p>
    Find the release notes locally in the directory
    <code class="filename">/usr/share/doc/release-notes</code> or online at
    <a class="link" href="https://www.suse.com/releasenotes/" target="_blank">https://www.suse.com/releasenotes/</a>.
   </p></div><div class="sect2 " id="sec.update.prep.vms"><div class="titlepage"><div><div><h3 class="title" id="sec.update.prep.vms"><span class="number">18.1.4 </span><span class="name">Shut Down Virtual Machine Guests</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.prep.vms">#</a></h3></div></div></div><p>
    If your machine serves as a VM Host Server for KVM or Xen, make sure to
    properly shut down all running VM Guests prior to the update. Otherwise
    you may not be able to access the guests after the update.
   </p></div><div class="sect2 " id="sec.update.prep.multiversion"><div class="titlepage"><div><div><h3 class="title" id="sec.update.prep.multiversion"><span class="number">18.1.5 </span><span class="name">Temporarily Disable Kernel Multiversion Support</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.prep.multiversion">#</a></h3></div></div></div><p>
    <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> allows to install multiple Kernel versions by enabling the
    respective settings in <code class="filename">/etc/zypp/zypp.conf</code>. Support
    for this feature needs to be temporarily disabled for updating to a service
    pack. When the update has successfully finished; multiversion support can be
    re-enabled again. To disable multiversion support, comment the respective
    lines in <code class="filename">/etc/zypp/zypp.conf</code>. The result should look
    like this:
   </p><div class="verbatim-wrap"><pre class="screen">#multiversion = provides:multiversion(kernel)
#multiversion.kernels = latest,running</pre></div><p>
    To re-activate this feature after a successful update, remove the comment
    signs. For more information about multiversion support, refer to
    <a class="xref" href="cha.tuning.multikernel.html#cha.tuning.multikernel.enable" title="14.1. Enabling and Configuring Multiversion Support">Section 14.1, “Enabling and Configuring Multiversion Support”</a>.
   </p></div><div class="sect2 " id="sec.update.prep.mariadb"><div class="titlepage"><div><div><h3 class="title" id="sec.update.prep.mariadb"><span class="number">18.1.6 </span><span class="name">Migrate your MySQL Database</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.prep.mariadb">#</a></h3></div></div></div><p>
    As of SUSE Linux Enterprise 12, SUSE switched from MySQL to MariaDB. Before you start any
    upgrade, it is highly recommended to back up your database.
   </p><p>
    To perform the database migration, do the following:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Log in to your SUSE Linux Enterprise 11 machine.
     </p></li><li class="step "><p>
      Create a dump file:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">mysqldump</code> -u root -p --all-databases &gt; mysql_backup.sql</pre></div><p>
      By default, <code class="command">mysqldump</code> does not dump the
      <code class="literal">INFORMATION_SCHEMA</code> or
      <code class="literal">performance_schema</code> database. For more details refer to
      <a class="link" href="https://dev.mysql.com/doc/refman/5.5/en/mysqldump.html" target="_blank">https://dev.mysql.com/doc/refman/5.5/en/mysqldump.html</a>.
     </p></li><li class="step "><p>
      Store your dump file, the configuration file
      <code class="filename">/etc/my.cnf</code>, and the directory
      <code class="filename">/etc/mysql/</code> for later investigation
      (<span class="emphasis"><em>NOT</em></span> installation!) in a safe place.
     </p></li><li class="step "><p>
      Perform your upgrade. After the upgrade, your former configuration file
      <code class="filename">/etc/my.cnf</code> is still intact. You can find the new
      configuration in the file <code class="filename">/etc/my.cnf.rpmnew</code>.
     </p></li><li class="step "><p>
      Configure your MariaDB database to your needs. Do
      <span class="emphasis"><em>NOT</em></span> use the former configuration file and directory,
      but use it as a reminder and adapt it.
     </p></li><li class="step "><p>
      Make sure you start the MariaDB server:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">systemctl</code> start mysql</pre></div><p>
      If you want to start the MariaDB server on every boot, enable the
      service:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">systemctl</code> enable mysql</pre></div></li><li class="step "><p>
      Verify that MariaDB is running properly by connecting to the database:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">mysql</code> -u root -p</pre></div></li></ol></div></div></div><div class="sect2 " id="sec.update.prep.postgresql"><div class="titlepage"><div><div><h3 class="title" id="sec.update.prep.postgresql"><span class="number">18.1.7 </span><span class="name">Migrate your PostgreSQL Database</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.prep.postgresql">#</a></h3></div></div></div><p>
    SLE11 SP3 and SLE12 GA get a newer version of the PostgreSQL
    database as a maintenance update. Because of the required migration work of
    the database, there is no automatic upgrade process. As such, the switch
    from one version to another needs to be done manually.
   </p><p>
    The migration process is conducted by the <code class="command">pg_upgrade</code>
    command which is an alternative method of the classic dump and reload. In
    comparison with the <span class="quote">“<span class="quote">dump &amp; reload</span>”</span> method,
    <code class="command">pg_upgrade</code> makes the migration less time-consuming.
   </p><p>
    Each PostgreSQL version stores its files in different, version-dependent
    directories. After the update the directories will change to:
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm140275156173024"><span class="term ">SLE11 SP3/SP4</span></dt><dd><p>
       <code class="filename">/usr/lib/postgresql91/</code> to
       <code class="filename">/usr/lib/postgresql94/</code>
      </p></dd><dt id="idm140275156170336"><span class="term ">SLE12 GA</span></dt><dd><p>
       <code class="filename">/usr/lib/postgresql93/</code> to
       <code class="filename">/usr/lib/postgresql94/</code>
      </p></dd></dl></div><p>
    To perform the database migration, do the following:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Make sure the following preconditions are fulfilled:
     </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
        If not already done, upgrade any package of the old PostgreSQL
        version to the latest release through a maintenance update.
       </p></li><li class="listitem "><p>
        Create a backup of your existing database.
       </p></li><li class="listitem "><p>
        Install the packages of the new PostgreSQL major version. For
        SLE12 this means to install
        <span class="package">postgresql94-server</span>
        and all the packages it depends on.
       </p></li><li class="listitem "><p>
        Install the package
        <span class="package">postgresql94-contrib</span>
        which contains the command <code class="command">pg_upgrade</code>.
       </p></li><li class="listitem "><p>
        Make sure you have enough free space in your PostgreSQL data area,
        which is <code class="filename">/var/lib/pgsql/data</code> by default. If space
        is tight, try to reduce size with the following SQL command on each
        database (can take very long!):
       </p><div class="verbatim-wrap"><pre class="screen">VACUUM FULL</pre></div></li></ul></div></li><li class="step "><p>
      Stop the PostgreSQL server:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">/usr/sbin/rcpostgresql</code> stop</pre></div></li><li class="step "><p>
      Rename your old data directory:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">mv</code> /var/lib/pgsql/data /var/lib/pgsql/data.old</pre></div></li><li class="step "><p>
      Create a new data directory:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">mkdir</code> -p /var/lib/pgsql/data</pre></div></li><li class="step "><p>
      If you have changed your configuration files in the old version, copy the
      files <code class="filename">postgresql.conf</code>
      <code class="filename">pg_hba.conf</code> to your new <code class="filename">data</code>
      directory:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">cp</code> /var/lib/pgsql/data.old/*.conf \
     /var/lib/pgsql/data</pre></div></li><li class="step "><p>
      Initialize your new database instance either manually with
      <code class="command">initdb</code> or by starting and stopping PostgreSQL, which
      will do it automatically:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">/usr/sbin/rcpostgresql</code> start
<code class="prompt root">root # </code><code class="command">/usr/sbin/rcpostgresql</code> stop</pre></div></li><li class="step "><p>
      Start the migration process and replace the
      <em class="replaceable ">OLD</em> placeholder with the older version:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">pg_upgrade</code> \
   --old-datadir "/var/lib/pgsql/data.old" \
   --new-datadir "/var/lib/pgsql/data" \
   --old-bindir "/usr/lib/postgresql<em class="replaceable ">OLD</em>/bin/" \
   --new-bindir "/usr/lib/postgresql94/bin/"</pre></div></li><li class="step "><p>
      Start your new database instance:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">/usr/sbin/rcpostgresql</code> start</pre></div></li><li class="step "><p>
      Check if the migration was successful. There is no general tool to
      automate this step. It depends on your use case how much and what you
      want to test.
     </p></li><li class="step "><p>
      Remove any old PostgreSQL packages and your old data directory:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">zypper</code> search -s postgresql<em class="replaceable ">OLD</em> | xargs zypper rm -u
<code class="prompt root">root # </code><code class="command">rm</code> -rf /var/lib/pgsql/data.old</pre></div></li></ol></div></div></div><div class="sect2 " id="sec.update.prep.ssl"><div class="titlepage"><div><div><h3 class="title" id="sec.update.prep.ssl"><span class="number">18.1.8 </span><span class="name">Create Non-MD5 Server Certificates for Java Applications</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.prep.ssl">#</a></h3></div></div></div><p>
    During the update from SP1 to SP2, MD5-based certificates were disabled as
    part of a security fix. If you have certificates created as MD5, recreate
    your certificates with the following steps:
   </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Open a terminal and log in as <code class="systemitem">root</code>.
     </p></li><li class="step "><p>
      Create a private key:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">openssl</code> genrsa -out server.key 1024</pre></div><p>
      If you want a stronger key, exchange <code class="literal">1024</code> with a
      higher number, for example, <code class="literal">4096</code>.
     </p></li><li class="step "><p>
      Create a certificate signing request (CSR):
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">openssl</code> req -new -key server.key -out server.csr</pre></div></li><li class="step "><p>
      Self-sign the certificate:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">openssl</code> x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</pre></div></li><li class="step "><p>
      Create the PEM file:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">cat</code> server.key server.crt &gt; server.pem</pre></div></li><li class="step "><p>Place the files <code class="filename">server.crt</code>,
      <code class="filename">server.csr</code>, <code class="filename">server.key</code>, and
      <code class="filename">server.pem</code> in the respective directories where
      the keys can be found. For Tomcat, for example, this directory is
      <code class="filename">/etc/tomcat/ssl/</code>.
     </p></li></ol></div></div></div><div class="sect2 " id="sec.update.prep.smt"><div class="titlepage"><div><div><h3 class="title" id="sec.update.prep.smt"><span class="number">18.1.9 </span><span class="name">Check the <code class="command">clientSetup4SMT.sh</code> script on SMT clients</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.prep.smt">#</a></h3></div></div></div><p>
    If you are migrating your client OS that is registered against an SMT server, you need to check if the version
    of the <code class="command">clientSetup4SMT.sh</code> script on your host is up to date.
<code class="command">clientSetup4SMT.sh</code> from older versions of SMT cannot manage SMT 12 clients.
    If you apply software patches regularly on your SMT server, you can always find the latest version
    of <code class="command">clientSetup4SMT.sh</code> at <code class="filename">&lt;SMT_HOSTNAME&gt;/repo/tools/clientSetup4SMT.sh</code>.
   </p></div></div><div class="sect1 " id="sec.update.disk"><div class="titlepage"><div><div><h2 class="title" id="sec.update.disk"><span class="number">18.2 </span><span class="name">Disk Space</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.disk">#</a></h2></div></div></div><p>
   Software tends to <span class="quote">“<span class="quote">grow</span>”</span> from version to version. Therefore,
   take a look at the available partition space before updating. If you suspect
   you are running short of disk space, secure your data before increasing the
   available space by resizing partitions, for example. There is no general
   rule regarding how much space each partition should have. Space requirements
   depend on your particular partitioning profile and the software selected.
  </p><div id="idm140275156108176" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Automatic Check for Enough Space in YaST</h6><p>
    During the update procedure, YaST will check the free disk space and
    display a warning to the user if the installation may exceed the available
    amount. In that case, performing the update may lead to an
    <span class="emphasis"><em>unusable system</em></span>! Only if you know exactly what you are
    doing (by testing beforehand), you can skip the warning and continue the
    update.
   </p></div><div class="sect2 " id="sec.update.disk.space"><div class="titlepage"><div><div><h3 class="title" id="sec.update.disk.space"><span class="number">18.2.1 </span><span class="name">Checking Disk Space on Non-Btrfs File Systems</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.disk.space">#</a></h3></div></div></div><p>
    Use the <code class="command">df</code> command to list available disk space. For
    example, in <a class="xref" href="cha.update.sle.html#aus.update.df" title="List with df -h">Example 18.1, “List with <code class="command">df -h</code>”</a>, the root partition is
    <code class="filename">/dev/sda3</code> (mounted as <code class="filename">/</code>).
   </p><div class="example" id="aus.update.df"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 18.1: </span><span class="name">List with <code class="command">df -h</code> </span><a title="Permalink" class="permalink" href="cha.update.sle.html#aus.update.df">#</a></h6></div><div class="example-contents"><div class="verbatim-wrap"><pre class="screen">Filesystem     Size  Used Avail Use% Mounted on
/dev/sda3       74G   22G   53G  29% /
tmpfs          506M     0  506M   0% /dev/shm
/dev/sda5      116G  5.8G  111G   5% /home
/dev/sda1       44G    4G   40G   9% /data</pre></div></div></div></div><div class="sect2 " id="sec.update.disk.btrfs-on-root"><div class="titlepage"><div><div><h3 class="title" id="sec.update.disk.btrfs-on-root"><span class="number">18.2.2 </span><span class="name">Checking Disk Space on Btrfs Root File Systems</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.disk.btrfs-on-root">#</a></h3></div></div></div><p>
    If you use Btrfs as root file systems on your machine, make sure there is
    enough free space. Getting disk space can be done with these two commands:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">btrfs</code> filesystem df /
<code class="prompt root">root # </code><code class="command">df</code> /</pre></div><p>
    The results of the two commands show similar numbers of how much disk space
    is used. However, the problem with Btrfs and free space is that you do not
    know what is referenced in a snapshot and what is not; you cannot calculate
    how much disk space a change would need.
   </p><p>
    In the worst case, an upgrade needs as much disk space as the current root
    file system (without <code class="filename">/.snapshot</code>). Besides any Btrfs
    file systems, check for free space on other file systems as well. The
    following recommendation has been proven:
   </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
      For all file systems including Btrfs you need enough free disk space to
      download and install big RPMs. The space of old RPMs are only freed after
      new RPMs are installed.
     </p></li><li class="listitem "><p>
      For Btrfs with snapshots, you need at minimum as much free space as your
      current installation takes. It is recommended to have twice as much free
      space as the current installation.
     </p><p>
      If you do not have enough free space, you can try to delete old snapshots
      with <code class="command">snapper</code> like this:
     </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">snapper</code> list
<code class="prompt root">root # </code><code class="command">snapper</code> delete NUMBER</pre></div><p>
      However, this may not help in all cases. Before migration, most snapshots
      occupy only little space.
     </p></li></ul></div></div></div><div class="sect1 " id="sec.update.proc.prep.paths"><div class="titlepage"><div><div><h2 class="title" id="sec.update.proc.prep.paths"><span class="number">18.3 </span><span class="name">Supported Upgrade Paths for SLE</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.proc.prep.paths">#</a></h2></div></div></div><div id="idm140275156085840" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.png" /><h6>Important: Cross-architecture Upgrades Are Not Supported</h6><p>
    Cross-architecture upgrades, such as upgrading from a 32-bit version of
    <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> to the 64-bit version, or upgrading from big endian to little
    endian are <span class="emphasis"><em>not</em></span> supported!
   </p><p>
    Specifically, SLE 11 on POWER (big endian) to SLE 12 SP2 on POWER
    (new: little endian!), is <span class="emphasis"><em>not</em></span> supported.
   </p><p>
    Also, since SUSE Linux Enterprise 12 is 64-bit only, upgrades from any 32-bit SUSE Linux Enterprise 11
    systems to SUSE Linux Enterprise 12 and later are <span class="emphasis"><em>not</em></span> supported.
   </p></div><p>
   Before you perform any migration, read <a class="xref" href="cha.update.sle.html#sec.update.prep" title="18.1. General Preparations">Section 18.1, “General Preparations”</a>.
  </p><div class="variablelist "><dl class="variablelist"><dt id="idm140275156079408"><span class="term ">Upgrading from SUSE Linux Enterprise 10 (any Service Pack)</span></dt><dd><p>
      There is no supported direct migration path to SUSE Linux Enterprise 12. A fresh
      installation is recommended instead.
     </p></dd><dt id="idm140275156077440"><span class="term ">Upgrading from SUSE Linux Enterprise 11 GA, SP1 or SP2</span></dt><dd><p>
      There is no supported direct migration path to SUSE Linux Enterprise 12. You need at
      least SLE 11 SP3 before you can proceed to SLE 12.
     </p><p>
      If you cannot do a fresh install, you need to first update from SLE 11
      GA to SP1, then from SLE 11 SP1 to SP2, and then from SLE 11 SP2 to
      SP3. These steps are described in the
      <a class="link" href="https://www.suse.com/documentation/sles11/" target="_blank">SUSE Linux Enterprise 11
      Deployment Guide</a>.
     </p><p>
      Then proceed with <a class="xref" href="cha.update.sle.html#sec.update.sle12" title="18.4. Supported Methods for Upgrading SUSE Linux Enterprise">Section 18.4, “Supported Methods for Upgrading SUSE Linux Enterprise”</a>.
     </p></dd><dt id="idm140275156073024"><span class="term ">Upgrading from SUSE Linux Enterprise 11 SP3 or SP4</span></dt><dd><p>
      Refer to <a class="xref" href="cha.update.sle.html#sec.update.sle12" title="18.4. Supported Methods for Upgrading SUSE Linux Enterprise">Section 18.4, “Supported Methods for Upgrading SUSE Linux Enterprise”</a> for details.
     </p></dd><dt id="idm140275156070640"><span class="term ">Upgrading from SUSE Linux Enterprise 12 or SUSE Linux Enterprise 12 SP1 to SP2</span></dt><dd><p>
      Refer to <a class="xref" href="cha.update.spmigration.html" title="Chapter 19. Service Pack Migration">Chapter 19, <em>Service Pack Migration</em></a> for details.
     </p></dd><dt id="idm140275156068224"><span class="term ">Overview of Upgrade Paths</span></dt><dd><div class="informalfigure"><div class="mediaobject"><a xmlns="" href="images/upgrade-paths.png"><img src="images/upgrade-paths.png" width="" /></a></div></div></dd></dl></div></div><div class="sect1 " id="sec.update.sle12"><div class="titlepage"><div><div><h2 class="title" id="sec.update.sle12"><span class="number">18.4 </span><span class="name">Supported Methods for Upgrading SUSE Linux Enterprise</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12">#</a></h2></div></div></div><p>
   Upgrading from SUSE Linux Enterprise 11 SP3 to SUSE Linux Enterprise 12, SUSE Linux Enterprise 11 SP3 to
   SUSE Linux Enterprise 12 SP1, or SUSE Linux Enterprise 11 SP4 to SUSE Linux Enterprise 12 SP1 is supported
   using one of the following methods:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     <a class="xref" href="cha.update.sle.html#sec.update.sle12.manual" title="18.6. Upgrading Manually from SLE 11 SP3 or SP4 to SLE 12 SP2, Using an Installation Source">Section 18.6, “Upgrading Manually from SLE 11 SP3 or SP4 to SLE 12 SP2, Using an Installation Source”</a>
    </p></li><li class="listitem "><p>
     <a class="xref" href="cha.update.sle.html#sec.update.sle12.automated" title="18.7. Migrating Automatically from SLE 11 SP3 or SP4 to SLE 12 SP2">Section 18.7, “Migrating Automatically from SLE 11 SP3 or SP4 to SLE 12 SP2”</a>
    </p></li></ul></div></div><div class="sect1 " id="sec.update.sle12zseries"><div class="titlepage"><div><div><h2 class="title" id="sec.update.sle12zseries"><span class="number">18.5 </span><span class="name">Upgrading on IBM z Systems</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12zseries">#</a></h2></div></div></div><p>Upgrading a SUSE Linux Enterprise installation on z Systems requires the
   <code class="command">Upgrade=1</code> kernel parameter, for example via the
   parmfile. See <a class="xref" href="cha.zseries.html#sec.appdendix.parm" title="4.3. The parmfile—Automating the System Configuration">Section 4.3, “The parmfile—Automating the System Configuration”</a>.
  </p></div><div class="sect1 " id="sec.update.sle12.manual"><div class="titlepage"><div><div><h2 class="title" id="sec.update.sle12.manual"><span class="number">18.6 </span><span class="name">Upgrading Manually from SLE 11 SP3 or SP4 to SLE 12 SP2, Using an Installation Source</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12.manual">#</a></h2></div></div></div><p>
   Before you upgrade your system, read <a class="xref" href="cha.update.sle.html#sec.update.prep" title="18.1. General Preparations">Section 18.1, “General Preparations”</a>
   first.
  </p><p>
   To upgrade your system this way, you need to boot from an installation
   source, like you would do for a fresh installation. However, when the boot
   screen appears, you need to select <span class="guimenu">Upgrade</span> (instead of
   <span class="guimenu">Installation</span>). The installation source to boot from can
   be one of the following:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     A local installation medium (like a DVD, or an ISO image on a USB mass
     storage device). For detailed instructions, see
     <a class="xref" href="cha.update.sle.html#sec.update.sle12.manual.dvd" title="18.6.1. Upgrading from an Installation Medium">Section 18.6.1, “Upgrading from an Installation Medium”</a>.
    </p></li><li class="listitem "><p>
     A network installation source. You can either boot from the local medium
     and then select the respective network installation type, or boot via PXE.
     For detailed instructions, see
     <a class="xref" href="cha.update.sle.html#sec.update.sle12.manual.network" title="18.6.2. Upgrading from a Network Installation Source">Section 18.6.2, “Upgrading from a Network Installation Source”</a>.
    </p></li></ul></div><div class="sect2 " id="sec.update.sle12.manual.dvd"><div class="titlepage"><div><div><h3 class="title" id="sec.update.sle12.manual.dvd"><span class="number">18.6.1 </span><span class="name">Upgrading from an Installation Medium</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12.manual.dvd">#</a></h3></div></div></div><p>
    The procedure below describes booting from a DVD as an example, but you can
    also use another local installation medium like an ISO image on a USB mass
    storage device. The way to select the boot method and to start up the
    system from the medium depends on the system architecture and on whether
    the machine has a traditional BIOS or UEFI. For details, see the links
    below.
   </p><div class="procedure " id="pro.update.sle12.manual.dvd"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 18.1: </span><span class="name">Manually Upgrading from SLE 11 SP3 or SP4 to SLE 12 SP2, Using a DVD </span><a title="Permalink" class="permalink" href="cha.update.sle.html#pro.update.sle12.manual.dvd">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
      Insert DVD 1 of the SUSE Linux Enterprise 12 SP2 installation medium and boot your
      machine. A <span class="guimenu">Welcome</span> screen is displayed, followed by
      the boot screen.
     </p></li><li class="step "><p>
      Select the respective boot method to start the system from the medium
      (see <a class="xref" href="cha.inst.html#sec.i.yast2.method" title="6.1. Choosing the Installation Method">Section 6.1, “Choosing the Installation Method”</a>).
     </p></li><li class="step "><p>
      Start up the system from the medium (see
      <a class="xref" href="cha.inst.html#sec.i.yast2.startup" title="6.2. System Start-up for Installation">Section 6.2, “System Start-up for Installation”</a>).
     </p></li><li class="step "><p>
      Proceed with the upgrade process as described in
      <a class="xref" href="cha.update.sle.html#sec.update.sle12.start.upgr.after.boot" title="18.8. Starting the Upgrade Process After Booting">Section 18.8, “Starting the Upgrade Process After Booting”</a>.
     </p></li></ol></div></div></div><div class="sect2 " id="sec.update.sle12.manual.network"><div class="titlepage"><div><div><h3 class="title" id="sec.update.sle12.manual.network"><span class="number">18.6.2 </span><span class="name">Upgrading from a Network Installation Source</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12.manual.network">#</a></h3></div></div></div><p>
    If you want to start an upgrade from a network installation source, make
    sure that the following requirements are met:
   </p><div class="variablelist "><div class="variablelist-title-wrap"><h6 class="variablelist-title"><span class="name">Requirements for Upgrading from a Network Installation Source </span><a title="Permalink" class="permalink" href="cha.update.sle.html#idm140275156033232">#</a></h6></div><dl class="variablelist"><dt id="idm140275156032448"><span class="term ">Network Installation Source</span></dt><dd><p>
       A network installation source is set up according to
       <a class="xref" href="cha.deployment.instserver.html" title="Chapter 7. Setting Up the Server Holding the Installation Sources">Chapter 7, <em>Setting Up the Server Holding the Installation Sources</em></a>.
      </p></dd><dt id="idm140275156030064"><span class="term ">Network Connection and Network Services</span></dt><dd><p>
       Both the installation server and the target machine have a functioning
       network connection. The network must provide the following services: a
       name service, DHCP (optional, but needed for booting via PXE), and
       OpenSLP (optional).
      </p></dd><dt id="idm140275156028000"><span class="term ">Installation Media</span></dt><dd><p>
       You have a SUSE Linux Enterprise DVD 1 (or a local ISO image) at hand to boot the target
       system <span class="emphasis"><em>or</em></span> a target system that is set up for
       booting via PXE according to
       <a class="xref" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.pxeprep" title="8.5. Preparing the Target System for PXE Boot">Section 8.5, “Preparing the Target System for PXE Boot”</a>.
       Refer to <a class="xref" href="cha.deployment.remoteinst.html" title="Chapter 9. Remote Installation">Chapter 9, <em>Remote Installation</em></a> for in-depth
       information on starting the upgrade from a remote server.
      </p></dd></dl></div><p>
    When upgrading from network installation source, you can either boot from
    the local medium and then select the respective network installation type,
    or boot via PXE. Select the method of your choice and proceed as described
    in
    <a class="xref" href="cha.update.sle.html#pro.update.sle12.manual.network.boot-from-dvd" title="Manually Upgrading from SLE 11 SP3 or SP4 to SLE 12 SP2 via Network Installation Source—Booting from DVD">Procedure 18.2</a>
    or
    <a class="xref" href="cha.update.sle.html#pro.update.sle12.manual.network.pxe-boot" title="Manually Upgrading from SLE 11 SP3 or SP4 to SLE 12 SP2 via Network Installation Source—Booting via PXE">Procedure 18.3</a>.
   </p><div class="procedure " id="pro.update.sle12.manual.network.boot-from-dvd"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 18.2: </span><span class="name">Manually Upgrading from SLE 11 SP3 or SP4 to SLE 12 SP2 via Network Installation Source—Booting from DVD </span><a title="Permalink" class="permalink" href="cha.update.sle.html#pro.update.sle12.manual.network.boot-from-dvd">#</a></h6></div><div class="procedure-contents"><p>
     This procedure describes booting from a DVD as an example, but you can
     also use another local installation medium like an ISO image on a USB mass
     storage device. The way to select the boot method and to start up the
     system from the medium depends on the system architecture and on whether
     the machine has a traditional BIOS or UEFI. For details, see the links
     below.
    </p><ol class="procedure" type="1"><li class="step "><p>
      Insert DVD 1 of the SUSE Linux Enterprise 12 SP2 installation media and boot your
      machine. A <span class="guimenu">Welcome</span> screen is displayed, followed by
      the boot screen.
     </p></li><li class="step "><p>
      Select the type of network installation source you want to use (FTP,
      HTTP, NFS, SMB, or SLP). Usually you get this choice by pressing
      <span class="keycap">F4</span>, but in case your machine is equipped with UEFI
      instead of a traditional BIOS, you may need to manually adjust boot
      parameters. For details, see <a class="xref" href="cha.inst.html#sec.i.yast2.source.net">Installing from a Network Server</a> in
      <a class="xref" href="cha.inst.html" title="Chapter 6. Installation with YaST">Chapter 6, <em>Installation with YaST</em></a>.
     </p></li><li class="step "><p>
      Proceed with the upgrade process as described in
      <a class="xref" href="cha.update.sle.html#sec.update.sle12.start.upgr.after.boot" title="18.8. Starting the Upgrade Process After Booting">Section 18.8, “Starting the Upgrade Process After Booting”</a>.
     </p></li></ol></div></div><div class="procedure " id="pro.update.sle12.manual.network.pxe-boot"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 18.3: </span><span class="name">Manually Upgrading from SLE 11 SP3 or SP4 to SLE 12 SP2 via Network Installation Source—Booting via PXE </span><a title="Permalink" class="permalink" href="cha.update.sle.html#pro.update.sle12.manual.network.pxe-boot">#</a></h6></div><div class="procedure-contents"><p>
     To perform an upgrade from a network installation source using PXE Boot,
     proceed as follows:
    </p><ol class="procedure" type="1"><li class="step "><p>
      Adjust the setup of your DHCP server to provide the address information
      needed for booting via PXE. For details, see
      <a class="xref" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.pxeprep" title="8.5. Preparing the Target System for PXE Boot">Section 8.5, “Preparing the Target System for PXE Boot”</a>.
     </p></li><li class="step "><p>
      Set up a TFTP server to hold the boot image needed for booting via PXE.
      Use DVD 1 of your SUSE Linux Enterprise 12 SP2 installation media for this or follow the
      instructions in <a class="xref" href="cha.deployment.prep_boot.html#sec.deployment.prep_boot.tftp" title="8.2. Setting Up a TFTP Server">Section 8.2, “Setting Up a TFTP Server”</a>.
     </p></li><li class="step "><p>
      Prepare PXE Boot and Wake-on-LAN on the target machine.
     </p></li><li class="step "><p>
      Initiate the boot of the target system and use VNC to remotely connect to
      the installation routine running on this machine. For more information,
      see <a class="xref" href="cha.deployment.remoteinst.html#sec.deployment.remoteinst.monitor.vnc" title="9.3.1. VNC Installation">Section 9.3.1, “VNC Installation”</a>.
     </p></li><li class="step "><p>
      Proceed with the upgrade process as described in
      <a class="xref" href="cha.update.sle.html#sec.update.sle12.start.upgr.after.boot" title="18.8. Starting the Upgrade Process After Booting">Section 18.8, “Starting the Upgrade Process After Booting”</a>.
     </p></li></ol></div></div></div></div><div class="sect1 " id="sec.update.sle12.automated"><div class="titlepage"><div><div><h2 class="title" id="sec.update.sle12.automated"><span class="number">18.7 </span><span class="name">Migrating Automatically from SLE 11 SP3 or SP4 to SLE 12 SP2</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12.automated">#</a></h2></div></div></div><p>
   Before you upgrade your system, read <a class="xref" href="cha.update.sle.html#sec.update.prep" title="18.1. General Preparations">Section 18.1, “General Preparations”</a>
   first. To perform an automated migration, proceed as follows:
  </p><div class="procedure " id="pro.update.sle12.automated"><div class="procedure-title-wrap"><h6 class="procedure-title"><span class="number">Procedure 18.4: </span><span class="name">Automated Migration from SUSE Linux Enterprise 11 SP3 or SP4 to SUSE Linux Enterprise 12 SP2 </span><a title="Permalink" class="permalink" href="cha.update.sle.html#pro.update.sle12.automated">#</a></h6></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Copy the installation Kernel <code class="filename">linux</code> and the file
     <code class="filename">initrd</code> from <code class="filename">/boot/x86_64/loader/</code>
     from your first installation DVD to your system's
     <code class="filename">/boot</code> directory:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="command">cp</code> -vi <em class="replaceable ">DVDROOT</em>/boot/x86_64/loader/linux /boot/linux.upgrade
<code class="command">cp</code> -vi <em class="replaceable ">DVDROOT</em>/boot/x86_64/loader/initrd /boot/initrd.upgrade</pre></div><p>
     <em class="replaceable ">DVDROOT</em> denotes the path where your system
     mounts the DVD, usually <code class="filename">/run/media/$USER/$DVDNAME</code>.
    </p></li><li class="step "><p>
     Open the GRUB legacy configuration file
     <code class="filename">/boot/grub/menu.lst</code> and add another section. For
     other boot loaders, edit the respective configuration file(s). Adjust
     device names and the <em class="parameter ">root</em> parameter accordingly.
     For example:
    </p><div class="verbatim-wrap"><pre class="screen">title Linux Upgrade Kernel
kernel (hd0,0)/boot/linux.upgrade root=/dev/sda1 upgrade=1 <em class="replaceable ">OPTIONAL_PARAMETERS</em>
initrd (hd0,0)/boot/initrd.upgrade</pre></div><p>
     <em class="replaceable ">OPTIONAL_PARAMETERS</em> denote additional boot
     parameters which you might need to boot your system and perform the
     upgrade. These may be kernel parameters needed for your system—check
     if you need to review and copy those from an existing GRUB entry. They
     also may be SUSE
     <a class="link" href="http://en.opensuse.org/Linuxrc" target="_blank">linuxrc parameters,
     documented online</a>.
    </p></li><li class="step "><p>

     If the upgrade should be done automated, add the
     <code class="option">autoupgrade=1</code> to the end of the <code class="literal">kernel</code>
     line in your GRUB configuration.
    </p></li><li class="step "><p>
     Reboot your machine and select the newly added section from the boot menu
     (here: <span class="emphasis"><em>Linux Upgrade Kernel</em></span>). You can use
     <code class="command">grubonce</code> to preselect the newly created GRUB entry for
     an unattended automatic reboot into the newly created entry. You can also
     use <code class="command">reboot</code> to initiate the reboot from the command
     line.
    </p></li><li class="step "><p>
     Proceed with the usual upgrade process as described in
     <a class="xref" href="cha.update.sle.html#sec.update.sle12.start.upgr.after.boot" title="18.8. Starting the Upgrade Process After Booting">Section 18.8, “Starting the Upgrade Process After Booting”</a>.
    </p></li><li class="step "><p>
     After the upgrade process was finished successfully, remove the
     installation Kernel and initrd files
     (<code class="filename">/boot/linux.upgrade</code> and
     <code class="filename">/boot/initrd.upgrade</code>). They are not needed anymore.
    </p></li></ol></div></div></div><div class="sect1 " id="sec.update.sle12.start.upgr.after.boot"><div class="titlepage"><div><div><h2 class="title" id="sec.update.sle12.start.upgr.after.boot"><span class="number">18.8 </span><span class="name">Starting the Upgrade Process After Booting</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12.start.upgr.after.boot">#</a></h2></div></div></div><p>
   
  </p><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     After you have booted (either from an installation medium or the network),
     select the <span class="guimenu">Upgrade</span> entry on the boot screen.
    </p><div id="idm140275155975168" class="admonition warning normal"><img class="symbol" alt="Warning" title="Warning" src="static/images/icon-warning.png" /><h6>Warning: Wrong Choice May Lead to Data Loss</h6><p>
      If you select <span class="guimenu">Installation</span> instead of
      <span class="guimenu">Upgrade</span>, data may be lost later. You need to be extra
      careful to not destroy your data partitions by doing a fresh
      installation, for example by repartitioning the disks (which can destroy
      the existing partitions) or by reformatting the data partitions (which
      erases all data on them).
     </p><p>
      Make sure to select <span class="guimenu">Upgrade</span> here.
     </p></div><p>
     YaST starts the installation system.
    </p></li><li class="step "><p>
     On the <span class="guimenu">Welcome</span> screen choose
     <span class="guimenu">Language</span> and <span class="guimenu">Keyboard</span> and accept the
     license agreement. Proceed with <span class="guimenu">Next</span>.
    </p><p>
     YaST checks your partitions for already installed SUSE Linux Enterprise systems.
    </p></li><li class="step "><p>
     On the <span class="guimenu">Select for Upgrade</span> screen, select the partition
     to upgrade and click <span class="guimenu">Next</span>.
    </p><p>
     YaST mounts the selected partition and displays all repositories that
     have been found on the partition that you want to upgrade.
    </p></li><li class="step "><p>
     On the <span class="guimenu">Previously Used Repositories</span> screen, adjust the
     status of the repositories: enable those you want to include in the
     upgrade process and disable any repositories that are no longer needed.
     Proceed with <span class="guimenu">Next</span>.
    </p></li><li class="step "><p>
     On the <span class="guimenu">Registration</span> screen, select whether to register
     the upgraded system now (by entering your registration data and clicking
     <span class="guimenu">Next</span>) or if to <span class="guimenu">Skip Registration</span>.
     For details on registering your system, see
     <a class="xref" href="cha.update.sle.html#sec.update.registersystem" title="18.11. Registering Your System">Section 18.11, “Registering Your System”</a>.
    </p></li><li class="step "><p>
     Review the <span class="guimenu">Installation Settings</span> for the upgrade,
     especially the <span class="guimenu">Update Options</span>. Choose between the
     following options:
    </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
       <span class="guimenu">Only Update Installed Packages</span>, in which case you
       might miss new features shipped with the latest SUSE Linux Enterprise version.
      </p></li><li class="listitem "><p>
       <span class="guimenu">Update with Installation of New Software and
       Features</span>. Click <span class="guimenu">Select Patterns</span> if you want
       to enable or disable patterns and packages according to your wishes.
      </p></li></ul></div><div id="idm140275155954960" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note: Choice of Desktop</h6><p>
      If you used KDE before upgrading to SUSE Linux Enterprise 12
      (<code class="varname">DEFAULT_WM</code> in
      <code class="filename">/etc/sysconfig/windowmanager</code> was set to
      <code class="literal">kde*</code>), your desktop environment will automatically be
      replaced with GNOME after the upgrade. By default, the KDM display
      manager will be replaced with GDM.
     </p><p>
      To change the choice of desktop environment or window manager, adjust the
      software selection by clicking <span class="guimenu">Select Patterns</span>.
     </p></div></li><li class="step "><p>
     If all settings are according to your wishes, start the installation and
     removal procedure by clicking <span class="guimenu">Update</span>.
    </p></li><li class="step "><p>
     After the upgrade process was finished successfully, check for any
     <span class="quote">“<span class="quote">orphaned packages</span>”</span>. Orphaned packages are packages which
     belong to no active repository anymore. The following command gives you a
     list of these:
    </p><div class="verbatim-wrap"><pre class="screen">zypper packages --orphaned</pre></div><p>
     With this list, you can decide if a package is still needed or can be
     uninstalled safely.
    </p></li></ol></div></div></div><div class="sect1 " id="sec.update.sle12.manager"><div class="titlepage"><div><div><h2 class="title" id="sec.update.sle12.manager"><span class="number">18.9 </span><span class="name">Updating via SUSE Manager</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12.manager">#</a></h2></div></div></div><p>
   SUSE Manager is a server solution for providing updates, patches, and security
   fixes for SUSE Linux Enterprise clients. It comes with a set of tools and a Web-based user
   interface for management tasks. See
   <a class="link" href="https://www.suse.com/products/suse-manager/" target="_blank">https://www.suse.com/products/suse-manager/</a> for
   details.
  </p></div><div class="sect1 " id="sec.update.reg.status.after.rollback"><div class="titlepage"><div><div><h2 class="title" id="sec.update.reg.status.after.rollback"><span class="number">18.10 </span><span class="name">Updating Registration Status After Rollback</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.reg.status.after.rollback">#</a></h2></div></div></div><p>
   When performing a service pack migration, it is necessary to change the
   configuration on the registration server to provide access to the new
   repositories. If the migration process is interrupted or reverted (via
   restoring from a backup or snapshot), the information on the registration
   server is inconsistent with the status of the system. This may lead to you
   being prevented from accessing update repositories or to wrong repositories
   being used on the client.
  </p><p>
   When a rollback is done via Snapper, the system will notify the registration
   server to ensure access to the correct repositories is set up during the
   boot process. If the system was restored any other way or the communication
   with the registration server failed for any reason (for example, because the
   server was not accessible because of network issues), trigger the rollback
   on the client manually by calling:
  </p><div class="verbatim-wrap"><pre class="screen"><code class="command">snapper</code> rollback</pre></div><p>
   We suggest always checking that the correct repositories are set up on the
   system, especially after refreshing the service using
  </p><div class="verbatim-wrap"><pre class="screen"><code class="command">zypper</code> ref -s</pre></div><p>
   This functionality is available in the
   <span class="package">rollback-helper</span>
   package.
  </p></div><div class="sect1 " id="sec.update.registersystem"><div class="titlepage"><div><div><h2 class="title" id="sec.update.registersystem"><span class="number">18.11 </span><span class="name">Registering Your System</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.registersystem">#</a></h2></div></div></div><p>
   If you skipped the registration step during the installation, you can
   register your system at any time using the <span class="guimenu">Product
   Registration</span> module in YaST.
  </p><p>
   Registering your systems has these advantages:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     Getting support
    </p></li><li class="listitem "><p>
     Getting security updates and bug fixes
    </p></li><li class="listitem "><p>
     Access to SUSE Customer Center
    </p></li></ul></div><div class="procedure "><div class="procedure-contents"><ol class="procedure" type="1"><li class="step "><p>
     Start YaST and select <span class="guimenu">Software</span> › <span class="guimenu">Product Registration</span> to open the
     <span class="guimenu">Registration</span> dialog.
    </p></li><li class="step "><p>
     Provide the <span class="guimenu">E-mail</span> address associated with the SUSE
     account you or your organization uses to manage subscriptions. In case you
     do not have a SUSE account yet, go to the SUSE Customer Center home page
     (<a class="link" href="https://scc.suse.com/" target="_blank">https://scc.suse.com/</a>) to create one.
    </p></li><li class="step "><p>
     Enter the <span class="guimenu">Registration Code</span> you received with your copy
     of <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span>.
    </p></li><li class="step " id="step.y2.register.final"><p>
     Proceed with <span class="guimenu">Next</span> to start the registration process. If
     one or more local registration servers are available on your network, you
     can choose one of them from a list. Alternatively, choose
     <span class="guimenu">Cancel</span> to ignore the local registration servers and
     register with the default SUSE registration server.
    </p><p>
     During the registration, the online update repositories will be added to
     your upgrade setup. When finished, you can choose whether to install the
     latest available package versions from the update repositories. This
     provides a clean upgrade path for all packages and ensures that
     <span class="productname"><span class="phrase">SUSE Linux Enterprise Server</span></span> is upgraded with the latest security updates available. If
     you choose <span class="guimenu">No</span>, all packages will be installed from the
     installation media. Proceed with <span class="guimenu">Next</span>.
    </p><p>
     After successful registration, YaST lists extensions, add-ons, and
     modules that are available for your system. To select and install them,
     proceed with <a class="xref" href="cha.add-ons.html#sec.add-ons.extensions" title="13.1. Installing Modules and Extensions from Online Channels">Section 13.1, “Installing Modules and Extensions from Online Channels”</a>.
    </p></li></ol></div></div></div><div class="sect1 " id="sec.update.sle12.multiversion"><div class="titlepage"><div><div><h2 class="title" id="sec.update.sle12.multiversion"><span class="number">18.12 </span><span class="name">Retaining Kernel Packages</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12.multiversion">#</a></h2></div></div></div><a id="idm140275155915248" class="indexterm"></a><p>
   When installing a new kernel with YaST or Zypper, SUSE Linux Enterprise preserves the last
   two kernels and the running one. Usually this is sufficient.
  </p><p>
   However, there may be situations where you need to preserve more kernel
   versions, for example, for testing purposes. To enable this, SUSE Linux Enterprise supports
   the <span class="emphasis"><em>multiversion kernel feature</em></span>. By enabling and
   configuring this feature the default behavior can be changed and configured
   to:
  </p><div class="itemizedlist "><ul class="itemizedlist"><li class="listitem "><p>
     delete an old kernel only after the system has been rebooted successfully
     with the new kernel
    </p></li><li class="listitem "><p>
     keep a specified number of older kernels as fallback
    </p></li><li class="listitem "><p>
     keep a specific kernel version
    </p></li></ul></div><p>
   After the successful reboot, a script will compare the list of installed
   kernels with the settings in <code class="filename">/etc/zypp/zypp.conf</code> and
   delete those kernels that are no longer needed.
  </p><div class="sect2 " id="sec.update.sle12.multiversion.enable"><div class="titlepage"><div><div><h3 class="title" id="sec.update.sle12.multiversion.enable"><span class="number">18.12.1 </span><span class="name">Enabling the Multiversion Kernel Feature</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12.multiversion.enable">#</a></h3></div></div></div><p>
    The default behavior is defined in the configuration file
    <code class="filename">/etc/zypp/zypp.conf</code>:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root">root # </code><code class="command">grep</code> ^multiversion /etc/zypp/zypp.conf
multiversion = provides:multiversion(kernel)
multiversion.kernels = latest,latest-1,running</pre></div><p>
    Remove any hash mark (#) before the line <code class="literal">multiversion</code>
    above to enable this feature (which should already be the case). The second
    line is used to configure <span class="emphasis"><em>which</em></span> kernels need to be
    preserved. You need to enable both, otherwise the system will keep
    <span class="emphasis"><em>all</em></span> kernels and it will fill up your hard disk.
   </p><p>
    The <code class="literal">multiversion.kernels</code> line can contain several
    keywords in different combinations and order:
   </p><div class="variablelist "><dl class="variablelist"><dt id="idm140275155901552"><span class="term "><code class="option">latest</code>
     </span></dt><dd><p>
       Keep kernel with the highest version number
      </p></dd><dt id="idm140275155899424"><span class="term "><code class="option">latest-<em class="replaceable ">N</em></code>
     </span></dt><dd><p>
       Keep kernel with the <em class="replaceable ">N</em>th highest version
       number; <em class="replaceable ">N</em> is a number starting from 1
      </p></dd><dt id="idm140275155896160"><span class="term "><code class="option">running</code>
     </span></dt><dd><p>
       Keep the current running kernel
      </p></dd><dt id="idm140275155894048"><span class="term "><code class="option">oldest</code>
     </span></dt><dd><p>
       Keep kernel with the lowest version number (the kernel on the released
       product)
      </p></dd><dt id="idm140275155891888"><span class="term "><code class="option">oldest-<em class="replaceable ">N</em></code>
     </span></dt><dd><p>
       Keep kernel with the <em class="replaceable ">N</em>th lowest version
       number
      </p></dd><dt id="idm140275155889040"><span class="term "><code class="option">3.12.28-4.6</code>
     </span></dt><dd><p>
       Keep this exact kernel version
      </p></dd></dl></div></div><div class="sect2 " id="sec.update.sle12.multiversion.deleteoldkernel"><div class="titlepage"><div><div><h3 class="title" id="sec.update.sle12.multiversion.deleteoldkernel"><span class="number">18.12.2 </span><span class="name">Use Case: Deleting an Old Kernel After Reboot Only</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12.multiversion.deleteoldkernel">#</a></h3></div></div></div><p>
    You want to make sure that an old kernel will only be deleted after the
    system has rebooted successfully of the new kernel.
   </p><p>
    Change the following line in <code class="filename">/etc/zypp/zypp.conf</code>:
   </p><div class="verbatim-wrap"><pre class="screen">multiversion.kernels = latest,running</pre></div><p>
    The previous parameters tell the system to keep the latest kernel and the
    running one only if they differ.
   </p></div><div class="sect2 " id="sec.update.sle12.multiversion.fallback"><div class="titlepage"><div><div><h3 class="title" id="sec.update.sle12.multiversion.fallback"><span class="number">18.12.3 </span><span class="name">Use Case: Keeping Older Kernels as Fallback</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12.multiversion.fallback">#</a></h3></div></div></div><p>
    You want to keep one or more kernel versions to have one or more
    <span class="quote">“<span class="quote">spare</span>”</span> kernels.
   </p><p>
    This use case can be useful if you need kernels for testing reasons. In
    case something goes wrong, for example, your machine does not boot, you
    still can use one or more kernel versions which are known to be good.
   </p><p>
    Change the following line in <code class="filename">/etc/zypp/zypp.conf</code>:
   </p><div class="verbatim-wrap"><pre class="screen">multiversion.kernels = latest,latest-1,latest-2,running</pre></div><p>
    When you reboot your system after the installation of a new kernel, the
    system will keep three kernels: the new and running kernel (configured as
    <code class="literal">latest,running</code>), the previous kernel version of the new
    kernel (configured as <code class="literal">latest-1</code>), and the predecessor of
    the previous kernel version (configured as <code class="literal">latest-2</code>).
   </p></div><div class="sect2 " id="sec.update.sle12.multiversion.specificversion"><div class="titlepage"><div><div><h3 class="title" id="sec.update.sle12.multiversion.specificversion"><span class="number">18.12.4 </span><span class="name">Use Case: Keep a Specific Kernel Version</span> <a title="Permalink" class="permalink" href="cha.update.sle.html#sec.update.sle12.multiversion.specificversion">#</a></h3></div></div></div><p>
    You make regular system updates and install new kernel versions. However,
    you are also compiling your own kernel version for various reasons and want
    to make sure that the system will keep it.
   </p><p>
    Change the following line in <code class="filename">/etc/zypp/zypp.conf</code>:
   </p><div class="verbatim-wrap"><pre class="screen">multiversion.kernels = latest,3.12.28-4.20,running</pre></div><p>
    When you reboot your system after the installation of a new kernel, the
    system will keep two kernels: the new and running kernel (configured as
    <code class="literal">latest,running</code>) and your self-compiled kernel
    (configured as <code class="literal">3.12.28-4.20</code>).
   </p></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.update.spmigration.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 19 </span>Service Pack Migration</span></a><a class="nav-link" href="cha.update.background.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 17 </span>Life Cycle and Support</span></a></div><div id="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span id="_share-fb" class="bottom-button">Facebook</span><span class="spacer"> • </span><span id="_share-gp" class="bottom-button">Google+</span><span class="spacer"> • </span><span id="_share-tw" class="bottom-button">Twitter</span><span class="spacer"> • </span><span id="_share-mail" class="bottom-button">E-Mail</span></span></div><div class="print"><span id="_print-button" class="bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2018 
        SUSE</p><ul><li><a href="http://www.suse.com/company/careers/" target="_top">Careers</a></li><li><a href="http://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="http://www.suse.com/company/" target="_top">About</a></li><li><a href="http://www.suse.com/ContactsOffices/contacts_offices.jsp" target="_top">Contact Us</a></li></ul></div></div></body></html>